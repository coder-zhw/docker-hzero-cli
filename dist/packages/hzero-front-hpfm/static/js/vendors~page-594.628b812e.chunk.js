(window["webpackJsonppackages_hzero_front_hpfm_name_"]=window["webpackJsonppackages_hzero_front_hpfm_name_"]||[]).push([[143],{17:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return _});a(516);var n,o,i,r,l,s,c,d=a(515),u=(a(503),a(506)),m=a(131),p=a(493),f=a(494),h=a(496),g=a(495),v=a(497),b=a(500),y=(a(510),a(505)),O=a(1),j=a.n(O),C=a(499),k=a(681),w=a(501),z=a(655),x=a(564),_=(n=y["default"].create({fieldNameProp:null}),o=Object(C["Bind"])(),i=Object(C["Bind"])(),n((c=s=function(e){function t(e){var a;return Object(p["a"])(this,t),a=Object(h["a"])(this,Object(g["a"])(t).call(this,e)),a.state={detail:{}},a}return Object(v["a"])(t,e),Object(f["a"])(t,[{key:"componentDidMount",value:function(){this.handleQueryDetail()}},{key:"componentDidUpdate",value:function(e){!1===e.visible&&!0===this.props.visible&&this.handleQueryDetail()}},{key:"handleQueryDetail",value:function(){var e=this,t=this.props,a=t.isCreate,n=t.itemData;if(!a&&n.regionId){var o=this.props.queryDetail;o({regionId:n.regionId}).then(function(t){t&&e.setState({detail:t})})}}},{key:"handleAfterClose",value:function(){this.setState({detail:{}})}},{key:"saveBtn",value:function(){var e=this.props,t=e.form,a=e.onOk,n=e.itemData;a&&t.validateFields(function(e,t){e||a(Object(m["a"])({},n,t))})}},{key:"render",value:function(){var e=this.props,t=e.anchor,a=e.title,n=e.visible,o=e.form,i=e.loading,r=e.onCancel,l=e.isCreate,s=void 0!==l&&l,c=e.queryDetailLoading,m=void 0!==c&&c,p=this.state.detail,f=p._token,h=p.regionCode,g=p.regionName,v=p.quickIndex;return j.a.createElement(d["default"],{destroyOnClose:!0,afterClose:this.handleAfterClose,title:a,width:520,wrapClassName:"ant-modal-sidebar-".concat(t),transitionName:"move-".concat(t),visible:n,confirmLoading:i,okButtonProps:{disabled:!n||m},onOk:this.saveBtn,onCancel:r,cancelText:w["a"].get("hzero.common.button.cancel").d("\u53d6\u6d88")},j.a.createElement(y["default"],null,j.a.createElement(y["default"].Item,Object.assign({},x["u"],{label:w["a"].get("hpfm.region.model.region.regionCode").d("\u533a\u57df\u4ee3\u7801")}),o.getFieldDecorator("regionCode",{initialValue:h,rules:[{required:!0,message:w["a"].get("hzero.common.validation.notNull",{name:w["a"].get("hpfm.region.model.region.regionCode").d("\u533a\u57df\u4ee3\u7801")})},{pattern:z["c"],message:w["a"].get("hzero.common.validation.codeUpper").d("\u5168\u5927\u5199\u53ca\u6570\u5b57\uff0c\u5fc5\u987b\u4ee5\u5b57\u6bcd\u3001\u6570\u5b57\u5f00\u5934\uff0c\u53ef\u5305\u542b\u201c-\u201d\u3001\u201c_\u201d\u3001\u201c.\u201d\u3001\u201c/\u201d")},{max:30,message:w["a"].get("hzero.common.validation.max",{max:30})}]})(j.a.createElement(u["default"],{trim:!0,inputChinese:!1,typeCase:"upper",disabled:!s}))),j.a.createElement(y["default"].Item,Object.assign({},x["u"],{label:w["a"].get("hpfm.region.model.region.regionName").d("\u533a\u57df\u540d\u79f0")}),o.getFieldDecorator("regionName",{initialValue:g,rules:[{required:!0,message:w["a"].get("hzero.common.validation.notNull",{name:w["a"].get("hpfm.region.model.region.regionName").d("\u533a\u57df\u540d\u79f0")})},{max:120,message:w["a"].get("hzero.common.validation.max",{max:120})}]})(j.a.createElement(k["a"],{label:w["a"].get("hpfm.region.model.region.regionName").d("\u533a\u57df\u540d\u79f0"),field:"regionName",token:f}))),j.a.createElement(y["default"].Item,Object.assign({},x["u"],{label:w["a"].get("hpfm.region.model.region.quickIndex").d("\u5feb\u901f\u7d22\u5f15")}),o.getFieldDecorator("quickIndex",{initialValue:v,rules:[{max:30,message:w["a"].get("hzero.common.validation.max",{max:30})}]})(j.a.createElement(k["a"],{label:w["a"].get("hpfm.region.model.region.quickIndex").d("\u5feb\u901f\u7d22\u5f15"),field:"quickIndex",token:f})))))}}]),t}(O["PureComponent"]),s.defaultProps={anchor:"left",title:"",visible:!1,onOk:function(e){return e},onCancel:function(e){return e}},l=c,Object(b["a"])(l.prototype,"handleAfterClose",[o],Object.getOwnPropertyDescriptor(l.prototype,"handleAfterClose"),l.prototype),Object(b["a"])(l.prototype,"saveBtn",[i],Object.getOwnPropertyDescriptor(l.prototype,"saveBtn"),l.prototype),r=l))||r)},500:function(e,t,a){"use strict";function n(e,t,a,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=a.slice().reverse().reduce(function(a,n){return n(e,t,a)||a},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}a.d(t,"a",function(){return n})},516:function(e,t,a){"use strict";a(498),a(549),a(502)},549:function(e,t,a){e.exports={"ant-modal":"ant-modal","ant-modal-wrap":"ant-modal-wrap","ant-modal-title":"ant-modal-title","ant-modal-content":"ant-modal-content","ant-modal-close":"ant-modal-close","ant-modal-close-x":"ant-modal-close-x","ant-modal-header":"ant-modal-header","ant-modal-body":"ant-modal-body","ant-modal-footer":"ant-modal-footer","zoom-enter":"zoom-enter","zoom-appear":"zoom-appear","ant-modal-mask":"ant-modal-mask","ant-modal-mask-hidden":"ant-modal-mask-hidden","ant-modal-open":"ant-modal-open","vertical-center-modal":"vertical-center-modal","ant-confirm":"ant-confirm","ant-confirm-body-wrapper":"ant-confirm-body-wrapper","ant-confirm-body":"ant-confirm-body","ant-confirm-title":"ant-confirm-title","ant-confirm-content":"ant-confirm-content",anticon:"anticon","ant-confirm-btns":"ant-confirm-btns","ant-confirm-error":"ant-confirm-error","ant-confirm-warning":"ant-confirm-warning","ant-confirm-confirm":"ant-confirm-confirm","ant-confirm-info":"ant-confirm-info","ant-confirm-success":"ant-confirm-success"}},655:function(e,t,a){"use strict";a.d(t,"d",function(){return n}),a.d(t,"e",function(){return o}),a.d(t,"a",function(){return i}),a.d(t,"b",function(){return r}),a.d(t,"c",function(){return l});var n=/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,6}$/,o=/^134[0-8]\d{7}$|^13[^4]\d{8}$|^14[5-9]\d{8}$|^15[^4]\d{8}$|^16[6]\d{8}$|^17[0-8]\d{8}$|^18[\d]{9}$|^19[8,9]\d{8}$/,i=/^[a-zA-Z0-9][a-zA-Z0-9-_.\/]*$/,r=/^[a-z0-9][a-z0-9-_.\/]*$/,l=/^[A-Z0-9][A-Z0-9-_.\/]*$/},681:function(e,t,a){"use strict";a(503);var n,o,i,r,l,s,c,d,u,m,p,f,h,g,v=a(506),b=(a(513),a(514)),y=a(509),O=a(131),j=a(132),C=a(493),k=a(494),w=a(496),z=a(495),x=a(497),_=a(500),E=a(540),D=a.n(E),N=a(1),A=a.n(N),S=a(499),F=a(504),V=(a(516),a(515)),L=(a(510),a(505)),P=a(501),B=L["default"].Item,I={labelCol:{sm:{span:6}},wrapperCol:{sm:{span:14}}},$=(n=L["default"].create({fieldNameProp:null}),o=Object(S["Bind"])(),n((r=function(e){function t(){return Object(C["a"])(this,t),Object(w["a"])(this,Object(z["a"])(t).apply(this,arguments))}return Object(x["a"])(t,e),Object(k["a"])(t,[{key:"saveAndClose",value:function(){var e=this.props,t=e.onOK,a=void 0===t?function(e){return e}:t,n=e.form;n.validateFields(function(e,t){e||a(t)})}},{key:"render",value:function(){var e=this.props,t=e.modalVisible,a=e.onCancel,n=e.form,o=e.list,i=e.label,r=e.width,l=void 0===r?"520px":r,s=e.inputSize,c=void 0===s?{}:s,d=n.getFieldDecorator,u=c.zh,m=void 0===u?60:u,p=c.en,f=void 0===p?120:p;return A.a.createElement(V["default"],{destroyOnClose:!0,title:i,width:l,visible:t,onCancel:a,onOk:this.saveAndClose},A.a.createElement(L["default"],null,o.map(function(e){return A.a.createElement(B,Object.assign({label:e.name,key:e.code},I),d(e.code,{initialValue:e.value,rules:[{max:"zh_CN"===e.code?m:f,message:P["a"].get("hzero.common.validation.max",{max:"zh_CN"===e.code?m:f})}]})(A.a.createElement(v["default"],null)))})))}}]),t}(A.a.Component),Object(_["a"])(r.prototype,"saveAndClose",[o],Object.getOwnPropertyDescriptor(r.prototype,"saveAndClose"),r.prototype),i=r))||i),q=a(522);a(685);a.d(t,"a",function(){return Z});var Z=(l=Object(S["Bind"])(),s=Object(S["Bind"])(),c=Object(S["Bind"])(),d=Object(S["Bind"])(),u=Object(S["Bind"])(),m=Object(S["Bind"])(),p=Object(S["Bind"])(),g=h=function(e){function t(e){var a;return Object(C["a"])(this,t),a=Object(w["a"])(this,Object(z["a"])(t).call(this,e)),a.state={language:Object(F["l"])()||"zh_CN",loading:!1,modalVisible:!1,list:[],resLangList:[],text:e.value,isSave:!1},a}return Object(x["a"])(t,e),Object(k["a"])(t,[{key:"componentDidMount",value:function(){this.props.form.setFieldsValue({_tls:null})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.state.text;t&&t!==e.value&&this.setState({text:e.value}),!t&&e.value&&this.setState({text:e.value})}},{key:"showLoading",value:function(e){this.setState({loading:e})}},{key:"onCancel",value:function(){var e=this.props.form,t=void 0===e?{}:e;t&&!D()(t.getFieldValue("_tls"))&&t.resetFields(["_tls"]),this.setState({modalVisible:!1,isSave:!1})}},{key:"save",value:function(e){var t=this.props,a=t.form,n=t.field,o=this.state,i=o.list,r=o.language,l=Object.keys(e).map(function(t){var a=i.find(function(e){return t===e.code});return{code:t,value:e[t],name:a.name||""}});if(this.setState({text:e[r],list:l,modalVisible:!1,isSave:!0}),a&&D()(a.getFieldValue("_tls")))a.registerField("_tls"),a.setFieldsValue({_tls:Object(j["a"])({},n,e)});else{var s=a.getFieldValue("_tls"),c=Object(O["a"])({},s,Object(j["a"])({},n,e));a.setFieldsValue({_tls:c})}this.props.onChange&&this.props.onChange(e[r])}},{key:"openModal",value:function(){var e=this,t=this.props,a=t.field,n=void 0===a?"":a,o=t.token,i=void 0===o?"":o,r=this.state,l=r.list,s=r.text,c=r.language,d=r.resLangList,u=void 0===d?[]:d;Array.isArray(u)&&0===u.length?Object(q["l"])({fieldName:n,_token:i}).then(function(t){Object(F["u"])(t)&&(e.setState({resLangList:t}),e.setCacheList(t,l,c,s))}):this.setCacheList(u,l,c,s)}},{key:"setCacheList",value:function(e,t,a,n){var o=e.map(function(e,o){var i=Object(O["a"])({},e);return Array.isArray(t)&&void 0!==t[o]&&t[o].value&&(i.value=t[o].value),a===e.code&&(i.value=n),i});this.setState({modalVisible:!0,list:o})}},{key:"onChange",value:function(e){var t=this.state.isSave;this.setState({text:e.target.value}),this.props.onChange&&(this.props.onChange(e.target.value),t||this.props.form.setFieldsValue({_tls:null}))}},{key:"emitEmpty",value:function(){var e=this;this.props.onChange&&this.setState({text:null},function(){e.props.onChange(null)})}},{key:"render",value:function(){var e=this.props,t=e.allowClear,a=void 0!==t&&t,n=e.field,o=e.label,i=void 0===o?"":o,r=e.width,l=e.inputSize,s=void 0===l?{}:l,c=e.className,d=void 0===c?"":c,u=Object(y["a"])(e,["allowClear","field","label","width","inputSize","className"]),m=this.props.disabled,p=void 0!==m&&m,f=this.state,h=f.text,g=f.modalVisible,O=f.list,j=f.loading,C={label:i,fieldName:n,modalVisible:g,list:O,width:r,inputSize:s,onCancel:this.onCancel,onOK:this.save},k=[d,"tl-editor"],w=A.a.createElement(A.a.Fragment,null,a&&h&&A.a.createElement(b["default"],{type:"close-circle",onClick:this.emitEmpty,className:"tl-editor-clear"}),A.a.createElement(b["default"],{type:j?"loading":"global",className:"tl-editor-trigger",style:j?{}:p?{cursor:"not-allowed"}:{cursor:"pointer"},onClick:j||p?void 0:this.openModal}));return A.a.createElement(A.a.Fragment,null,A.a.createElement(v["default"],Object.assign({},u,{onChange:this.onChange,value:h,className:k.join(" "),suffix:w})),A.a.createElement($,C))}}]),t}(A.a.Component),h.displayName="TLEditor",f=g,Object(_["a"])(f.prototype,"showLoading",[l],Object.getOwnPropertyDescriptor(f.prototype,"showLoading"),f.prototype),Object(_["a"])(f.prototype,"onCancel",[s],Object.getOwnPropertyDescriptor(f.prototype,"onCancel"),f.prototype),Object(_["a"])(f.prototype,"save",[c],Object.getOwnPropertyDescriptor(f.prototype,"save"),f.prototype),Object(_["a"])(f.prototype,"openModal",[d],Object.getOwnPropertyDescriptor(f.prototype,"openModal"),f.prototype),Object(_["a"])(f.prototype,"setCacheList",[u],Object.getOwnPropertyDescriptor(f.prototype,"setCacheList"),f.prototype),Object(_["a"])(f.prototype,"onChange",[m],Object.getOwnPropertyDescriptor(f.prototype,"onChange"),f.prototype),Object(_["a"])(f.prototype,"emitEmpty",[p],Object.getOwnPropertyDescriptor(f.prototype,"emitEmpty"),f.prototype),f)},685:function(e,t,a){}}]);