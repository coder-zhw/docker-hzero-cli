(window["webpackJsonppackages_hzero_front_hpfm_name_"]=window["webpackJsonppackages_hzero_front_hpfm_name_"]||[]).push([[318,414,416,431,445],{205:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return U});n(532);var o,a,i,r,l,c,u=n(533),s=(n(525),n(526)),p=(n(527),n(528)),d=(n(503),n(506)),f=n(493),m=n(494),g=n(496),h=n(495),b=n(497),v=n(500),O=(n(510),n(505)),y=n(1),x=n.n(y),j=n(499),w=n(666),k=n(744),E=n(501),C=n(631),S=O["default"].Item,L={labelCol:{span:6},wrapperCol:{span:18}},U=(o=O["default"].create({fieldNameProp:null}),a=Object(j["Bind"])(),i=Object(j["Bind"])(),r=Object(j["Bind"])(),o((c=function(e){function t(e){var n;return Object(f["a"])(this,t),n=Object(g["a"])(this,Object(h["a"])(t).call(this,e)),n.state={},n}return Object(b["a"])(t,e),Object(m["a"])(t,[{key:"render",value:function(){var e=this.props,t=e.languageList,n=e.form.getFieldDecorator,o=e.config.data,a=void 0===o?[]:o,i=[];a.length>0&&a.forEach(function(e){switch(e.configCode){case"HOTH.LOGO_URL":i=[{uid:"-1",name:e.fileName,status:"done",url:e.configValue}];break;default:break}});var r=this.findConfigField("HOTH.TITLE",a),l=this.findConfigField("HOTH.COPYRIGHT",a),c=this.findConfigField("HOTH.LOGO_URL",a),f=this.findConfigField("HOTH.SHOW_LANGUAGE",a),m=this.findConfigField("HOTH.DEFAULT_LANGUAGE",a);return x.a.createElement(O["default"],null,x.a.createElement(s["default"],null,x.a.createElement(p["default"],{span:16},x.a.createElement(S,Object.assign({label:E["a"].get("hpfm.config.model.config.loginTitle").d("\u767b\u5f55\u9875\u9762\u6807\u9898")},L),n("loginTitle",{initialValue:r,rules:[{required:!0,message:E["a"].get("hzero.common.validation.notNull",{name:E["a"].get("hpfm.config.model.config.loginTitle").d("\u767b\u5f55\u9875\u9762\u6807\u9898")})}]})(x.a.createElement(d["default"],null))))),x.a.createElement(s["default"],null,x.a.createElement(p["default"],{span:16},x.a.createElement(S,Object.assign({label:E["a"].get("hpfm.config.model.config.copyright").d("\u7248\u6743\u4fe1\u606f")},L),n("copyright",{initialValue:l,rules:[{required:!0,message:E["a"].get("hzero.common.validation.notNull",{name:E["a"].get("hpfm.config.model.config.copyright").d("\u7248\u6743\u4fe1\u606f")})}]})(x.a.createElement(d["default"],null))))),x.a.createElement(s["default"],null,x.a.createElement(p["default"],{span:16},x.a.createElement(S,Object.assign({label:E["a"].get("hpfm.config.model.config.languageFlag").d("\u662f\u5426\u5c55\u793a\u591a\u8bed\u8a00")},L),n("languageFlag",{initialValue:"1"===f?1:0})(x.a.createElement(w["a"],null))))),x.a.createElement(s["default"],null,x.a.createElement(p["default"],{span:16},x.a.createElement(S,Object.assign({label:E["a"].get("hpfm.config.model.config.logo").d("LOGO"),extra:E["a"].get("hzero.common.upload.support",{type:"*.png;*.jpeg"}).d("\u4e0a\u4f20\u683c\u5f0f\uff1a*.png;*.jpeg")},L),x.a.createElement(k["a"],{accept:".jpeg,.png",fileType:"image/jpeg,image/png",single:!0,bucketName:C["d"],bucketDirectory:"hpfm05",onUploadSuccess:this.onUploadSuccess,fileList:i,onRemoveSuccess:this.onCancelSuccess})),x.a.createElement(S,{wrapperCol:{span:15,offset:7}},n("loginLogo",{initialValue:c})(x.a.createElement("div",null))))),x.a.createElement(s["default"],null,x.a.createElement(p["default"],{span:16},x.a.createElement(S,Object.assign({label:E["a"].get("hpfm.config.model.config.language").d("\u9ed8\u8ba4\u8bed\u8a00")},L),n("language",{initialValue:m,rules:[{required:!0,message:E["a"].get("hzero.common.validation.notNull",{name:E["a"].get("hpfm.config.model.config.language").d("\u9ed8\u8ba4\u8bed\u8a00")})}]})(x.a.createElement(u["default"],null,t.map(function(e){return x.a.createElement(u["default"].Option,{key:e.value,value:e.value},e.meaning)})))))))}},{key:"findConfigField",value:function(e,t){if(t.length>0){var n=t.find(function(t){return t.configCode===e});return n?n.configValue:null}}},{key:"onUploadSuccess",value:function(e){var t=this.props.form;e&&t.setFieldsValue({loginLogo:e.response})}},{key:"onCancelSuccess",value:function(){var e=this.props.form;e.setFieldsValue({loginLogo:""})}}]),t}(y["Component"]),Object(v["a"])(c.prototype,"findConfigField",[a],Object.getOwnPropertyDescriptor(c.prototype,"findConfigField"),c.prototype),Object(v["a"])(c.prototype,"onUploadSuccess",[i],Object.getOwnPropertyDescriptor(c.prototype,"onUploadSuccess"),c.prototype),Object(v["a"])(c.prototype,"onCancelSuccess",[r],Object.getOwnPropertyDescriptor(c.prototype,"onCancelSuccess"),c.prototype),l=c))||l)},498:function(e,t,n){e.exports=n(0)(198)},499:function(e,t,n){e.exports=n(425)(2563)},500:function(e,t,n){"use strict";function o(e,t,n,o,a){var i={};return Object.keys(o).forEach(function(e){i[e]=o[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}n.d(t,"a",function(){return o})},502:function(e,t,n){e.exports=n(0)(1169)},505:function(e,t,n){e.exports=n(0)(1147)},506:function(e,t,n){e.exports=n(0)(293)},507:function(e,t,n){e.exports=n(0)(116)},508:function(e,t,n){e.exports=n(0)(111)},512:function(e,t,n){e.exports=n(0)(82)},513:function(e,t,n){e.exports=n(0)(1168)},514:function(e,t,n){e.exports=n(0)(37)},525:function(e,t,n){"use strict";n(498),n(555)},526:function(e,t,n){e.exports=n(0)(261)},527:function(e,t,n){"use strict";n(498),n(555)},528:function(e,t,n){e.exports=n(0)(144)},530:function(e,t,n){e.exports=n(0)(829)},533:function(e,t,n){e.exports=n(0)(164)},535:function(e,t,n){e.exports=n(0)(1852)},536:function(e,t,n){e.exports=n(0)(34)},537:function(e,t,n){e.exports=n(0)(1155)},538:function(e,t,n){e.exports=n(0)(130)},539:function(e,t,n){e.exports=n(0)(1167)},540:function(e,t,n){e.exports=n(0)(604)},541:function(e,t,n){e.exports=n(0)(274)},542:function(e,t,n){e.exports=n(0)(156)},547:function(e,t,n){e.exports=n(0)(182)},553:function(e,t,n){e.exports=n(425)(2648)},556:function(e,t,n){e.exports=n(0)(2130)},574:function(e,t,n){e.exports=n(0)(209)},577:function(e,t,n){e.exports=n(0)(661)},578:function(e,t,n){e.exports=n(425)(1367)},579:function(e,t,n){e.exports=n(0)(873)},580:function(e,t,n){e.exports=n(0)(2092)},581:function(e,t,n){e.exports=n(0)(235)},582:function(e,t,n){e.exports=n(0)(582)},584:function(e,t,n){e.exports=n(0)(170)},585:function(e,t,n){e.exports=n(0)(255)},586:function(e,t,n){e.exports=n(0)(1960)},587:function(e,t,n){e.exports=n(0)(298)},590:function(e,t,n){e.exports=n(0)(849)},591:function(e,t,n){e.exports=n(0)(328)},592:function(e,t,n){e.exports=n(0)(270)},593:function(e,t,n){e.exports=n(0)(324)},594:function(e,t,n){e.exports=n(0)(386)},595:function(e,t,n){e.exports=n(0)(387)},596:function(e,t,n){e.exports=n(0)(385)},601:function(e,t,n){e.exports=n(0)(484)},602:function(e,t,n){e.exports=n(0)(868)},604:function(e,t,n){e.exports=n(0)(1858)},606:function(e,t,n){e.exports=n(0)(241)},607:function(e,t,n){e.exports=n(0)(1132)},608:function(e,t,n){e.exports=n(0)(325)},609:function(e,t,n){e.exports=n(425)(2662)},610:function(e,t,n){e.exports=n(0)(151)},611:function(e,t,n){e.exports=n(0)(127)},612:function(e,t,n){e.exports=n(0)(2129)},613:function(e,t,n){e.exports=n(0)(580)},614:function(e,t,n){e.exports=n(0)(128)},615:function(e,t,n){e.exports=n(0)(108)},616:function(e,t,n){e.exports=n(0)(472)},656:function(e,t,n){"use strict";n(498),n(659)},657:function(e,t,n){e.exports=n(0)(1160)},659:function(e,t,n){e.exports={"ant-switch":"ant-switch","ant-switch-inner":"ant-switch-inner",loadingCircle:"loadingCircle","ant-switch-loading":"ant-switch-loading","ant-switch-checked":"ant-switch-checked","ant-switch-small":"ant-switch-small",AntSwitchSmallLoadingCircle:"AntSwitchSmallLoadingCircle","ant-switch-disabled":"ant-switch-disabled"}},666:function(e,t,n){"use strict";n.d(t,"a",function(){return p});n(656);var o=n(657),a=n(493),i=n(494),r=n(496),l=n(495),c=n(497),u=n(1),s=n.n(u),p=function(e){function t(){return Object(a["a"])(this,t),Object(r["a"])(this,Object(l["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),Object(i["a"])(t,[{key:"render",value:function(){return s.a.createElement(o["default"],Object.assign({},this.props,{unCheckedValue:0,checkedValue:1}))}}]),t}(s.a.Component);p.displayName="HzeroSwitch"},669:function(e,t,n){e.exports=n(0)(61)},731:function(e,t,n){e.exports=n(0)(2098)},732:function(e,t,n){e.exports=n(0)(1208)},734:function(e,t,n){"use strict";n(498),n(735),n(731),n(539)},735:function(e,t,n){e.exports={"ant-upload":"ant-upload","ant-upload-btn":"ant-upload-btn","ant-upload-select":"ant-upload-select","ant-upload-select-picture-card":"ant-upload-select-picture-card","ant-upload-drag":"ant-upload-drag","ant-upload-drag-hover":"ant-upload-drag-hover","ant-upload-disabled":"ant-upload-disabled","ant-upload-drag-container":"ant-upload-drag-container","ant-upload-drag-icon":"ant-upload-drag-icon",anticon:"anticon","ant-upload-text":"ant-upload-text","ant-upload-hint":"ant-upload-hint","anticon-plus":"anticon-plus","ant-upload-list":"ant-upload-list","ant-upload-list-item":"ant-upload-list-item","ant-upload-list-item-name":"ant-upload-list-item-name","ant-upload-list-item-info":"ant-upload-list-item-info","anticon-loading":"anticon-loading","anticon-paper-clip":"anticon-paper-clip","anticon-cross":"anticon-cross","ant-upload-list-item-error":"ant-upload-list-item-error","ant-upload-list-item-progress":"ant-upload-list-item-progress","ant-upload-list-picture":"ant-upload-list-picture","ant-upload-list-picture-card":"ant-upload-list-picture-card","ant-upload-list-item-file-name":"ant-upload-list-item-file-name","ant-upload-list-item-uploading":"ant-upload-list-item-uploading","ant-upload-list-item-thumbnail":"ant-upload-list-item-thumbnail","ant-upload-list-item-icon":"ant-upload-list-item-icon","ant-upload-list-item-action-remove":"ant-upload-list-item-action-remove","ant-upload-list-item-picture-card":"ant-upload-list-item-picture-card","ant-upload-list-item-actions":"ant-upload-list-item-actions","anticon-eye-o":"anticon-eye-o","anticon-download":"anticon-download","anticon-upload":"anticon-upload","anticon-picture":"anticon-picture","ant-upload-list-item-uploading-text":"ant-upload-list-item-uploading-text","ant-upload-success-icon":"ant-upload-success-icon","ant-upload-animate-enter":"ant-upload-animate-enter","ant-upload-animate-leave":"ant-upload-animate-leave","ant-upload-animate-inline-enter":"ant-upload-animate-inline-enter","ant-upload-animate-inline-leave":"ant-upload-animate-inline-leave",uploadAnimateIn:"uploadAnimateIn",uploadAnimateOut:"uploadAnimateOut",uploadAnimateInlineIn:"uploadAnimateInlineIn",uploadAnimateInlineOut:"uploadAnimateInlineOut"}},740:function(e,t,n){var o=n(580);function a(e,t){return t="function"==typeof t?t:void 0,e&&e.length?o(e,void 0,t):[]}e.exports=a},744:function(e,t,n){"use strict";n.d(t,"a",function(){return W});n(734);var o,a,i,r,l,c,u,s=n(732),p=(n(502),n(508)),d=(n(513),n(514)),f=n(509),m=n(131),g=n(2),h=n.n(g),b=n(134),v=n(679),O=n(493),y=n(494),x=n(496),j=n(495),w=n(523),k=n(497),E=n(500),C=(n(664),n(537)),S=n(740),L=n.n(S),U=n(748),T=n.n(U),A=n(540),D=n.n(A),z=n(135),F=n.n(z),I=n(669),R=n.n(I),N=n(1),P=n.n(N),H=n(499),_=n(752),V=n.n(_),B=n(501),G=n(648),q=n(504),J=n(631),M=n(522);C["default"].config({placement:"bottomRight"});var W=(o=Object(H["Bind"])(),a=Object(H["Bind"])(),i=Object(H["Bind"])(),r=Object(H["Bind"])(),l=Object(H["Bind"])(),c=Object(H["Bind"])(),u=function(e){function t(e){var n;Object(O["a"])(this,t),n=Object(x["a"])(this,Object(j["a"])(t).call(this,e));var o=n.props.onRef;return o&&o(Object(w["a"])(n)),n.state={fileList:null},n}return Object(k["a"])(t,e),Object(y["a"])(t,[{key:"setFileList",value:function(e){e&&this.setState({fileList:e})}},{key:"uploadData",value:function(e){var t=this.props,n=t.attachmentUUID,o=t.bucketName,a=t.uploadData,i=t.bucketDirectory,r=t.docType,l=t.storageCode,c=a?a(e):{};if(!(c instanceof FormData)){var u=c;c=new FormData,R()(c)&&Object.keys(u).forEach(function(e){c.append(e,u[e])})}return D()(n)||c.append("attachmentUUID",n),D()(o)||c.append("bucketName",o),D()(r)||c.append("docType",r),D()(l)||c.append("storageCode",l),D()(i)||c.append("directory",i),c}},{key:"onChange",value:function(e){var t=e.file,n=e.fileList,o=this.props,a=o.single,i=void 0!==a&&a,r=o.tenantId,l=o.bucketName,c=o.bucketDirectory,u=Object(v["a"])(n);if("done"===t.status){var s=t.response;if(s&&!0===s.failed)this.onUploadError(t,n);else{if(i){if(n.length>1){var p=this.props.onRemove;Promise.all(n.slice(0,n.length-1).map(function(){var e=Object(b["a"])(h.a.mark(function e(t){var n,o;return h.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t.url){e.next=20;break}if(!p){e.next=11;break}return e.prev=2,e.next=5,p(t);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](2);case 9:e.next=20;break;case 11:return n=t.url&&t.url.split("=")||[],o=n[n.length-1],e.prev=13,e.next=16,Object(M["p"])({tenantId:r,bucketName:l,urls:[o]});case 16:e.next=20;break;case 18:e.prev=18,e.t1=e["catch"](13);case 20:case"end":return e.stop()}},e,null,[[2,7],[13,18]])}));return function(t){return e.apply(this,arguments)}}())).catch(function(){})}u=[{uid:t.uid,name:t.name,url:Object(q["j"])(t.response,l,r,c),thumbUrl:Object(q["j"])(t.response,l,r,c)}]}else u=n.map(function(e){return e.uid===t.uid&&(e.url=Object(q["j"])(e.response,l,r,c)),e});this.onUploadSuccess(t,u)}}else"error"===t.status&&(this.onUploadError(t,n),u=n.filter(function(e){return"error"!==e.status&&e.uid}));this.setState({fileList:L()(u,function(e,t){return e.uid===t.uid})})}},{key:"beforeUpload",value:function(e){var t=this.props,n=t.fileType,o=t.fileSize,a=void 0===o?31457280:o;if(n&&-1===n.indexOf(e.type)){e.status="error";var i={message:B["a"].get("hzero.common.upload.error.type",{fileType:n}).d("\u4e0a\u4f20\u6587\u4ef6\u7c7b\u578b\u5fc5\u987b\u662f\uff1a".concat(n))};return e.response=i,!1}if(e.size>a){e.status="error";var r={message:B["a"].get("hzero.common.upload.error.size",{fileSize:a/1048576}).d("\u4e0a\u4f20\u6587\u4ef6\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc7: ".concat(a/1048576," MB"))};return e.response=r,!1}return!0}},{key:"onRemove",value:function(e){var t=this,n=this.props,o=n.onRemove,a=n.bucketName,i=n.onRemoveSuccess,r=n.single,l=void 0!==r&&r,c=n.tenantId,u=this.state.fileList;if(e.url){if(o)return o(e);var s=e.url&&e.url.split("=")||[],p=s[s.length-1];return Object(M["p"])({tenantId:c,bucketName:a,urls:[p]}).then(function(n){return!!Object(q["u"])(n)&&(i&&i(),l?t.setState({fileList:[]}):(T()(u,function(t){return t.uid===e.uid}),t.setState({fileList:u})),!0)})}this.setState({fileList:u.filter(function(t){return t.uid!==e.uid})})}},{key:"onUploadSuccess",value:function(e,t){var n=this.props.onUploadSuccess;n&&n(e,t)}},{key:"onUploadError",value:function(e,t){var n=this.props.onUploadError,o=!0;n&&(o=!1!==n(e,t)),o&&C["default"].error({message:B["a"].get("hzero.common.upload.status.error").d("\u4e0a\u4f20\u5931\u8d25"),description:e.response&&e.response.message})}},{key:"changeFileList",value:function(e){var t=this.props,n=t.bucketName,o=t.bucketDirectory,a=t.tenantId;if(e)return e.map(function(e){return Object(m["a"])({},e,{url:Object(q["j"])(e.url,n,a,o)})})}},{key:"handleAction",value:function(e){var t=e.file,n=e.onProgress,o=e.onSuccess,a=e.onError,i=new V.a,r=i.signal,l=this.props.action,c=l||(Object(q["A"])()?"".concat(J["e"],"/v1/").concat(Object(q["m"])(),"/files/multipart"):"".concat(J["e"],"/v1/files/multipart")),u="".concat(c),s=this.uploadData(t);return s.append("file",t,t.name),Object(G["a"])(u,{processData:!1,method:"POST",type:"FORM",body:s,responseType:"text",signal:r,onProgress:n?function(e){return n(e,t)}:null},{beforeCatch:function(e){if("AbortError"!==e.name)throw new Error(e)}}).then(function(e){F()(e)?o(e):Object(q["u"])(e)||a(e)}),{abort:function(){i.abort()}}}},{key:"render",value:function(){var e=this.props,t=e.fileList,n=e.fileType,o=(e.fileSize,e.single,e.text),a=void 0===o?B["a"].get("hzero.common.upload.txt").d("\u4e0a\u4f20"):o,i=e.listType,r=void 0===i?"picture":i,l=(e.bucketName,e.onUploadSuccess,e.onUploadError,e.viewOnly),c=void 0!==l&&l,u=e.showRemoveIcon,m=void 0===u||u,g=(e.docType,e.storageCode,e.children),h=Object(f["a"])(e,["fileList","fileType","fileSize","single","text","listType","bucketName","onUploadSuccess","onUploadError","viewOnly","showRemoveIcon","docType","storageCode","children"]),b=Object(q["i"])(),v=this.changeFileList(t),O={};b&&(O.Authorization="bearer ".concat(b));var y,x=n&&-1===n.indexOf(",")?n.split(";").join(","):n;return y="picture-card"===r?P.a.createElement("div",null,P.a.createElement(d["default"],{style:{fontSize:"32px",color:"#999"},type:"plus"})):P.a.createElement(p["default"],null,P.a.createElement(d["default"],{type:"upload"})," ",a),P.a.createElement(s["default"],Object.assign({name:"file",accept:x,fileList:this.state.fileList||v,data:this.uploadData,customRequest:this.handleAction,headers:O,onChange:this.onChange,listType:r,beforeUpload:this.beforeUpload,onRemove:this.onRemove,showUploadList:{showRemoveIcon:!c&&m}},h),g||!c&&y)}}]),t}(P.a.Component),Object(E["a"])(u.prototype,"uploadData",[o],Object.getOwnPropertyDescriptor(u.prototype,"uploadData"),u.prototype),Object(E["a"])(u.prototype,"onChange",[a],Object.getOwnPropertyDescriptor(u.prototype,"onChange"),u.prototype),Object(E["a"])(u.prototype,"beforeUpload",[i],Object.getOwnPropertyDescriptor(u.prototype,"beforeUpload"),u.prototype),Object(E["a"])(u.prototype,"onRemove",[r],Object.getOwnPropertyDescriptor(u.prototype,"onRemove"),u.prototype),Object(E["a"])(u.prototype,"changeFileList",[l],Object.getOwnPropertyDescriptor(u.prototype,"changeFileList"),u.prototype),Object(E["a"])(u.prototype,"handleAction",[c],Object.getOwnPropertyDescriptor(u.prototype,"handleAction"),u.prototype),u)},748:function(e,t,n){var o=n(541),a=n(749);function i(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],l=e.length;t=o(t,3);while(++i<l){var c=e[i];t(c,i,e)&&(n.push(c),r.push(i))}return a(e,r),n}e.exports=i},749:function(e,t,n){var o=n(750),a=n(751),i=Array.prototype,r=i.splice;function l(e,t){var n=e?t.length:0,i=n-1;while(n--){var l=t[n];if(n==i||l!==c){var c=l;a(l)?r.call(e,l,1):o(e,l)}}return e}e.exports=l},750:function(e,t,n){e.exports=n(0)(2121)},751:function(e,t,n){e.exports=n(0)(242)},752:function(e,t,n){"use strict";var o="undefined"!==typeof self?self:"undefined"!==typeof window?window:void 0,a=o.AbortController,i=o.AbortSignal;e.exports=a,e.exports.AbortSignal=i,e.exports.default=a}}]);