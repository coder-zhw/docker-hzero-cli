(window["webpackJsonppackages_hzero_front_hmsg_name_"]=window["webpackJsonppackages_hzero_front_hmsg_name_"]||[]).push([[69],{130:function(e,t,n){"use strict";n(110),n(155)},133:function(e,t,n){"use strict";n(110),n(170),n(118)},137:function(e,t,n){"use strict";n(110),n(167),n(119)},143:function(e,t,n){"use strict";n(110),n(173),n(169),n(172),n(264),n(130),n(177),n(133),n(118)},151:function(e,t,n){"use strict";n(110),n(214)},152:function(e,t,n){"use strict";n(110),n(214)},155:function(e,t,n){e.exports={"ant-spin":"ant-spin","ant-spin-spinning":"ant-spin-spinning","ant-spin-nested-loading":"ant-spin-nested-loading","ant-spin-dot":"ant-spin-dot","ant-spin-text":"ant-spin-text","ant-spin-show-text":"ant-spin-show-text","ant-spin-sm":"ant-spin-sm","ant-spin-lg":"ant-spin-lg","ant-spin-container":"ant-spin-container","ant-spin-blur":"ant-spin-blur","ant-spin-tip":"ant-spin-tip",antSpinMove:"antSpinMove","ant-spin-dot-spin":"ant-spin-dot-spin",antRotate:"antRotate"}},167:function(e,t,n){e.exports={"ant-modal":"ant-modal","ant-modal-wrap":"ant-modal-wrap","ant-modal-title":"ant-modal-title","ant-modal-content":"ant-modal-content","ant-modal-close":"ant-modal-close","ant-modal-close-x":"ant-modal-close-x","ant-modal-header":"ant-modal-header","ant-modal-body":"ant-modal-body","ant-modal-footer":"ant-modal-footer","zoom-enter":"zoom-enter","zoom-appear":"zoom-appear","ant-modal-mask":"ant-modal-mask","ant-modal-mask-hidden":"ant-modal-mask-hidden","ant-modal-open":"ant-modal-open","vertical-center-modal":"vertical-center-modal","ant-confirm":"ant-confirm","ant-confirm-body-wrapper":"ant-confirm-body-wrapper","ant-confirm-body":"ant-confirm-body","ant-confirm-title":"ant-confirm-title","ant-confirm-content":"ant-confirm-content",anticon:"anticon","ant-confirm-btns":"ant-confirm-btns","ant-confirm-error":"ant-confirm-error","ant-confirm-warning":"ant-confirm-warning","ant-confirm-confirm":"ant-confirm-confirm","ant-confirm-info":"ant-confirm-info","ant-confirm-success":"ant-confirm-success"}},169:function(e,t,n){"use strict";n(110),n(175)},170:function(e,t,n){e.exports={"ant-select":"ant-select","ant-select-arrow":"ant-select-arrow","ant-select-selection":"ant-select-selection","ant-select-focused":"ant-select-focused","ant-select-selection__clear":"ant-select-selection__clear","ant-select-selection-selected-value":"ant-select-selection-selected-value","ant-select-no-arrow":"ant-select-no-arrow","ant-select-disabled":"ant-select-disabled","ant-select-selection--multiple":"ant-select-selection--multiple","ant-select-selection__choice":"ant-select-selection__choice","ant-select-selection__choice__remove":"ant-select-selection__choice__remove","ant-select-selection--single":"ant-select-selection--single","ant-select-selection__rendered":"ant-select-selection__rendered","ant-select-lg":"ant-select-lg","ant-select-sm":"ant-select-sm","ant-select-search__field__wrap":"ant-select-search__field__wrap","ant-select-selection__placeholder":"ant-select-selection__placeholder","ant-select-search__field__placeholder":"ant-select-search__field__placeholder","ant-select-search__field__mirror":"ant-select-search__field__mirror","ant-select-search--inline":"ant-select-search--inline","ant-select-search__field":"ant-select-search__field","ant-select-selection__choice__disabled":"ant-select-selection__choice__disabled","ant-select-selection__choice__content":"ant-select-selection__choice__content","ant-select-allow-clear":"ant-select-allow-clear","ant-select-open":"ant-select-open","ant-select-combobox":"ant-select-combobox","ant-select-dropdown":"ant-select-dropdown","slide-up-enter":"slide-up-enter","slide-up-enter-active":"slide-up-enter-active","ant-select-dropdown-placement-bottomLeft":"ant-select-dropdown-placement-bottomLeft","slide-up-appear":"slide-up-appear","slide-up-appear-active":"slide-up-appear-active",antSlideUpIn:"antSlideUpIn","ant-select-dropdown-placement-topLeft":"ant-select-dropdown-placement-topLeft",antSlideDownIn:"antSlideDownIn","slide-up-leave":"slide-up-leave","slide-up-leave-active":"slide-up-leave-active",antSlideUpOut:"antSlideUpOut",antSlideDownOut:"antSlideDownOut","ant-select-dropdown-hidden":"ant-select-dropdown-hidden","ant-select-dropdown-menu":"ant-select-dropdown-menu","ant-select-dropdown-menu-item-group-list":"ant-select-dropdown-menu-item-group-list","ant-select-dropdown-menu-item":"ant-select-dropdown-menu-item","ant-select-dropdown-menu-item-group-title":"ant-select-dropdown-menu-item-group-title","ant-select-dropdown-menu-item-group":"ant-select-dropdown-menu-item-group","ant-select-dropdown-menu-item-disabled":"ant-select-dropdown-menu-item-disabled","ant-select-dropdown-menu-item-selected":"ant-select-dropdown-menu-item-selected","ant-select-dropdown-menu-item-active":"ant-select-dropdown-menu-item-active","ant-select-dropdown-menu-item-divider":"ant-select-dropdown-menu-item-divider","ant-select-dropdown--multiple":"ant-select-dropdown--multiple","ant-select-dropdown-container-open":"ant-select-dropdown-container-open","ant-select-dropdown-open":"ant-select-dropdown-open"}},173:function(e,t,n){e.exports={"ant-table-wrapper":"ant-table-wrapper","ant-table":"ant-table","ant-table-body":"ant-table-body","resizable-table":"resizable-table","ant-table-empty":"ant-table-empty","react-resizable":"react-resizable","column-resizable-handle":"column-resizable-handle","react-draggable-dragging":"react-draggable-dragging","ant-table-thead":"ant-table-thead","ant-table-tbody":"ant-table-tbody","anticon-filter":"anticon-filter","ant-table-filter-icon":"ant-table-filter-icon","ant-table-column-sorter":"ant-table-column-sorter","ant-table-filter-selected":"ant-table-filter-selected","ant-table-column-has-filters":"ant-table-column-has-filters","custom-bars":"custom-bars","ant-table-row-hover":"ant-table-row-hover","ant-table-footer":"ant-table-footer","ant-table-bordered":"ant-table-bordered","ant-table-title":"ant-table-title","ant-table-content":"ant-table-content","ant-table-without-column-header":"ant-table-without-column-header","ant-table-row-selected":"ant-table-row-selected","ant-table-column-sort":"ant-table-column-sort","ant-table-selection-column-custom":"ant-table-selection-column-custom","ant-table-selection-column":"ant-table-selection-column","ant-radio-wrapper":"ant-radio-wrapper","ant-table-expand-icon-th":"ant-table-expand-icon-th","ant-table-row-expand-icon-cell":"ant-table-row-expand-icon-cell","ant-table-header":"ant-table-header","ant-table-loading":"ant-table-loading","ant-table-spin-holder":"ant-table-spin-holder","ant-table-with-pagination":"ant-table-with-pagination","ant-table-without-pagination":"ant-table-without-pagination","ant-table-column-sorter-up":"ant-table-column-sorter-up","ant-table-column-sorter-down":"ant-table-column-sorter-down",anticon:"anticon",on:"on","anticon-caret-up":"anticon-caret-up","anticon-caret-down":"anticon-caret-down","ant-table-fixed-left":"ant-table-fixed-left","ant-table-fixed-right":"ant-table-fixed-right","ant-table-placeholder":"ant-table-placeholder","ant-table-fixed-header":"ant-table-fixed-header","ant-table-body-inner":"ant-table-body-inner","ant-table-pagination":"ant-table-pagination","ant-pagination":"ant-pagination","ant-pagination-options":"ant-pagination-options","ant-table-filter-dropdown":"ant-table-filter-dropdown","custom-column-dropdown":"custom-column-dropdown","dropdown-menu-text":"dropdown-menu-text","ant-dropdown-menu-item":"ant-dropdown-menu-item","ant-dropdown-menu":"ant-dropdown-menu","ant-dropdown-menu-without-submenu":"ant-dropdown-menu-without-submenu","ant-dropdown-menu-sub":"ant-dropdown-menu-sub","ant-dropdown-submenu-contain-selected":"ant-dropdown-submenu-contain-selected","ant-dropdown-menu-submenu-title":"ant-dropdown-menu-submenu-title","ant-dropdown-menu-submenu":"ant-dropdown-menu-submenu","ant-table-filter-dropdown-btns":"ant-table-filter-dropdown-btns","ant-table-filter-dropdown-link":"ant-table-filter-dropdown-link",confirm:"confirm",clear:"clear","ant-table-selection-select-all-custom":"ant-table-selection-select-all-custom","ant-table-selection":"ant-table-selection","anticon-down":"anticon-down","ant-table-selection-menu":"ant-table-selection-menu","ant-action-down":"ant-action-down","ant-table-selection-down":"ant-table-selection-down","ant-table-row-expand-icon":"ant-table-row-expand-icon","ant-table-row-expanded":"ant-table-row-expanded","ant-table-row-collapsed":"ant-table-row-collapsed","ant-table-row-spaced":"ant-table-row-spaced","ant-table-row":"ant-table-row","ant-table-expanded-row":"ant-table-expanded-row","ant-table-row-indent":"ant-table-row-indent","ant-table-scroll":"ant-table-scroll","ant-table-body-outer":"ant-table-body-outer","ant-table-fixed":"ant-table-fixed","ant-table-scroll-position-left":"ant-table-scroll-position-left","ant-table-scroll-position-right":"ant-table-scroll-position-right","ant-table-middle":"ant-table-middle","ant-table-small":"ant-table-small"}},175:function(e,t,n){e.exports={"ant-radio-group":"ant-radio-group","ant-radio-wrapper":"ant-radio-wrapper","ant-radio":"ant-radio","ant-radio-inner":"ant-radio-inner","ant-radio-focused":"ant-radio-focused","ant-radio-checked":"ant-radio-checked",antRadioEffect:"antRadioEffect","ant-radio-input":"ant-radio-input","ant-radio-disabled":"ant-radio-disabled","ant-radio-button-wrapper":"ant-radio-button-wrapper","ant-radio-button":"ant-radio-button","ant-radio-group-large":"ant-radio-group-large","ant-radio-group-small":"ant-radio-group-small","ant-radio-button-wrapper-focused":"ant-radio-button-wrapper-focused","ant-radio-button-wrapper-checked":"ant-radio-button-wrapper-checked","ant-radio-group-solid":"ant-radio-group-solid","ant-radio-button-wrapper-disabled":"ant-radio-button-wrapper-disabled"}},177:function(e,t,n){e.exports={"ant-pagination":"ant-pagination","ant-pagination-total-text":"ant-pagination-total-text","ant-pagination-item":"ant-pagination-item","ant-pagination-item-active":"ant-pagination-item-active","ant-pagination-jump-prev":"ant-pagination-jump-prev","ant-pagination-jump-next":"ant-pagination-jump-next","ant-pagination-prev":"ant-pagination-prev","ant-pagination-next":"ant-pagination-next","ant-pagination-item-link":"ant-pagination-item-link","ant-pagination-disabled":"ant-pagination-disabled","ant-pagination-slash":"ant-pagination-slash","ant-pagination-options":"ant-pagination-options","ant-pagination-options-size-changer":"ant-pagination-options-size-changer","ant-select":"ant-select","ant-pagination-options-quick-jumper":"ant-pagination-options-quick-jumper","ant-pagination-simple":"ant-pagination-simple","ant-pagination-simple-pager":"ant-pagination-simple-pager",mini:"mini","ant-pagination-item-after-jump-prev":"ant-pagination-item-after-jump-prev","ant-pagination-item-before-jump-next":"ant-pagination-item-before-jump-next"}},27:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return U});n(137);var a,o,i,r,l,d,c,s,p,u,m=n(136),b=(n(151),n(148)),h=(n(119),n(124)),g=(n(152),n(149)),w=(n(118),n(131)),f=n(19),y=n(111),v=n(112),_=n(114),O=n(113),C=n(115),j=n(117),x=(n(135),n(123)),k=n(1),R=n.n(k),S=n(116),T=n(278),D=n(121),I=n(120),N=n(224),U=(a=x["default"].create({fieldNameProp:null}),o=Object(S["Bind"])(),i=Object(S["Bind"])(),r=Object(S["Bind"])(),l=Object(S["Bind"])(),d=Object(S["Bind"])(),c=Object(S["Bind"])(),s=Object(S["Bind"])(),a((u=function(e){function t(e){var n;return Object(y["a"])(this,t),n=Object(_["a"])(this,Object(O["a"])(t).call(this,e)),n.state={dataSource:[],pagination:{},selectedRows:[],selectedRowKeys:[]},n}return Object(C["a"])(t,e),Object(v["a"])(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"handleSearch",value:function(e){var t,n=this,a=this.props,o=a.typeModeCode,i=a.form,r=a.receiverTypeId,l=a.tenantId;if("USER_GROUP"===o){var d=this.props.queryNoAssignUserGroupList;t=d}if("UNIT"===o){var c=this.props.queryNoAssignUnitList;t=c}t&&t({id:r,query:Object(f["a"])({tenantId:l},i.getFieldsValue(),e)}).then(function(e){e&&n.setState({dataSource:e.content,pagination:Object(I["a"])(e),selectedRows:[],selectedRowKeys:[]})})}},{key:"handleSearchBtnClick",value:function(){this.handleSearch()}},{key:"handleResetBtnClick",value:function(){var e=this.props.form;e.resetFields()}},{key:"getColumns",value:function(){var e=this.props.typeModeCode;return"USER_GROUP"===e?[{title:D["a"].get("hmsg.receiverType.model.receiverType.userGroupCode").d("\u7528\u6237\u7ec4\u7f16\u7801"),dataIndex:"groupCode",width:200},{title:D["a"].get("hmsg.receiverType.model.receiverType.userGroupName").d("\u7528\u6237\u7ec4\u540d\u79f0"),dataIndex:"groupName"}]:"UNIT"===e?[{title:D["a"].get("hmsg.receiverType.model.receiverType.unitCode").d("\u7ec4\u7ec7\u7f16\u7801"),dataIndex:"unitCode",width:200},{title:D["a"].get("hmsg.receiverType.model.receiverType.unitName").d("\u7ec4\u7ec7\u540d\u79f0"),dataIndex:"unitName"}]:[]}},{key:"handleRowSelectionChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.props.typeModeCode;"USER_GROUP"===n?this.setState({selectedRows:t,selectedRowKeys:t.map(function(e){return e.userGroupId})}):"UNIT"===n?this.setState({selectedRows:t,selectedRowKeys:t.map(function(e){return e.unitId})}):this.setState({selectedRows:[],selectedRowKeys:[]})}},{key:"handleTableChange",value:function(e,t,n){this.handleSearch({page:e,sort:n})}},{key:"handleModalOk",value:function(){var e=this.state.selectedRows,t=void 0===e?[]:e,n=this.props.typeModeCode;if("USER_GROUP"===n||"UNIT"===n)if(0===t.length)this.handleModalCancel();else{var a=this.props,o=a.onOk,i=a.tenantId,r=a.receiverTypeId;o({records:t.map(function(e){return{receiveTargetCode:n,receiveTargetId:"USER_GROUP"===n?e.userGroupId:"UNIT"===n?e.unitId:"",receiveTargetTenantId:i,receiverTypeId:r}}),id:r})}}},{key:"handleModalCancel",value:function(){var e=this.props.onCancel;e()}},{key:"render",value:function(){var e=this.props,t=e.visible,n=void 0!==t&&t,a=e.assignListLoading,o=void 0!==a&&a,i=e.queryNoAssignUnitListLoading,r=void 0!==i&&i,l=e.queryNoAssignUserGroupListLoading,d=void 0!==l&&l,c=e.typeModeCode,s=e.form,p=this.state,u=p.dataSource,f=void 0===u?[]:u,y=p.pagination,v=void 0===y?{}:y,_=p.selectedRows,O=void 0===_?[]:_,C=p.selectedRowKeys,j=void 0===C?[]:C,k=this.getColumns(),S={selectedRowKeys:j,onChange:this.handleRowSelectionChange},U="USER_GROUP"===c,E="UNIT"===c,P=U?D["a"].get("hmsg.receiverType.view.title.userGroupAdd").d("\u65b0\u589e\u7528\u6237\u7ec4"):E?D["a"].get("hmsg.receiverType.view.title.unitAdd").d("\u65b0\u589e\u7ec4\u7ec7"):"";return R.a.createElement(m["default"],{destroyOnClose:!0,title:P,width:720,visible:n,confirmLoading:o,onOk:this.handleModalOk,onCancel:this.handleModalCancel,okButtonProps:{loading:o,disabled:0===O.length||d||r}},R.a.createElement(x["default"],{className:N["x"]},R.a.createElement(b["default"],N["z"],R.a.createElement(g["default"],N["n"],R.a.createElement(x["default"].Item,Object.assign({},N["y"],{key:U?"groupCode":E?"unitCode":"unKnowCode",label:U?D["a"].get("hmsg.receiverType.model.receiverType.userGroupCode").d("\u7528\u6237\u7ec4\u7f16\u7801"):E?D["a"].get("hmsg.receiverType.model.receiverType.unitCode").d("\u7ec4\u7ec7\u7f16\u7801"):""}),s.getFieldDecorator(U?"groupCode":E?"unitCode":"unKnowCode")(R.a.createElement(w["default"],null)))),R.a.createElement(g["default"],N["n"],R.a.createElement(x["default"].Item,Object.assign({},N["y"],{key:U?"groupName":E?"unitName":"unKnowName",label:U?D["a"].get("hmsg.receiverType.model.receiverType.userGroupName").d("\u7528\u6237\u7ec4\u540d\u79f0"):E?D["a"].get("hmsg.receiverType.model.receiverType.unitName").d("\u7ec4\u7ec7\u540d\u79f0"):""}),s.getFieldDecorator(U?"groupName":E?"unitName":"unKnowName")(R.a.createElement(w["default"],null)))),R.a.createElement(g["default"],Object.assign({},N["n"],{className:N["w"]}),R.a.createElement(x["default"].Item,null,R.a.createElement(h["default"],{htmlType:"button",onClick:this.handleResetBtnClick,disabled:o},D["a"].get("hzero.common.button.reset").d("\u91cd\u7f6e")),R.a.createElement(h["default"],{type:"primary",htmlType:"button",onClick:this.handleSearchBtnClick,disabled:o,loading:d||r},D["a"].get("hzero.common.button.search").d("\u67e5\u8be2")))))),R.a.createElement(T["a"],{bordered:!0,rowKey:U?"userGroupId":E?"unitId":"id",loading:o||r||d,dataSource:f,pagination:v,rowSelection:S,columns:k,scroll:{x:Object(I["w"])(k)},onChange:this.handleTableChange}))}}]),t}(k["Component"]),Object(j["a"])(u.prototype,"handleSearch",[o],Object.getOwnPropertyDescriptor(u.prototype,"handleSearch"),u.prototype),Object(j["a"])(u.prototype,"handleSearchBtnClick",[i],Object.getOwnPropertyDescriptor(u.prototype,"handleSearchBtnClick"),u.prototype),Object(j["a"])(u.prototype,"handleResetBtnClick",[r],Object.getOwnPropertyDescriptor(u.prototype,"handleResetBtnClick"),u.prototype),Object(j["a"])(u.prototype,"handleRowSelectionChange",[l],Object.getOwnPropertyDescriptor(u.prototype,"handleRowSelectionChange"),u.prototype),Object(j["a"])(u.prototype,"handleTableChange",[d],Object.getOwnPropertyDescriptor(u.prototype,"handleTableChange"),u.prototype),Object(j["a"])(u.prototype,"handleModalOk",[c],Object.getOwnPropertyDescriptor(u.prototype,"handleModalOk"),u.prototype),Object(j["a"])(u.prototype,"handleModalCancel",[s],Object.getOwnPropertyDescriptor(u.prototype,"handleModalCancel"),u.prototype),p=u))||p)},278:function(e,t,n){"use strict";n.d(t,"a",function(){return k});var a,o,i,r,l,d=n(19),c=n(111),s=n(112),p=n(114),u=n(113),m=n(115),b=n(117),h=(n(135),n(123)),g=n(126),w=(n(143),n(142)),f=n(1),y=n.n(f),v=n(116),_=n(279),O=n.n(_),C=w["default"].TableRowContext,j=function(e){var t=e.form,n=e.fixed,a=e.record,o=Object(g["a"])(e,["form","fixed","record"]);return n||"create"!==a._status&&"update"!==a._status?y.a.createElement("tr",o):(a.$form=t,y.a.createElement(C.Provider,{value:t},y.a.createElement("tr",o)))},x=h["default"].create({fieldNameProp:null,onValuesChange:function(e,t,n){var a=e.onDataChange,o=e.record;a&&a(o,t,n)},mapProps:function(e){var t=e||{},n=(t.onDataChange,Object(g["a"])(t,["onDataChange"]));return n}})(j),k=(a=Object(v["Bind"])(),o=Object(v["Bind"])(),i=Object(v["Bind"])(),l=function(e){function t(){var e,n;Object(c["a"])(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=Object(p["a"])(this,(e=Object(u["a"])(t)).call.apply(e,[this].concat(o))),n.dataHasChange=!1,n}return Object(m["a"])(t,e),Object(s["a"])(t,[{key:"componentDidUpdate",value:function(e){var t=e.prevDataSource,n=this.props.dataSource;t!==n&&this.dataHasChange&&(this.dataHasChange=!1)}},{key:"render",value:function(){var e=this.props,t=(e.onRow,Object(g["a"])(e,["onRow"])),n={body:{row:x}},a=Object(d["a"])({components:n,rowClassName:O.a["hzero-edit-table"],onRow:this.onRow},t);return y.a.createElement(w["default"],a)}},{key:"handleDataChange",value:function(e,t,n){this.dataHasChange||(this.dataHasChange=!0);var a=this.props.onDataChange;a&&a(e,t,n)}},{key:"onRow",value:function(e,t){var n,a=this.props.onRow;return n=a?a(e,t):{},Object(d["a"])({record:e},n,{onDataChange:this.handleDataChange})}},{key:"hasDataChange",value:function(){return this.dataHasChange}}]),t}(y.a.Component),r=l,Object(b["a"])(r.prototype,"handleDataChange",[a],Object.getOwnPropertyDescriptor(r.prototype,"handleDataChange"),r.prototype),Object(b["a"])(r.prototype,"onRow",[o],Object.getOwnPropertyDescriptor(r.prototype,"onRow"),r.prototype),Object(b["a"])(r.prototype,"hasDataChange",[i],Object.getOwnPropertyDescriptor(r.prototype,"hasDataChange"),r.prototype),r)},279:function(e,t,n){e.exports={"hzero-edit-table":"components-edit-table-index-hzero-edit-table"}}}]);