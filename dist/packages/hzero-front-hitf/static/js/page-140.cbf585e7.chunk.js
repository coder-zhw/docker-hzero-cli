(window["webpackJsonppackages_hzero_front_hitf_name_"]=window["webpackJsonppackages_hzero_front_hitf_name_"]||[]).push([[11],[,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return A});n(170);var a,o,r,i,c,l,p,s,u,m=n(153),d=(n(141),n(145)),f=(n(202),n(203)),h=n(246),y=n(33),b=n(136),v=n(137),g=n(140),O=n(138),x=n(139),j=n(143),w=(n(168),n(152)),T=n(1),k=n.n(T),E=n(142),C=n(135),R=n(186),D=n(132),P=n(43),z=w["default"].Option,A=(a=Object(E["Bind"])(),o=Object(E["Bind"])(),r=Object(E["Bind"])(),i=Object(E["Bind"])(),c=Object(E["Bind"])(),l=Object(E["Bind"])(),p=Object(E["Bind"])(),u=function(e){function t(){var e,n;Object(b["a"])(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return n=Object(g["a"])(this,(e=Object(O["a"])(t)).call.apply(e,[this].concat(o))),n.state={visible:!1,currentParamData:null,currentAction:"create"},n}return Object(x["a"])(t,e),Object(v["a"])(t,[{key:"openDrawer",value:function(){this.setState({visible:!0})}},{key:"closeDrawer",value:function(){this.setState({visible:!1})}},{key:"changeRootType",value:function(e){var t,n=this.props.actionType,a=n.toLowerCase();this.props.onChangeRoot((t={},Object(y["a"])(t,"".concat(a,"RootType"),e),Object(y["a"])(t,"".concat(a,"MimeType"),"application/json"),t))}},{key:"handleSaveParams",value:function(e,t){this.props.onSave(e,t)}},{key:"handleCreate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.setState({visible:!0,currentParamData:t,currentAction:e?"createRecord":"create"})}},{key:"handleEdit",value:function(e){this.setState({visible:!0,currentParamData:e,currentAction:"edit"})}},{key:"getRootType",value:function(){var e=this.props,t=e.actionType,n=e.reqRootType,a=e.respRootType,o="object";return"REQ"===t&&n&&(o=n),"RESP"===t&&a&&(o=a),o}},{key:"render",value:function(){var e=this,t=this.props,n=t.dataSource,a=t.mainColumns,o=t.loading,r=t.confirmLoading,i=t.paramValueTypes,c=t.actionType,l=t.paramType,p=t.mimeType,s=t.rootTypes,u=t.onDelete,y=this.state,b=y.visible,v=y.currentParamData,g=y.recordCreateFlag,O=y.currentAction,x=!!n.length,j=[].concat(Object(h["a"])(a),[{title:C["a"].get("hzero.common.button.action").d("\u64cd\u4f5c"),fixed:"right",width:180,render:function(t,n){var a=[{key:"edit",ele:k.a.createElement("a",{onClick:function(){return e.handleEdit(n)}},C["a"].get("hzero.common.status.edit").d("\u7f16\u8f91")),len:2,title:C["a"].get("hzero.common.button.edit").d("\u7f16\u8f91")},("OBJECT"===n.paramValueType||"ARRAY"===n.paramValueType)&&{key:"create",ele:k.a.createElement("a",{onClick:function(){return e.handleCreate(!0,n)}},C["a"].get("hzero.common.button.create").d("\u65b0\u5efa")),len:2,title:C["a"].get("hzero.common.button.create").d("\u65b0\u5efa")},{key:"delete",ele:k.a.createElement(f["default"],{title:C["a"].get("hzero.common.message.confirm.delete").d("\u662f\u5426\u5220\u9664\u6b64\u6761\u8bb0\u5f55\uff1f"),placement:"topRight",onConfirm:function(){return u(n)}},k.a.createElement("a",null,C["a"].get("hzero.common.button.delete").d("\u5220\u9664"))),len:2,title:C["a"].get("hzero.common.button.delete").d("\u5220\u9664")}].filter(Boolean);return Object(R["d"])(a,n)}}]),E={columns:j,loading:o,dataSource:n,pagination:!1,bordered:!0,scroll:{x:Object(D["y"])(j)},defaultExpandAllRows:!0},A={visible:b,paramType:l,mimeType:p,actionType:c,recordCreateFlag:g,currentAction:O,currentParamData:v,confirmLoading:r,isHaveRoot:x,paramValueTypes:i,onCancel:this.closeDrawer,onSave:this.handleSaveParams};return k.a.createElement(T["Fragment"],null,k.a.createElement("div",{className:"table-list-search",style:{textAlign:"right",marginTop:"10ox"}},"application/json"===p&&k.a.createElement(T["Fragment"],null,k.a.createElement("span",null,C["a"].get("hitf.document.view.title.rootType").d("JSON\u6839\u7c7b\u578b"),":"),k.a.createElement(w["default"],{style:{margin:"10px 8px 0",width:"90px"},onChange:this.changeRootType,value:this.getRootType()},s.length&&s.map(function(e){var t=e.value,n=e.meaning;return k.a.createElement(z,{key:t,value:t},n)}))),k.a.createElement(d["default"],{type:"primary",onClick:function(){return e.handleCreate(!1)},disabled:"application/json"!==p&&x},C["a"].get("hzero.common.button.create").d("\u65b0\u5efa"))),k.a.createElement(m["default"],E),k.a.createElement(P["default"],A))}}]),t}(T["Component"]),s=u,Object(j["a"])(s.prototype,"openDrawer",[a],Object.getOwnPropertyDescriptor(s.prototype,"openDrawer"),s.prototype),Object(j["a"])(s.prototype,"closeDrawer",[o],Object.getOwnPropertyDescriptor(s.prototype,"closeDrawer"),s.prototype),Object(j["a"])(s.prototype,"changeRootType",[r],Object.getOwnPropertyDescriptor(s.prototype,"changeRootType"),s.prototype),Object(j["a"])(s.prototype,"handleSaveParams",[i],Object.getOwnPropertyDescriptor(s.prototype,"handleSaveParams"),s.prototype),Object(j["a"])(s.prototype,"handleCreate",[c],Object.getOwnPropertyDescriptor(s.prototype,"handleCreate"),s.prototype),Object(j["a"])(s.prototype,"handleEdit",[l],Object.getOwnPropertyDescriptor(s.prototype,"handleEdit"),s.prototype),Object(j["a"])(s.prototype,"getRootType",[p],Object.getOwnPropertyDescriptor(s.prototype,"getRootType"),s.prototype),s)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return P});n(150);var a,o,r,i,c,l,p,s,u=n(151),m=(n(146),n(148)),d=n(31),f=n(136),h=n(137),y=n(140),b=n(138),v=n(139),g=n(143),O=(n(168),n(152)),x=(n(149),n(147)),j=n(1),w=n.n(j),T=n(142),k=n(250),E=n(135),C=n(166),R=x["default"].Item,D=O["default"].Option,P=(a=x["default"].create({fieldNameProp:null}),o=Object(T["Bind"])(),r=Object(T["Bind"])(),i=Object(T["Bind"])(),c=Object(T["Bind"])(),l=Object(T["Bind"])(),a((s=function(e){function t(){return Object(f["a"])(this,t),Object(y["a"])(this,Object(b["a"])(t).apply(this,arguments))}return Object(v["a"])(t,e),Object(h["a"])(t,[{key:"handleClose",value:function(){var e=this.props.onCancel;e()}},{key:"handleOk",value:function(){var e=this.props,t=e.form,n=e.actionType,a=e.paramType,o=e.onSave,r=e.mimeType,i=e.currentParamData,c=e.currentAction;t.validateFields(function(e,t){if(!e){var l={requiredFlag:0};if(r&&(l.mimeType=r),"edit"!==c)l=Object(d["a"])({parentId:i?i.paramId:null,paramType:a,actionType:n},l,t),o({values:l,flag:"create"});else{var p=i.objectVersionNumber,s=i._token,u=i.paramId,m=i.parentId;l=Object(d["a"])({objectVersionNumber:p,paramId:u,parentId:m,paramType:a,actionType:n,_token:s},l,t),o({values:l,flag:"edit"})}}})}},{key:"renderTitle",value:function(){var e,t=this.props.currentAction;switch(t){case"create":e=E["a"].get("hitf.document.view.title.create.rootParams").d("\u65b0\u5efa\u6839\u8282\u70b9\u53c2\u6570");break;case"createRecord":e=E["a"].get("hitf.document.view.title.create.childParams").d("\u65b0\u5efa\u5b50\u8282\u70b9\u53c2\u6570");break;case"edit":e=E["a"].get("hitf.document.view.title.edit.params").d("\u7f16\u8f91\u53c2\u6570");break;default:break}return e}},{key:"renderTypeInitialValue",value:function(){var e,t=this.props,n=t.currentParamData,a=t.isHaveRoot,o=t.mimeType,r=t.currentAction,i="edit"===r;return i?e=n.paramValueType:a||"text/xml"!==o||(e="OBJECT"),e}},{key:"renderComponent",value:function(){var e=this.props,t=e.paramValueTypes,n=void 0===t?[]:t,a=e.isHaveRoot,o=e.mimeType,r=e.currentParamData,i=e.currentAction,c="edit"===i,l=r&&r.levelPath.split("/")||[],p=["STRING","ARRAY","OBJECT","NUMBER","BOOLEAN"];"text/xml"===o?!a||2===l.length&&c?p=["OBJECT"]:a&&2!==l.length&&c&&r&&r.children&&(p=["OBJECT","ARRAY"]):"application/json"===o&&r&&r.children&&c&&(p=["OBJECT","ARRAY"]);var s=n.filter(function(e){return p.includes(e.value)});return w.a.createElement(O["default"],{allowClear:!0},s.length&&s.map(function(e){var t=e.value,n=e.meaning;return w.a.createElement(D,{key:t,value:t},n)}))}},{key:"render",value:function(){var e=this.props,t=e.form,n=e.visible,a=e.confirmLoading,o=e.currentParamData,r=e.currentAction,i=e.isHaveRoot,c=e.mimeType,l=t.getFieldDecorator,p="edit"===r;return w.a.createElement(u["default"],{destroyOnClose:!0,title:this.renderTitle(),visible:n,onCancel:this.handleClose,onOk:this.handleOk,wrapClassName:"ant-modal-sidebar-right",transitionName:"move-right",confirmLoading:a},w.a.createElement(x["default"],null,w.a.createElement(R,Object.assign({label:E["a"].get("hitf.services.model.services.paramName").d("\u53c2\u6570\u540d")},C["s"]),l("paramName",{rules:[{required:!0,message:E["a"].get("hzero.common.validation.notNull",{name:E["a"].get("hitf.services.model.services.paramName").d("\u53c2\u6570\u540d")})},{max:128,message:E["a"].get("hzero.common.validation.max",{max:128})}],initialValue:p?o.paramName:void 0})(w.a.createElement(m["default"],null))),w.a.createElement(R,Object.assign({label:E["a"].get("hitf.services.model.services.paramValueType").d("\u7c7b\u578b")},C["s"]),l("paramValueType",{rules:[{required:!0,message:E["a"].get("hzero.common.validation.notNull",{name:E["a"].get("hitf.services.model.services.paramValueType").d("\u7c7b\u578b")})}],initialValue:this.renderTypeInitialValue()})(this.renderComponent())),w.a.createElement(R,Object.assign({label:E["a"].get("hitf.services.model.services.requiredFlag").d("\u662f\u5426\u5fc5\u586b")},C["s"]),l("requiredFlag",{initialValue:p?o.requiredFlag:1})(w.a.createElement(k["a"],{disabled:!i&&"text/xml"===c}))),w.a.createElement(R,Object.assign({label:E["a"].get("hitf.services.model.services.formatRegexp").d("\u683c\u5f0f\u9650\u5236")},C["s"]),l("formatRegexp",{initialValue:p?o.formatRegexp:void 0,rules:[{max:30,message:E["a"].get("hzero.common.validation.max",{max:30})}]})(w.a.createElement(m["default"],null))),w.a.createElement(R,Object.assign({label:E["a"].get("hitf.services.model.services.remark").d("\u8bf4\u660e")},C["s"]),l("remark",{initialValue:p?o.remark:void 0})(w.a.createElement(m["default"],null))),w.a.createElement(R,Object.assign({label:E["a"].get("hitf.services.model.services.demo").d("\u793a\u4f8b")},C["s"]),l("valueDemo",{initialValue:p?o.valueDemo:void 0})(w.a.createElement(m["default"],null)))))}}]),t}(j["PureComponent"]),Object(g["a"])(s.prototype,"handleClose",[o],Object.getOwnPropertyDescriptor(s.prototype,"handleClose"),s.prototype),Object(g["a"])(s.prototype,"handleOk",[r],Object.getOwnPropertyDescriptor(s.prototype,"handleOk"),s.prototype),Object(g["a"])(s.prototype,"renderTitle",[i],Object.getOwnPropertyDescriptor(s.prototype,"renderTitle"),s.prototype),Object(g["a"])(s.prototype,"renderTypeInitialValue",[c],Object.getOwnPropertyDescriptor(s.prototype,"renderTypeInitialValue"),s.prototype),Object(g["a"])(s.prototype,"renderComponent",[l],Object.getOwnPropertyDescriptor(s.prototype,"renderComponent"),s.prototype),p=s))||p)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(0)(1169)},function(e,t,n){e.exports=n(123)(2563)},function(e,t,n){"use strict";function a(e,t,n,a,o){var r={};return Object.keys(a).forEach(function(e){r[e]=a[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(n,a){return a(e,t,n)||n},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}n.d(t,"a",function(){return a})},function(e,t,n){e.exports=n(0)(198)},function(e,t,n){e.exports=n(0)(111)},,function(e,t,n){e.exports=n(0)(1147)},function(e,t,n){e.exports=n(0)(293)},,function(e,t,n){"use strict";n(144),n(172),n(141)},function(e,t,n){e.exports=n(0)(1154)},function(e,t,n){e.exports=n(0)(164)},function(e,t,n){e.exports=n(0)(1161)},,,,,,function(e,t,n){e.exports=n(0)(116)},function(e,t,n){e.exports=n(0)(1155)},,,function(e,t,n){e.exports=n(0)(1168)},function(e,t,n){e.exports=n(0)(37)},function(e,t,n){e.exports=n(0)(82)},,,,,,function(e,t,n){e.exports=n(0)(34)},function(e,t,n){e.exports={"ant-modal":"ant-modal","ant-modal-wrap":"ant-modal-wrap","ant-modal-title":"ant-modal-title","ant-modal-content":"ant-modal-content","ant-modal-close":"ant-modal-close","ant-modal-close-x":"ant-modal-close-x","ant-modal-header":"ant-modal-header","ant-modal-body":"ant-modal-body","ant-modal-footer":"ant-modal-footer","zoom-enter":"zoom-enter","zoom-appear":"zoom-appear","ant-modal-mask":"ant-modal-mask","ant-modal-mask-hidden":"ant-modal-mask-hidden","ant-modal-open":"ant-modal-open","vertical-center-modal":"vertical-center-modal","ant-confirm":"ant-confirm","ant-confirm-body-wrapper":"ant-confirm-body-wrapper","ant-confirm-body":"ant-confirm-body","ant-confirm-title":"ant-confirm-title","ant-confirm-content":"ant-confirm-content",anticon:"anticon","ant-confirm-btns":"ant-confirm-btns","ant-confirm-error":"ant-confirm-error","ant-confirm-warning":"ant-confirm-warning","ant-confirm-confirm":"ant-confirm-confirm","ant-confirm-info":"ant-confirm-info","ant-confirm-success":"ant-confirm-success"}},,function(e,t,n){e.exports=n(0)(130)},,,,function(e,t,n){e.exports=n(0)(156)},,,function(e,t,n){e.exports=n(0)(274)},function(e,t,n){e.exports=n(123)(2648)},function(e,t,n){e.exports=n(0)(604)},function(e,t,n){e.exports=n(0)(1167)},,,function(e,t,n){e.exports=n(0)(829)},function(e,t,n){e.exports=n(0)(182)},,function(e,t,n){e.exports=n(0)(2130)},function(e,t,n){e.exports=n(0)(661)},function(e,t,n){e.exports=n(0)(2092)},,function(e,t,n){e.exports=n(0)(849)},function(e,t,n){e.exports=n(0)(328)},function(e,t,n){e.exports=n(0)(270)},function(e,t,n){e.exports=n(0)(170)},function(e,t,n){e.exports=n(0)(324)},function(e,t,n){e.exports=n(0)(386)},function(e,t,n){e.exports=n(0)(387)},,function(e,t,n){e.exports=n(0)(2094)},function(e,t,n){e.exports=n(0)(535)},function(e,t,n){e.exports=n(0)(325)},function(e,t,n){e.exports=n(0)(1132)},,,,function(e,t,n){e.exports=n(123)(2662)},function(e,t,n){e.exports=n(0)(241)},function(e,t,n){e.exports=n(0)(151)},function(e,t,n){e.exports=n(123)(1367)},function(e,t,n){e.exports=n(0)(127)},function(e,t,n){e.exports=n(0)(484)},function(e,t,n){e.exports=n(0)(2129)},function(e,t,n){e.exports=n(0)(235)},function(e,t,n){e.exports=n(0)(209)},function(e,t,n){e.exports=n(0)(868)},function(e,t,n){e.exports=n(0)(385)},function(e,t,n){e.exports=n(0)(255)},function(e,t,n){e.exports=n(0)(1960)},function(e,t,n){e.exports=n(0)(298)},function(e,t,n){e.exports=n(0)(580)},function(e,t,n){e.exports=n(0)(582)},function(e,t,n){e.exports=n(0)(128)},function(e,t,n){e.exports=n(0)(108)},function(e,t,n){e.exports=n(0)(472)},function(e,t,n){e.exports=n(0)(873)},,,,,,,,,,,,,function(e,t,n){e.exports=n(0)(1974)},,,,,,,,,function(e,t,n){"use strict";n(144),n(258);var a=n(260),o=n(136),r=n(137),i=n(140),c=n(138),l=n(139),p=n(1),s=n.n(p);n.d(t,"a",function(){return u});var u=function(e){function t(){return Object(o["a"])(this,t),Object(i["a"])(this,Object(c["a"])(t).apply(this,arguments))}return Object(l["a"])(t,e),Object(r["a"])(t,[{key:"render",value:function(){return s.a.createElement(a["default"],Object.assign({},this.props,{unCheckedValue:0,checkedValue:1}))}}]),t}(s.a.Component);u.displayName="HzeroSwitch"},,,,,,,,function(e,t,n){e.exports={"ant-switch":"ant-switch","ant-switch-inner":"ant-switch-inner",loadingCircle:"loadingCircle","ant-switch-loading":"ant-switch-loading","ant-switch-checked":"ant-switch-checked","ant-switch-small":"ant-switch-small",AntSwitchSmallLoadingCircle:"AntSwitchSmallLoadingCircle","ant-switch-disabled":"ant-switch-disabled"}},,function(e,t,n){e.exports=n(0)(1160)}]]);