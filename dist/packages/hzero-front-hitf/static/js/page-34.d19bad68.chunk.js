(window["webpackJsonppackages_hzero_front_hitf_name_"]=window["webpackJsonppackages_hzero_front_hitf_name_"]||[]).push([[77],{141:function(e,t,n){e.exports=n(0)(1169)},142:function(e,t,n){e.exports=n(123)(2563)},143:function(e,t,n){"use strict";function o(e,t,n,o,a){var i={};return Object.keys(o).forEach(function(e){i[e]=o[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}n.d(t,"a",function(){return o})},144:function(e,t,n){e.exports=n(0)(198)},145:function(e,t,n){e.exports=n(0)(111)},147:function(e,t,n){e.exports=n(0)(1147)},148:function(e,t,n){e.exports=n(0)(293)},150:function(e,t,n){"use strict";n(144),n(172),n(141)},151:function(e,t,n){e.exports=n(0)(1154)},153:function(e,t,n){e.exports=n(0)(1161)},159:function(e,t,n){e.exports=n(0)(116)},160:function(e,t,n){e.exports=n(0)(1155)},163:function(e,t,n){e.exports=n(0)(1168)},164:function(e,t,n){e.exports=n(0)(37)},165:function(e,t,n){e.exports=n(0)(82)},171:function(e,t,n){e.exports=n(0)(34)},172:function(e,t,n){e.exports={"ant-modal":"ant-modal","ant-modal-wrap":"ant-modal-wrap","ant-modal-title":"ant-modal-title","ant-modal-content":"ant-modal-content","ant-modal-close":"ant-modal-close","ant-modal-close-x":"ant-modal-close-x","ant-modal-header":"ant-modal-header","ant-modal-body":"ant-modal-body","ant-modal-footer":"ant-modal-footer","zoom-enter":"zoom-enter","zoom-appear":"zoom-appear","ant-modal-mask":"ant-modal-mask","ant-modal-mask-hidden":"ant-modal-mask-hidden","ant-modal-open":"ant-modal-open","vertical-center-modal":"vertical-center-modal","ant-confirm":"ant-confirm","ant-confirm-body-wrapper":"ant-confirm-body-wrapper","ant-confirm-body":"ant-confirm-body","ant-confirm-title":"ant-confirm-title","ant-confirm-content":"ant-confirm-content",anticon:"anticon","ant-confirm-btns":"ant-confirm-btns","ant-confirm-error":"ant-confirm-error","ant-confirm-warning":"ant-confirm-warning","ant-confirm-confirm":"ant-confirm-confirm","ant-confirm-info":"ant-confirm-info","ant-confirm-success":"ant-confirm-success"}},174:function(e,t,n){e.exports=n(0)(130)},178:function(e,t,n){e.exports=n(0)(156)},181:function(e,t,n){e.exports=n(0)(274)},182:function(e,t,n){e.exports=n(123)(2648)},183:function(e,t,n){e.exports=n(0)(604)},184:function(e,t,n){e.exports=n(0)(1167)},187:function(e,t,n){e.exports=n(0)(829)},188:function(e,t,n){e.exports=n(0)(182)},190:function(e,t,n){e.exports=n(0)(2130)},191:function(e,t,n){e.exports=n(0)(661)},192:function(e,t,n){e.exports=n(0)(2092)},194:function(e,t,n){e.exports=n(0)(849)},195:function(e,t,n){e.exports=n(0)(328)},196:function(e,t,n){e.exports=n(0)(270)},197:function(e,t,n){e.exports=n(0)(170)},198:function(e,t,n){e.exports=n(0)(324)},199:function(e,t,n){e.exports=n(0)(386)},200:function(e,t,n){e.exports=n(0)(387)},204:function(e,t,n){e.exports=n(0)(325)},205:function(e,t,n){e.exports=n(0)(1132)},209:function(e,t,n){e.exports=n(123)(2662)},210:function(e,t,n){e.exports=n(0)(241)},211:function(e,t,n){e.exports=n(0)(151)},212:function(e,t,n){e.exports=n(123)(1367)},213:function(e,t,n){e.exports=n(0)(127)},214:function(e,t,n){e.exports=n(0)(484)},215:function(e,t,n){e.exports=n(0)(2129)},216:function(e,t,n){e.exports=n(0)(235)},217:function(e,t,n){e.exports=n(0)(209)},218:function(e,t,n){e.exports=n(0)(868)},219:function(e,t,n){e.exports=n(0)(385)},220:function(e,t,n){e.exports=n(0)(255)},221:function(e,t,n){e.exports=n(0)(1960)},222:function(e,t,n){e.exports=n(0)(298)},223:function(e,t,n){e.exports=n(0)(580)},224:function(e,t,n){e.exports=n(0)(582)},225:function(e,t,n){e.exports=n(0)(128)},226:function(e,t,n){e.exports=n(0)(108)},227:function(e,t,n){e.exports=n(0)(472)},228:function(e,t,n){e.exports=n(0)(873)},241:function(e,t,n){e.exports=n(0)(1974)},332:function(e,t,n){"use strict";n.d(t,"a",function(){return N});n(150);var o,a,i,r,c,l,d,s,p,u,f=n(151),m=(n(170),n(153)),h=(n(141),n(145)),y=(n(146),n(148)),b=n(31),g=(n(189),n(160)),O=n(136),v=n(137),x=n(140),j=n(138),w=n(185),C=n(139),R=n(143),k=(n(149),n(147)),D=n(1),M=n.n(D),E=n(142),S=n(135),z=n(132),B=k["default"].Item,N=(o=k["default"].create({fieldNameProp:null}),a=Object(E["Bind"])(),i=Object(E["Bind"])(),r=Object(E["Bind"])(),c=Object(E["Bind"])(),l=Object(E["Bind"])(),d=Object(E["Bind"])(),s=Object(E["Bind"])(),o((u=function(e){function t(e){var n;return Object(O["a"])(this,t),n=Object(x["a"])(this,Object(j["a"])(t).call(this,e)),e.onRef(Object(w["a"])(n)),n.state={addRows:[]},n}return Object(C["a"])(t,e),Object(v["a"])(t,[{key:"okHandle",value:function(){var e=this.props.addData,t=this.state.addRows;t.length?e(t):g["default"].warning({message:S["a"].get("hzero.common.validation.atLeast").d("\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u6761\u6570\u636e")})}},{key:"cancelHandle",value:function(){var e=this.props.onHideAddModal;e&&e(!1)}},{key:"handleTableChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.props,n=t.fetchModalData,o=t.form,a=Object(z["c"])(o.getFieldsValue());n&&n(Object(b["a"])({page:e},a))}},{key:"onSelectChange",value:function(e,t){this.setState({addRows:t})}},{key:"handleFormReset",value:function(){var e=this.props.form;e.resetFields()}},{key:"queryValue",value:function(){var e=this.props,t=e.form,n=e.fetchModalData;if(n){var o=Object(z["c"])(t.getFieldsValue());n(o||{})}this.setState({addRows:[]})}},{key:"renderForm",value:function(){var e=this.props,t=e.queryCode,n=e.queryName,o=e.queryCodeDesc,a=e.queryNameDesc,i=this.props.form.getFieldDecorator;return M.a.createElement(k["default"],{layout:"inline"},M.a.createElement(B,{label:o},i("".concat(t))(M.a.createElement(y["default"],{trim:!0,inputChinese:!1}))),M.a.createElement(B,{label:a},i("".concat(n))(M.a.createElement(y["default"],null))),M.a.createElement(B,null,M.a.createElement(h["default"],{style:{marginRight:8},onClick:this.handleFormReset},S["a"].get("hzero.common.button.reset").d("\u91cd\u7f6e")),M.a.createElement(h["default"],{type:"primary",htmlType:"submit",onClick:this.queryValue},S["a"].get("hzero.common.button.search").d("\u67e5\u8be2"))))}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.modalVisible,o=e.loading,a=e.confirmLoading,i=e.rowKey,r=e.columns,c=void 0===r?[]:r,l=e.dataSource,d=void 0===l?[]:l,s=e.pagination,p=void 0===s?{}:s,u=e.isQuery,h=void 0===u||u,y=this.state.addRows,b={onChange:this.onSelectChange,selectedRowKeys:y.map(function(e){return e[i]})};return M.a.createElement(f["default"],{destroyOnClose:!0,confirmLoading:a,title:t,visible:n,onOk:this.okHandle,width:800,onCancel:this.cancelHandle},h&&M.a.createElement("div",{className:"table-list-search"},this.renderForm()),M.a.createElement(m["default"],{bordered:!0,rowKey:i,columns:c,scroll:{x:Object(z["y"])(c)},loading:o,dataSource:d,rowSelection:b,pagination:p,onChange:this.handleTableChange}))}}]),t}(M.a.Component),Object(R["a"])(u.prototype,"okHandle",[a],Object.getOwnPropertyDescriptor(u.prototype,"okHandle"),u.prototype),Object(R["a"])(u.prototype,"cancelHandle",[i],Object.getOwnPropertyDescriptor(u.prototype,"cancelHandle"),u.prototype),Object(R["a"])(u.prototype,"handleTableChange",[r],Object.getOwnPropertyDescriptor(u.prototype,"handleTableChange"),u.prototype),Object(R["a"])(u.prototype,"onSelectChange",[c],Object.getOwnPropertyDescriptor(u.prototype,"onSelectChange"),u.prototype),Object(R["a"])(u.prototype,"handleFormReset",[l],Object.getOwnPropertyDescriptor(u.prototype,"handleFormReset"),u.prototype),Object(R["a"])(u.prototype,"queryValue",[d],Object.getOwnPropertyDescriptor(u.prototype,"queryValue"),u.prototype),Object(R["a"])(u.prototype,"renderForm",[s],Object.getOwnPropertyDescriptor(u.prototype,"renderForm"),u.prototype),p=u))||p)},61:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return D});n(170);var o,a,i,r,c,l,d,s=n(153),p=(n(141),n(145)),u=n(31),f=n(136),m=n(137),h=n(140),y=n(138),b=n(139),g=n(143),O=n(154),v=n.n(O),x=n(1),j=n.n(x),w=n(142),C=n(135),R=n(132),k=n(332),D=(o=Object(w["Bind"])(),a=Object(w["Bind"])(),i=Object(w["Bind"])(),r=Object(w["Bind"])(),c=Object(w["Bind"])(),d=function(e){function t(){var e,n;Object(f["a"])(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=Object(h["a"])(this,(e=Object(y["a"])(t)).call.apply(e,[this].concat(a))),n.state={addModalVisible:!1},n}return Object(b["a"])(t,e),Object(m["a"])(t,[{key:"fetchModalData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.props,n=t.onFetchModalData,o=void 0===n?function(){}:n,a=t.organizationId,i=t.formDataSource,r=void 0===i?{}:i,c=Object(u["a"])({roleId:r.id,tenantId:a},e);o(c)}},{key:"handleOpenModal",value:function(){var e=this.props,t=e.loading,n=e.addAuthLoading;t||n||(this.fetchModalData(),this.setState({addModalVisible:!0}))}},{key:"handleCloseModal",value:function(){this.interfaceRef.state.addRows=[],this.setState({addModalVisible:!1})}},{key:"handleBindRef",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.interfaceRef=e}},{key:"handleCreateLine",value:function(e){var t=this.props.add,n=void 0===t?function(){}:t;n(e,this.handleCloseModal)}},{key:"render",value:function(){var e=this.props,t=e.dataSource,n=void 0===t?[]:t,o=e.selectedRowKeys,a=void 0===o?[]:o,i=e.loading,r=e.onRowSelectionChange,c=void 0===r?function(e){return e}:r,l=e.listSelectedRows,d=e.deleteRows,u=void 0===d?function(){}:d,f=e.onChange,m=void 0===f?function(){}:f,h=e.pagination,y=void 0===h?{}:h,b=e.queryInterfaceLoading,g=e.interfaceList,O=e.addAuthLoading,w=this.state.addModalVisible,D=[{title:C["a"].get("hitf.application.model.application.permissionType").d("\u6388\u6743\u7c7b\u578b"),dataIndex:"permissionTypeMeaning",width:"50%"},{title:C["a"].get("hitf.application.model.application.interfaceName").d("\u63a5\u53e3\u540d\u79f0"),dataIndex:"interfaceName",width:"50%"}],M={dataSource:n,pagination:y,loading:i,bordered:!0,columns:D,scroll:{x:Object(R["y"])(D)},rowSelection:{selectedRowKeys:a,onChange:c},onChange:m},E=[{title:C["a"].get("hitf.clientRole.model.clientRole.interfaceCode").d("\u63a5\u53e3\u4ee3\u7801"),dataIndex:"interfaceCode",width:250},{title:C["a"].get("hitf.clientRole.model.clientRole.interfaceName").d("\u63a5\u53e3\u540d\u79f0"),dataIndex:"interfaceName",width:250},{title:C["a"].get("hitf.clientRole.model.clientRole.serverCode").d("\u670d\u52a1\u4ee3\u7801"),dataIndex:"serverCode",width:100},{title:C["a"].get("hitf.clientRole.model.clientRole.serverName").d("\u670d\u52a1\u540d\u79f0"),dataIndex:"serverName",width:300}],S={columns:E,confirmLoading:O,loading:b,title:C["a"].get("hitf.clientRole.view.message.title.interface").d("\u9009\u62e9\u63a5\u53e3"),rowKey:"interfaceId",queryName:"interfaceName",queryCode:"interfaceCode",queryNameDesc:C["a"].get("hitf.clientRole.model.clientRole.interfaceName").d("\u63a5\u53e3\u540d\u79f0"),queryCodeDesc:C["a"].get("hitf.clientRole.model.clientRole.interfaceCode").d("\u63a5\u53e3\u4ee3\u7801"),dataSource:g.dataSource||[],pagination:g.pagination||{},modalVisible:w,addData:this.handleCreateLine,onHideAddModal:this.handleCloseModal,fetchModalData:this.fetchModalData,onRef:this.handleBindRef};return j.a.createElement(x["Fragment"],null,j.a.createElement("div",{className:"action",style:{textAlign:"right"}},j.a.createElement(p["default"],{icon:"minus",disabled:v()(l),onClick:u,style:{marginRight:8}},C["a"].get("hitf.application.view.button.deleteAuth").d("\u5220\u9664\u6388\u6743")),j.a.createElement(p["default"],{type:"primary",onClick:this.handleOpenModal},C["a"].get("hitf.application.view.button.addAuth").d("\u6dfb\u52a0\u6388\u6743"))),j.a.createElement("br",null),j.a.createElement(s["default"],M),j.a.createElement(k["a"],S))}}]),t}(x["PureComponent"]),l=d,Object(g["a"])(l.prototype,"fetchModalData",[o],Object.getOwnPropertyDescriptor(l.prototype,"fetchModalData"),l.prototype),Object(g["a"])(l.prototype,"handleOpenModal",[a],Object.getOwnPropertyDescriptor(l.prototype,"handleOpenModal"),l.prototype),Object(g["a"])(l.prototype,"handleCloseModal",[i],Object.getOwnPropertyDescriptor(l.prototype,"handleCloseModal"),l.prototype),Object(g["a"])(l.prototype,"handleBindRef",[r],Object.getOwnPropertyDescriptor(l.prototype,"handleBindRef"),l.prototype),Object(g["a"])(l.prototype,"handleCreateLine",[c],Object.getOwnPropertyDescriptor(l.prototype,"handleCreateLine"),l.prototype),l)}}]);