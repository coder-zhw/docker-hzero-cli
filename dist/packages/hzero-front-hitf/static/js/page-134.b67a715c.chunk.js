(window["webpackJsonppackages_hzero_front_hitf_name_"]=window["webpackJsonppackages_hzero_front_hitf_name_"]||[]).push([[49],{135:function(e,t,n){"use strict";var a=n(182),r=n.n(a);t["a"]=r.a,window.intl=r.a},141:function(e,t,n){e.exports=n(0)(1169)},142:function(e,t,n){e.exports=n(123)(2563)},144:function(e,t,n){e.exports=n(0)(198)},145:function(e,t,n){e.exports=n(0)(111)},152:function(e,t,n){e.exports=n(0)(164)},162:function(e,t,n){e.exports=n(0)(418)},175:function(e,t,n){"use strict";n(144),n(335)},182:function(e,t,n){e.exports=n(123)(2648)},242:function(e,t,n){e.exports=n(0)(2342)},254:function(e,t,n){e.exports=n(0)(2343)},264:function(e,t,n){e.exports={"top-tabs":"hitf-routes-services-document-index-top-tabs","sub-params-tabs":"hitf-routes-services-document-index-sub-params-tabs","hiam-interface-model-btns":"hitf-routes-services-document-index-hiam-interface-model-btns","hzero-codemirror":"hitf-routes-services-document-index-hzero-codemirror","hitf-view-modal":"hitf-routes-services-document-index-hitf-view-modal",wrapper:"hitf-routes-services-document-index-wrapper",demo:"hitf-routes-services-document-index-demo",alternative:"hitf-routes-services-document-index-alternative","hitf-remark-wrapper":"hitf-routes-services-document-index-hitf-remark-wrapper"}},335:function(e,t,n){e.exports={"ant-spin":"ant-spin","ant-spin-spinning":"ant-spin-spinning","ant-spin-nested-loading":"ant-spin-nested-loading","ant-spin-dot":"ant-spin-dot","ant-spin-text":"ant-spin-text","ant-spin-show-text":"ant-spin-show-text","ant-spin-sm":"ant-spin-sm","ant-spin-lg":"ant-spin-lg","ant-spin-container":"ant-spin-container","ant-spin-blur":"ant-spin-blur","ant-spin-tip":"ant-spin-tip",antSpinMove:"antSpinMove","ant-spin-dot-spin":"ant-spin-dot-spin",antRotate:"antRotate"}},50:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return R});n(175);var a,r,i,o,p,s,c=n(162),u=(n(141),n(145)),l=n(136),d=n(137),h=n(140),m=n(138),f=n(139),y=n(143),g=(n(168),n(152)),v=n(1),w=n.n(v),b=n(135),x=n(242),O=(n(243),n(244),n(245),n(142)),T=n(264),k=n.n(T),j=g["default"].Option,R=(a=Object(O["Bind"])(),r=Object(O["Bind"])(),i=Object(O["Bind"])(),o=Object(O["Bind"])(),s=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(h["a"])(this,Object(m["a"])(t).call(this)),e.editor=void 0,e.state={rawValue:""},e}return Object(f["a"])(t,e),Object(d["a"])(t,[{key:"componentDidMount",value:function(){var e=this.props.dataSource;this.setState({rawValue:e?e[0].defaultValueLongtext:""})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){return e.dataSource!==this.props.dataSource&&this.setState({rawValue:e.dataSource[0].defaultValueLongtext}),null}},{key:"handleChangeValue",value:function(e,t,n){this.setState({rawValue:n})}},{key:"changeRawType",value:function(e){var t="REQ"===this.props.actionType?{reqMimeType:e,reqRawFlag:1}:{respMimeType:e,respRawFlag:1};this.props.onRawChange(t)}},{key:"handleOk",value:function(){var e=this.props,t=e.onSave,n=e.dataSource,a=e.paramType,r=e.actionType,i=e.mimeType,o=this.state.rawValue,p={};if(n){var s=n[0],c=s.objectVersionNumber,u=s._token,l=s.paramId;p={requiredFlag:0,paramId:l,paramType:a,actionType:r,mimeType:i,_token:u,objectVersionNumber:c,defaultValueLongtext:o},t({values:p,flag:"edit"})}else p={requiredFlag:0,paramType:a,actionType:r,mimeType:i,defaultValueLongtext:o},t({values:p,flag:"create"})}},{key:"getRawType",value:function(){var e=this.props,t=e.actionType,n=e.respRawType,a=e.resRawType,r="text/plain";return"REQ"===t&&(r=a),"RESP"===t&&(r=n),r}},{key:"render",value:function(){var e=this.state.rawValue,t=this.props,n=t.loading,a=t.confirmLoading,r=t.rawMimeTypes;return w.a.createElement(c["default"],{spinning:n},w.a.createElement("div",{className:"table-list-search",style:{textAlign:"right",marginTop:"10px"}},w.a.createElement("span",null,b["a"].get("hitf.document.view.title.rawType").d("raw\u7c7b\u578b"),":"),w.a.createElement(g["default"],{style:{margin:"0 8px",width:"150px"},onChange:this.changeRawType,value:this.getRawType()},r.length&&r.map(function(e){var t=e.value,n=e.meaning;return w.a.createElement(j,{key:t,value:t},n)})),w.a.createElement(u["default"],{onClick:this.handleOk,type:"primary",loading:a},b["a"].get("hzero.common.button.save").d("\u4fdd\u5b58"))),w.a.createElement(x["Controlled"],{autoScroll:!0,className:k.a["hzero-codemirror"],value:e,options:{mode:"javascript",lineNumbers:!0},onBeforeChange:this.handleChangeValue}))}}]),t}(v["Component"]),p=s,Object(y["a"])(p.prototype,"handleChangeValue",[a],Object.getOwnPropertyDescriptor(p.prototype,"handleChangeValue"),p.prototype),Object(y["a"])(p.prototype,"changeRawType",[r],Object.getOwnPropertyDescriptor(p.prototype,"changeRawType"),p.prototype),Object(y["a"])(p.prototype,"handleOk",[i],Object.getOwnPropertyDescriptor(p.prototype,"handleOk"),p.prototype),Object(y["a"])(p.prototype,"getRawType",[o],Object.getOwnPropertyDescriptor(p.prototype,"getRawType"),p.prototype),p)}}]);