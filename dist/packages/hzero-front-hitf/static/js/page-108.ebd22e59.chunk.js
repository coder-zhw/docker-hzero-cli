(window["webpackJsonppackages_hzero_front_hitf_name_"]=window["webpackJsonppackages_hzero_front_hitf_name_"]||[]).push([[42],Array(85).concat([function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return R});n(150);var a,o,r,i,c,l,s,u,p,d,m=n(151),f=(n(146),n(148)),h=(n(155),n(156)),y=(n(157),n(158)),g=n(161),v=(n(141),n(145)),b=n(31),x=n(136),O=n(137),T=n(140),k=n(138),E=n(185),w=n(139),j=n(143),C=(n(168),n(152)),U=(n(149),n(147)),z=n(230),S=n.n(z),A=n(154),P=n.n(A),D=n(1),F=n.n(D),V=n(142),I=n(135),N=n(132),_=U["default"].Item,H=C["default"].Option,L={labelCol:{span:6},wrapperCol:{span:16}},R=(a=U["default"].create({fieldNameProp:null}),o=Object(V["Bind"])(),r=Object(V["Bind"])(),i=Object(V["Bind"])(),c=Object(V["Bind"])(),l=Object(V["Bind"])(),s=Object(V["Bind"])(),a((d=function(e){function t(e){var n;return Object(x["a"])(this,t),n=Object(T["a"])(this,Object(k["a"])(t).call(this,e)),n.defaultRowkey="id",n.cancel=n.cancel.bind(Object(E["a"])(n)),n}return Object(w["a"])(t,e),Object(O["a"])(t,[{key:"componentDidMount",value:function(){var e=this.props.onRef;e&&e(this)}},{key:"ok",value:function(){var e=this.props,t=e.onOk,n=void 0===t?function(e){return e}:t,a=e.onCancel,o=void 0===a?function(e){return e}:a,r=e.form.validateFields;r(function(e,t){P()(e)&&n(t)}),o(!0)}},{key:"cancel",value:function(){var e=this.props.onCancel,t=void 0===e?function(e){return e}:e;t()}},{key:"handleChangeAuthType",value:function(){var e=this.props.form.setFieldsValue;e({grantType:void 0})}},{key:"onGrantTypeChange",value:function(e){var t=this.props,n=t.form,a=n.setFieldsValue,o=n.getFieldDecorator,r=t.dataSource;Object.keys(r).forEach(function(e){o(e)}),a(Object(b["a"])({},S()(r,["authType"]),{accessTokenUrl:e===r.grantType?r.accessTokenUrl:void 0}))}},{key:"testUrl",value:function(){var e=this.props,t=e.onTestUrl,n=void 0===t?function(){}:t,a=e.form.validateFields,o=e.testLoading,r=e.publicKey;o||a(function(e,t){if(P()(e)){var a=Object(b["a"])({},t);t.clientSecret&&(a.clientSecret=Object(N["b"])(t.clientSecret,r)),t.authPassword&&(a.authPassword=Object(N["b"])(t.authPassword,r)),n(a)}})}},{key:"renderFooter",value:function(){var e=this.props,t=e.testLoading,n=e.loading,a=e.form.getFieldValue,o=void 0===a?function(e){return e}:a,r=e.dataSource,i=r.authType;return[F.a.createElement(v["default"],{key:"test",loading:t,onClick:this.testUrl,style:{display:"OAUTH2"===o("authType")||("OAUTH2"===i&&void 0===o("authType")?"inline":"none")}},I["a"].get("hitf.services.view.button.test").d("\u6d4b\u8bd5")),F.a.createElement(v["default"],{key:"back",onClick:this.cancel.bind(this)},I["a"].get("hzero.common.button.cancel").d("\u53d6\u6d88")),F.a.createElement(v["default"],{key:"submit",type:"primary",loading:n,onClick:this.ok.bind(this)},I["a"].get("hzero.common.button.ok").d("\u786e\u5b9a"))]}},{key:"render",value:function(){var e=this.props,t=(e.title,e.visible),n=(e.onCancel,e.onOk,e.dataSource),a=(e.loading,e.defaultSelectedRow,e.form),o=a.getFieldDecorator,r=void 0===o?function(e){return e}:o,i=a.getFieldValue,c=e.authTypes,l=void 0===c?[]:c,s=e.grantTypes,u=void 0===s?[]:s,p=e.passwordTypes,d=void 0===p?[]:p,v=(e.testLoading,Object(g["a"])(e,["title","visible","onCancel","onOk","dataSource","loading","defaultSelectedRow","form","authTypes","grantTypes","passwordTypes","testLoading"])),b=n.authType,x=n.grantType,O=n.authUsername,T=n.authPassword,k=n.clientSecret,E=n.clientId,w=n.accessTokenUrl,j=n.passwordEncodeType;return F.a.createElement(m["default"],Object.assign({title:I["a"].get("hitf.services.view.message.title.editor.authConfig").d("\u670d\u52a1\u8ba4\u8bc1\u914d\u7f6e"),visible:t,onCancel:this.cancel.bind(this),destroyOnClose:!0,width:750,footer:this.renderFooter()},v),F.a.createElement(U["default"],null,F.a.createElement(h["default"],null,F.a.createElement(y["default"],{span:12},F.a.createElement(_,Object.assign({label:I["a"].get("hitf.services.model.services.authType").d("\u8ba4\u8bc1\u6a21\u5f0f")},L),r("authType",{initialValue:b||"NONE",rules:[{required:!0,message:I["a"].get("hzero.common.validation.notNull",{name:I["a"].get("hitf.services.model.services.authType").d("\u8ba4\u8bc1\u6a21\u5f0f")})}]})(F.a.createElement(C["default"],{onChange:this.handleChangeAuthType,allowClear:!0},l.map(function(e){return F.a.createElement(H,{key:e.value,value:e.value},e.meaning)}))))),"OAUTH2"===i("authType")&&F.a.createElement(y["default"],{span:12},F.a.createElement(_,Object.assign({label:I["a"].get("hitf.services.model.services.grantType").d("\u6388\u6743\u6a21\u5f0f")},L),r("grantType",{initialValue:"OAUTH2"===b?x:void 0,rules:[{required:!0,message:I["a"].get("hzero.common.validation.notNull",{name:I["a"].get("hitf.services.model.services.grantType").d("\u6388\u6743\u6a21\u5f0f")})}]})(F.a.createElement(C["default"],{onChange:this.onGrantTypeChange,allowClear:!0},u.map(function(e){return F.a.createElement(H,{key:e.value,value:e.value},e.meaning)})))))),("BASIC"===i("authType")||"OAUTH2"===i("authType")&&"PASSWORD"===i("grantType"))&&F.a.createElement(h["default"],null,F.a.createElement(y["default"],{span:12},F.a.createElement(_,Object.assign({label:I["a"].get("hitf.services.model.services.authUsername").d("\u8ba4\u8bc1\u7528\u6237\u540d")},L),r("authUsername",{initialValue:O,rules:[{max:80,message:I["a"].get("hzero.common.validation.max",{max:80})}]})(F.a.createElement(f["default"],null)))),F.a.createElement(y["default"],{span:12},F.a.createElement(_,Object.assign({label:I["a"].get("hitf.services.model.services.authPassword").d("\u8ba4\u8bc1\u5bc6\u7801")},L),r("authPassword",{initialValue:T,rules:[{max:255,message:I["a"].get("hzero.common.validation.max",{max:255})}]})(F.a.createElement(f["default"],{type:"password"}))))),"OAUTH2"===i("authType")&&"PASSWORD"===i("grantType")&&F.a.createElement(h["default"],null,F.a.createElement(y["default"],{span:12},F.a.createElement(_,Object.assign({label:I["a"].get("hitf.services.model.services.passwordEncodeType").d("\u5bc6\u7801\u52a0\u5bc6\u7c7b\u578b")},L),r("passwordEncodeType",{initialValue:j})(F.a.createElement(C["default"],{allowClear:!0},d.map(function(e){return F.a.createElement(C["default"].Option,{value:e.value,key:e.value},e.meaning)})))))),F.a.createElement(h["default"],null,"OAUTH2"===i("authType")&&F.a.createElement(y["default"],{span:12},F.a.createElement(_,Object.assign({label:I["a"].get("hitf.services.model.services.clientId").d("\u5ba2\u6237\u7aefID")},L),r("clientId",{initialValue:E,rules:[{required:"CLIENT"===i("grantType"),message:I["a"].get("hzero.common.validation.notNull",{name:I["a"].get("hitf.services.model.services.clientId").d("\u5ba2\u6237\u7aefID")})},{max:255,message:I["a"].get("hzero.common.validation.max",{max:255})}]})(F.a.createElement(f["default"],null)))),"OAUTH2"===i("authType")&&F.a.createElement(y["default"],{span:12},F.a.createElement(_,Object.assign({label:I["a"].get("hitf.services.model.services.clientSecret").d("\u5ba2\u6237\u7aef\u5bc6\u94a5")},L),r("clientSecret",{initialValue:k,rules:[{required:"CLIENT"===i("grantType"),message:I["a"].get("hzero.common.validation.notNull",{name:I["a"].get("hitf.services.model.services.clientSecret").d("\u5ba2\u6237\u7aef\u5bc6\u94a5")})},{max:255,message:I["a"].get("hzero.common.validation.max",{max:255})}]})(F.a.createElement(f["default"],{type:"password"}))))),F.a.createElement(h["default"],null,"OAUTH2"===i("authType")&&F.a.createElement(y["default"],{span:18},F.a.createElement(_,Object.assign({label:I["a"].get("hitf.services.model.services.accessTokenUrl").d("\u83b7\u53d6Token\u7684URL")},L),r("accessTokenUrl",{initialValue:w,rules:[{required:!0,message:I["a"].get("hzero.common.validation.notNull",{name:I["a"].get("hitf.services.model.services.accessTokenUrl").d("\u83b7\u53d6Token\u7684URL")})},{max:255,message:I["a"].get("hzero.common.validation.max",{max:255})}]})(F.a.createElement(f["default"],null)))))))}}]),t}(D["PureComponent"]),p=d,Object(j["a"])(p.prototype,"ok",[o],Object.getOwnPropertyDescriptor(p.prototype,"ok"),p.prototype),Object(j["a"])(p.prototype,"cancel",[r],Object.getOwnPropertyDescriptor(p.prototype,"cancel"),p.prototype),Object(j["a"])(p.prototype,"handleChangeAuthType",[i],Object.getOwnPropertyDescriptor(p.prototype,"handleChangeAuthType"),p.prototype),Object(j["a"])(p.prototype,"onGrantTypeChange",[c],Object.getOwnPropertyDescriptor(p.prototype,"onGrantTypeChange"),p.prototype),Object(j["a"])(p.prototype,"testUrl",[l],Object.getOwnPropertyDescriptor(p.prototype,"testUrl"),p.prototype),Object(j["a"])(p.prototype,"renderFooter",[s],Object.getOwnPropertyDescriptor(p.prototype,"renderFooter"),p.prototype),u=p))||u)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(0)(1169)},function(e,t,n){e.exports=n(123)(2563)},function(e,t,n){"use strict";function a(e,t,n,a,o){var r={};return Object.keys(a).forEach(function(e){r[e]=a[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(n,a){return a(e,t,n)||n},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}n.d(t,"a",function(){return a})},function(e,t,n){e.exports=n(0)(198)},function(e,t,n){e.exports=n(0)(111)},,function(e,t,n){e.exports=n(0)(1147)},function(e,t,n){e.exports=n(0)(293)},,function(e,t,n){"use strict";n(144),n(172),n(141)},function(e,t,n){e.exports=n(0)(1154)},function(e,t,n){e.exports=n(0)(164)},,,function(e,t,n){"use strict";n(144),n(179)},function(e,t,n){e.exports=n(0)(261)},function(e,t,n){"use strict";n(144),n(179)},function(e,t,n){e.exports=n(0)(144)},function(e,t,n){e.exports=n(0)(116)},function(e,t,n){e.exports=n(0)(1155)},,,function(e,t,n){e.exports=n(0)(1168)},function(e,t,n){e.exports=n(0)(37)},function(e,t,n){e.exports=n(0)(82)},,,,,,function(e,t,n){e.exports=n(0)(34)},function(e,t,n){e.exports={"ant-modal":"ant-modal","ant-modal-wrap":"ant-modal-wrap","ant-modal-title":"ant-modal-title","ant-modal-content":"ant-modal-content","ant-modal-close":"ant-modal-close","ant-modal-close-x":"ant-modal-close-x","ant-modal-header":"ant-modal-header","ant-modal-body":"ant-modal-body","ant-modal-footer":"ant-modal-footer","zoom-enter":"zoom-enter","zoom-appear":"zoom-appear","ant-modal-mask":"ant-modal-mask","ant-modal-mask-hidden":"ant-modal-mask-hidden","ant-modal-open":"ant-modal-open","vertical-center-modal":"vertical-center-modal","ant-confirm":"ant-confirm","ant-confirm-body-wrapper":"ant-confirm-body-wrapper","ant-confirm-body":"ant-confirm-body","ant-confirm-title":"ant-confirm-title","ant-confirm-content":"ant-confirm-content",anticon:"anticon","ant-confirm-btns":"ant-confirm-btns","ant-confirm-error":"ant-confirm-error","ant-confirm-warning":"ant-confirm-warning","ant-confirm-confirm":"ant-confirm-confirm","ant-confirm-info":"ant-confirm-info","ant-confirm-success":"ant-confirm-success"}},,function(e,t,n){e.exports=n(0)(130)},,,,function(e,t,n){e.exports=n(0)(156)},,,function(e,t,n){e.exports=n(0)(274)},function(e,t,n){e.exports=n(123)(2648)},function(e,t,n){e.exports=n(0)(604)},function(e,t,n){e.exports=n(0)(1167)},,,function(e,t,n){e.exports=n(0)(829)},function(e,t,n){e.exports=n(0)(182)},,function(e,t,n){e.exports=n(0)(2130)},function(e,t,n){e.exports=n(0)(661)},function(e,t,n){e.exports=n(0)(2092)},,function(e,t,n){e.exports=n(0)(849)},function(e,t,n){e.exports=n(0)(328)},function(e,t,n){e.exports=n(0)(270)},function(e,t,n){e.exports=n(0)(170)},function(e,t,n){e.exports=n(0)(324)},function(e,t,n){e.exports=n(0)(386)},function(e,t,n){e.exports=n(0)(387)},,,,function(e,t,n){e.exports=n(0)(325)},function(e,t,n){e.exports=n(0)(1132)},,,,function(e,t,n){e.exports=n(123)(2662)},function(e,t,n){e.exports=n(0)(241)},function(e,t,n){e.exports=n(0)(151)},function(e,t,n){e.exports=n(123)(1367)},function(e,t,n){e.exports=n(0)(127)},function(e,t,n){e.exports=n(0)(484)},function(e,t,n){e.exports=n(0)(2129)},function(e,t,n){e.exports=n(0)(235)},function(e,t,n){e.exports=n(0)(209)},function(e,t,n){e.exports=n(0)(868)},function(e,t,n){e.exports=n(0)(385)},function(e,t,n){e.exports=n(0)(255)},function(e,t,n){e.exports=n(0)(1960)},function(e,t,n){e.exports=n(0)(298)},function(e,t,n){e.exports=n(0)(580)},function(e,t,n){e.exports=n(0)(582)},function(e,t,n){e.exports=n(0)(128)},function(e,t,n){e.exports=n(0)(108)},function(e,t,n){e.exports=n(0)(472)},function(e,t,n){e.exports=n(0)(873)},,function(e,t,n){e.exports=n(0)(36)}])]);