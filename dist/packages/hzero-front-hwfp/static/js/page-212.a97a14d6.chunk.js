(window["webpackJsonppackages_hzero_front_hwfp_name_"]=window["webpackJsonppackages_hzero_front_hwfp_name_"]||[]).push([[71],{143:function(t,e,o){t.exports=o(0)(198)},152:function(t,e,o){t.exports=o(127)(2563)},153:function(t,e,o){t.exports=o(0)(1169)},154:function(t,e,o){"use strict";function n(t,e,o,n,r){var a={};return Object.keys(n).forEach(function(t){a[t]=n[t]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(t,e,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(t,e,a),a=null),a}o.d(e,"a",function(){return n})},158:function(t,e,o){t.exports=o(0)(116)},162:function(t,e,o){t.exports=o(0)(82)},164:function(t,e,o){t.exports=o(0)(1161)},165:function(t,e,o){t.exports=o(0)(1168)},166:function(t,e,o){t.exports=o(0)(37)},167:function(t,e,o){t.exports=o(0)(1155)},169:function(t,e,o){t.exports=o(0)(829)},173:function(t,e,o){t.exports=o(127)(2648)},174:function(t,e,o){t.exports=o(0)(34)},176:function(t,e,o){t.exports=o(0)(274)},177:function(t,e,o){t.exports=o(0)(1167)},180:function(t,e,o){t.exports=o(0)(604)},181:function(t,e,o){t.exports=o(0)(130)},184:function(t,e,o){t.exports=o(0)(182)},185:function(t,e,o){t.exports=o(0)(661)},191:function(t,e,o){t.exports=o(0)(418)},195:function(t,e,o){t.exports=o(0)(849)},196:function(t,e,o){t.exports=o(0)(328)},197:function(t,e,o){t.exports=o(0)(270)},198:function(t,e,o){t.exports=o(0)(170)},199:function(t,e,o){t.exports=o(0)(324)},200:function(t,e,o){t.exports=o(0)(386)},201:function(t,e,o){t.exports=o(0)(387)},204:function(t,e,o){t.exports=o(0)(868)},205:function(t,e,o){t.exports=o(0)(2092)},207:function(t,e,o){t.exports=o(0)(325)},208:function(t,e,o){t.exports=o(0)(209)},209:function(t,e,o){t.exports=o(127)(2662)},210:function(t,e,o){t.exports=o(0)(241)},211:function(t,e,o){t.exports=o(0)(235)},212:function(t,e,o){t.exports=o(0)(151)},213:function(t,e,o){t.exports=o(127)(1367)},214:function(t,e,o){t.exports=o(0)(582)},215:function(t,e,o){t.exports=o(0)(127)},216:function(t,e,o){t.exports=o(0)(484)},217:function(t,e,o){t.exports=o(0)(2129)},218:function(t,e,o){t.exports=o(0)(385)},219:function(t,e,o){t.exports=o(0)(156)},220:function(t,e,o){t.exports=o(0)(255)},221:function(t,e,o){t.exports=o(0)(1960)},222:function(t,e,o){t.exports=o(0)(298)},223:function(t,e,o){t.exports=o(0)(1132)},224:function(t,e,o){t.exports=o(0)(580)},225:function(t,e,o){t.exports=o(0)(128)},226:function(t,e,o){t.exports=o(0)(108)},227:function(t,e,o){t.exports=o(0)(472)},228:function(t,e,o){t.exports=o(0)(873)},229:function(t,e,o){t.exports=o(0)(2130)},243:function(t,e,o){t.exports=o(0)(1974)},322:function(t,e,o){t.exports=o(0)(2095)},323:function(t,e,o){t.exports=o(0)(1156)},38:function(t,e,o){"use strict";o.r(e),o.d(e,"default",function(){return k});o(241);var n,r,a,i,c,s,p=o(191),u=(o(322),o(323)),f=(o(193),o(164)),m=o(147),d=o(148),l=o(150),g=o(149),x=o(151),v=o(154),h=o(1),y=o.n(h),b=o(152),O=o(251),w=o(146),j=o(142),D=o(144),I="".concat(D["e"],"/v1"),k=(n=Object(b["Bind"])(),r=Object(b["Bind"])(),a=Object(b["Bind"])(),i=Object(b["Bind"])(),s=function(t){function e(){var t,o;Object(m["a"])(this,e);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return o=Object(l["a"])(this,(t=Object(g["a"])(e)).call.apply(t,[this].concat(r))),o.processImage=void 0,o.getForecastData=function(t){var e=[];if(t)for(var n=o.processImage||{},r=n.offsetTop,a=void 0===r?0:r,i=0;i<t.length;i+=1){var c=o.getForecastDiagram(0,a,t[i]);e.push(c)}return e},o}return Object(x["a"])(e,t),Object(d["a"])(e,[{key:"getForecastDiagramTRs",value:function(t){var e=[],o=t.history||[],n=t.forecast;if(t.executed||o)for(var r=0;r<o.length;r+=1){var a=o[r].assigneeName||"",i=o[r].positionName||"",c=o[r].unitName||"";e.push({assigneeName:a,positionName:i,unitName:c,action:o[r].action,endTime:o[r].endTime,startTime:o[r].startTime,id:o[r].id,flag:!0})}if(n)for(var s=0;s<n.length;s+=1){var p=n[s].employeeCode||"",u=n[s].positionName||"",f=n[s].unitName||"";e.push({assigneeName:n[s].name,employeeCode:p,positionName:u,unitName:f,action:"",endTime:"",flag:!1})}return e}},{key:"getForecastDiagramContent",value:function(t){var e=this.getForecastDiagramTRs(t),o=[{title:w["a"].get("hwfp.common.model.approval.owner").d("\u5ba1\u6279\u4eba"),dataIndex:"assigneeName",render:function(t,e){return y.a.createElement("span",null,e.flag?"".concat(e.assigneeName):"".concat(e.assigneeName,"(").concat(e.employeeCode,")"))}},{title:w["a"].get("entity.position.name").d("\u5c97\u4f4d\u540d\u79f0"),dataIndex:"positionName"},{title:w["a"].get("entity.department.name").d("\u90e8\u95e8\u540d\u79f0"),dataIndex:"unitName"},{title:w["a"].get("hwfp.common.model.approval.action").d("\u5ba1\u6279\u52a8\u4f5c"),dataIndex:"action",render:O["a"]},{title:w["a"].get("hwfp.common.model.approval.startTime").d("\u6d41\u7a0b\u5f00\u59cb\u65f6\u95f4"),dataIndex:"startTime"},{title:w["a"].get("hwfp.common.model.approval.time").d("\u5ba1\u6279\u65f6\u95f4"),dataIndex:"endTime"}];return y.a.createElement("div",{key:t.taskId},y.a.createElement(f["default"],{bordered:!0,columns:o,dataSource:e,pagination:!1}))}},{key:"getForecastDiagram",value:function(t,e,o){var n=o.graphicInfo,r=n.x+t,a=n.y+e;return y.a.createElement(u["default"],{content:this.getForecastDiagramContent(o),title:w["a"].get("hwfp.common.model.approval.record").d("\u5ba1\u6279\u8bb0\u5f55"),key:o.taskId},y.a.createElement("div",{id:o.taskId,name:"svgDiv",style:{width:n.width,height:n.height,position:"absolute",left:r,top:a}}))}},{key:"processImageSrc",value:function(){var t=this.props,e=t.tenantId,o=t.match,n=t.uselessParam,r=t.processInstance,a=void 0===r?{}:r,i=a.id,c=Object(j["d"])("access_token");return"".concat(D["a"]).concat(I,"/").concat(e,"/process/instance/diagram/").concat(void 0!==i?i:o.params.id,"?access_token=").concat(c,"&t=").concat(n)}},{key:"render",value:function(){var t=this,e=this.props,o=e.forecastData,n=void 0===o?{}:o,r=e.loading,a=void 0!==r&&r;return y.a.createElement(p["default"],{spinning:a},y.a.createElement("div",{id:"processImg",style:{overflow:"scroll"},ref:function(e){t.processImage=e}},y.a.createElement("embed",{id:"svg",type:"image/svg+xml",src:this.processImageSrc()}),this.getForecastData(n)))}}]),e}(h["Component"]),c=s,Object(v["a"])(c.prototype,"getForecastDiagramTRs",[n],Object.getOwnPropertyDescriptor(c.prototype,"getForecastDiagramTRs"),c.prototype),Object(v["a"])(c.prototype,"getForecastDiagramContent",[r],Object.getOwnPropertyDescriptor(c.prototype,"getForecastDiagramContent"),c.prototype),Object(v["a"])(c.prototype,"getForecastDiagram",[a],Object.getOwnPropertyDescriptor(c.prototype,"getForecastDiagram"),c.prototype),Object(v["a"])(c.prototype,"processImageSrc",[i],Object.getOwnPropertyDescriptor(c.prototype,"processImageSrc"),c.prototype),c)}}]);