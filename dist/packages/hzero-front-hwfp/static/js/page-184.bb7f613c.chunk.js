(window["webpackJsonppackages_hzero_front_hwfp_name_"]=window["webpackJsonppackages_hzero_front_hwfp_name_"]||[]).push([[60],{143:function(e,t,n){e.exports=n(0)(198)},152:function(e,t,n){e.exports=n(127)(2563)},153:function(e,t,n){e.exports=n(0)(1169)},154:function(e,t,n){"use strict";function a(e,t,n,a,o){var r={};return Object.keys(a).forEach(function(e){r[e]=a[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(n,a){return a(e,t,n)||n},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}n.d(t,"a",function(){return a})},156:function(e,t,n){e.exports=n(0)(1147)},157:function(e,t,n){e.exports=n(0)(293)},158:function(e,t,n){e.exports=n(0)(116)},159:function(e,t,n){"use strict";n(143),n(178),n(170)},160:function(e,t,n){e.exports=n(0)(1154)},161:function(e,t,n){e.exports=n(0)(111)},162:function(e,t,n){e.exports=n(0)(82)},163:function(e,t,n){"use strict";n(143),n(182),n(153)},164:function(e,t,n){e.exports=n(0)(1161)},165:function(e,t,n){e.exports=n(0)(1168)},166:function(e,t,n){e.exports=n(0)(37)},167:function(e,t,n){e.exports=n(0)(1155)},169:function(e,t,n){e.exports=n(0)(829)},173:function(e,t,n){e.exports=n(127)(2648)},174:function(e,t,n){e.exports=n(0)(34)},176:function(e,t,n){e.exports=n(0)(274)},177:function(e,t,n){e.exports=n(0)(1167)},178:function(e,t,n){e.exports={"ant-form":"ant-form","ant-form-item-required":"ant-form-item-required","ant-form-hide-required-mark":"ant-form-hide-required-mark","ant-form-item-children":"ant-form-item-children","ant-input":"ant-input","ant-input-disabled":"ant-input-disabled","ant-input-number-input":"ant-input-number-input","ant-cascader-picker":"ant-cascader-picker","ant-cascader-picker-disabled":"ant-cascader-picker-disabled","ant-time-picker-input":"ant-time-picker-input","ant-select-disabled":"ant-select-disabled","ant-select-selection":"ant-select-selection","ant-input-group-addon":"ant-input-group-addon","has-error":"has-error",disabled:"disabled","ant-radio-inline":"ant-radio-inline","ant-radio-vertical":"ant-radio-vertical","ant-checkbox-inline":"ant-checkbox-inline","ant-checkbox-vertical":"ant-checkbox-vertical","ant-radio":"ant-radio","ant-checkbox":"ant-checkbox","ant-form-item":"ant-form-item",anticon:"anticon","ant-form-item-control":"ant-form-item-control","ant-form-item-with-help":"ant-form-item-with-help","ant-form-item-label":"ant-form-item-label","ant-switch":"ant-switch","ant-form-item-no-colon":"ant-form-item-no-colon","ant-form-explain":"ant-form-explain","ant-form-extra":"ant-form-extra","ant-form-text":"ant-form-text","ant-form-split":"ant-form-split","has-feedback":"has-feedback","ant-select":"ant-select","ant-select-arrow":"ant-select-arrow","ant-select-selection__clear":"ant-select-selection__clear","ant-select-selection-selected-value":"ant-select-selection-selected-value","ant-cascader-picker-arrow":"ant-cascader-picker-arrow","ant-cascader-picker-clear":"ant-cascader-picker-clear","ant-input-search":"ant-input-search","ant-input-search-enter-button":"ant-input-search-enter-button","ant-input-suffix":"ant-input-suffix","ant-calendar-picker-icon":"ant-calendar-picker-icon","ant-time-picker-icon":"ant-time-picker-icon","ant-calendar-picker-clear":"ant-calendar-picker-clear","ant-time-picker-clear":"ant-time-picker-clear","ant-upload":"ant-upload","ant-input-number":"ant-input-number","ant-input-number-handler-wrap":"ant-input-number-handler-wrap","ant-input-group":"ant-input-group","ant-input-group-wrapper":"ant-input-group-wrapper","ant-input-group-wrap":"ant-input-group-wrap","ant-select-selection--single":"ant-select-selection--single","ant-select-selection__rendered":"ant-select-selection__rendered","ant-select-open":"ant-select-open","ant-form-vertical":"ant-form-vertical","ant-col-24":"ant-col-24","ant-col-xl-24":"ant-col-xl-24","ant-form-item-control-wrapper":"ant-form-item-control-wrapper","ant-col-xs-24":"ant-col-xs-24","ant-col-sm-24":"ant-col-sm-24","ant-col-md-24":"ant-col-md-24","ant-col-lg-24":"ant-col-lg-24","ant-form-inline":"ant-form-inline","has-success":"has-success","has-warning":"has-warning","is-validating":"is-validating",zoomIn:"zoomIn",diffZoomIn1:"diffZoomIn1","ant-calendar-picker-open":"ant-calendar-picker-open","ant-calendar-picker-input":"ant-calendar-picker-input","ant-input-prefix":"ant-input-prefix",diffZoomIn3:"diffZoomIn3","ant-select-focused":"ant-select-focused","ant-picker-icon":"ant-picker-icon","ant-input-number-focused":"ant-input-number-focused","ant-time-picker-input-focused":"ant-time-picker-input-focused","ant-cascader-input":"ant-cascader-input",diffZoomIn2:"diffZoomIn2","ant-select-auto-complete":"ant-select-auto-complete","ant-mention-wrapper":"ant-mention-wrapper","ant-mention-editor":"ant-mention-editor","ant-mention-active":"ant-mention-active",loadingCircle:"loadingCircle","ant-advanced-search-form":"ant-advanced-search-form","show-help-enter":"show-help-enter","show-help-appear":"show-help-appear","show-help-leave":"show-help-leave","show-help-enter-active":"show-help-enter-active","show-help-appear-active":"show-help-appear-active",antShowHelpIn:"antShowHelpIn","show-help-leave-active":"show-help-leave-active",antShowHelpOut:"antShowHelpOut"}},180:function(e,t,n){e.exports=n(0)(604)},181:function(e,t,n){e.exports=n(0)(130)},182:function(e,t,n){e.exports={"ant-modal":"ant-modal","ant-modal-wrap":"ant-modal-wrap","ant-modal-title":"ant-modal-title","ant-modal-content":"ant-modal-content","ant-modal-close":"ant-modal-close","ant-modal-close-x":"ant-modal-close-x","ant-modal-header":"ant-modal-header","ant-modal-body":"ant-modal-body","ant-modal-footer":"ant-modal-footer","zoom-enter":"zoom-enter","zoom-appear":"zoom-appear","ant-modal-mask":"ant-modal-mask","ant-modal-mask-hidden":"ant-modal-mask-hidden","ant-modal-open":"ant-modal-open","vertical-center-modal":"vertical-center-modal","ant-confirm":"ant-confirm","ant-confirm-body-wrapper":"ant-confirm-body-wrapper","ant-confirm-body":"ant-confirm-body","ant-confirm-title":"ant-confirm-title","ant-confirm-content":"ant-confirm-content",anticon:"anticon","ant-confirm-btns":"ant-confirm-btns","ant-confirm-error":"ant-confirm-error","ant-confirm-warning":"ant-confirm-warning","ant-confirm-confirm":"ant-confirm-confirm","ant-confirm-info":"ant-confirm-info","ant-confirm-success":"ant-confirm-success"}},184:function(e,t,n){e.exports=n(0)(182)},185:function(e,t,n){e.exports=n(0)(661)},186:function(e,t,n){"use strict";n(143),n(170)},187:function(e,t,n){e.exports=n(0)(261)},188:function(e,t,n){"use strict";n(143),n(170)},189:function(e,t,n){e.exports=n(0)(144)},190:function(e,t,n){e.exports=n(0)(333)},195:function(e,t,n){e.exports=n(0)(849)},196:function(e,t,n){e.exports=n(0)(328)},197:function(e,t,n){e.exports=n(0)(270)},198:function(e,t,n){e.exports=n(0)(170)},199:function(e,t,n){e.exports=n(0)(324)},200:function(e,t,n){e.exports=n(0)(386)},201:function(e,t,n){e.exports=n(0)(387)},204:function(e,t,n){e.exports=n(0)(868)},205:function(e,t,n){e.exports=n(0)(2092)},207:function(e,t,n){e.exports=n(0)(325)},208:function(e,t,n){e.exports=n(0)(209)},209:function(e,t,n){e.exports=n(127)(2662)},210:function(e,t,n){e.exports=n(0)(241)},211:function(e,t,n){e.exports=n(0)(235)},212:function(e,t,n){e.exports=n(0)(151)},213:function(e,t,n){e.exports=n(127)(1367)},214:function(e,t,n){e.exports=n(0)(582)},215:function(e,t,n){e.exports=n(0)(127)},216:function(e,t,n){e.exports=n(0)(484)},217:function(e,t,n){e.exports=n(0)(2129)},218:function(e,t,n){e.exports=n(0)(385)},219:function(e,t,n){e.exports=n(0)(156)},220:function(e,t,n){e.exports=n(0)(255)},221:function(e,t,n){e.exports=n(0)(1960)},222:function(e,t,n){e.exports=n(0)(298)},223:function(e,t,n){e.exports=n(0)(1132)},224:function(e,t,n){e.exports=n(0)(580)},225:function(e,t,n){e.exports=n(0)(128)},226:function(e,t,n){e.exports=n(0)(108)},227:function(e,t,n){e.exports=n(0)(472)},228:function(e,t,n){e.exports=n(0)(873)},229:function(e,t,n){e.exports=n(0)(2130)},243:function(e,t,n){e.exports=n(0)(1974)},306:function(e,t,n){var a=n(176),o=n(307);function r(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],c=e.length;t=a(t,3);while(++r<c){var l=e[r];t(l,r,e)&&(n.push(l),i.push(r))}return o(e,i),n}e.exports=r},307:function(e,t,n){var a=n(308),o=n(309),r=Array.prototype,i=r.splice;function c(e,t){var n=e?t.length:0,r=n-1;while(n--){var c=t[n];if(n==r||c!==l){var l=c;o(c)?i.call(e,c,1):a(e,c)}}return e}e.exports=c},308:function(e,t,n){e.exports=n(0)(2121)},309:function(e,t,n){e.exports=n(0)(242)},312:function(e,t,n){e.exports=n(0)(2128)},377:function(e,t,n){var a=n(204),o=n(190),r=Math.max;function i(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var c=null==n?0:o(n);return c<0&&(c=r(i+c,0)),a(e,t,c)}e.exports=i},87:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return T});n(186);var a,o,r,i,c,l,p,s,d,u,m,f=n(187),h=(n(188),n(189)),y=(n(193),n(164)),g=(n(153),n(161)),x=(n(155),n(157)),b=(n(163),n(160)),w=n(29),v=n(147),k=n(148),O=n(150),C=n(149),S=n(151),j=n(154),E=(n(159),n(156)),I=n(377),z=n.n(I),N=n(312),_=n.n(N),A=n(306),P=n.n(A),D=n(1),R=n.n(D),F=n(152),B=n(146),K=n(142),L=E["default"].Item,T=(a=E["default"].create({fieldNameProp:null}),o=Object(F["Bind"])(),r=Object(F["Bind"])(),i=Object(F["Bind"])(),c=Object(F["Bind"])(),l=Object(F["Bind"])(),p=Object(F["Bind"])(),s=Object(F["Bind"])(),a((m=function(e){function t(){var e,n;Object(v["a"])(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return n=Object(O["a"])(this,(e=Object(C["a"])(t)).call.apply(e,[this].concat(o))),n.state={selectedRowKeys:[],paging:{page:0,size:10},employeeNum:"",name:""},n}return Object(S["a"])(t,e),Object(k["a"])(t,[{key:"componentDidMount",value:function(){var e=this.props.form;this.handleSearch(),e.resetFields()}},{key:"handleSearch",value:function(){var e=this.props,t=e.form,n=e.dispatch,a=e.tenantId,o=this.state.paging;t.validateFields(function(e,t){e||n({type:"task/fetchEmployeeList",payload:Object(w["a"])({},o,{tenantId:a,lovCode:"HPFM.EMPLOYEE",employeeNum:t.employeeNum,name:t.name,enabledFlag:1})})})}},{key:"handleFormReset",value:function(){var e=this.props.form;e.resetFields()}},{key:"handleSubmit",value:function(){var e=this.state,t=e.employeeNum,n=e.name,a=this.props,o=a.delegateOrAddUser,r=a.isCarbon,i=a.processCarbonCopy,c=a.taskAction;r?i():t?c({action:o,targetUser:t,targetUserName:n}):b["default"].warning({title:B["a"].get("hzero.common.validation.atLeast").d("\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u6761\u6570\u636e")}),this.setState({selectedRowKeys:[],paging:{page:0,size:10}})}},{key:"handleChangeEmployee",value:function(e,t,n,a){var o=this.props,r=o.changeEmployee,i=o.dispatch,c=o.taskId,l=o.delegateOrAddUser;if(this.props.isCarbon)if(e)i({type:"task/updateDetailState",payload:{taskId:c,changeEmployee:n}});else{var p=r.slice();P()(p,function(e){return-1!==a.indexOf(e.employeeNum)}),i({type:"task/updateDetailState",payload:{taskId:c,changeEmployee:p}})}"addSign"===l||"ApproveAndAddSign"===l?this.setState({employeeNum:n.map(function(e){return e.employeeNum}),name:t.name}):this.setState({employeeNum:t.employeeNum,name:t.name})}},{key:"onSelectChange",value:function(e){this.setState({selectedRowKeys:e})}},{key:"handleTableChange",value:function(e){var t=this,n={page:e.current-1,size:e.pageSize};this.setState({paging:n},function(){t.handleSearch()})}},{key:"handleCancel",value:function(){this.props.onCancel(),this.setState({selectedRowKeys:[],paging:{page:0,size:10}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.form.getFieldDecorator,a=t.loading,o=t.approveLoading,r=t.pagination,i=t.drawerVisible,c=t.anchor,l=t.isCarbon,p=t.delegateOrAddUser,s=t.getActionName,d=t.employeeList,u=void 0===d?[]:d,m=t.disabledUserList,w=this.state.selectedRowKeys,v={};v=l||"addSign"===p||"ApproveAndAddSign"===p?{selectedRowKeys:w,onChange:this.onSelectChange,onSelect:function(t,n,a){e.handleChangeEmployee(n,t,a,[t.employeeNum])},onSelectAll:function(t,n,a){var o=_()(a,function(e){return e.employeeNum});e.handleChangeEmployee(t,{},n,o)},type:"checkbox"}:{onSelect:function(t,n,a){e.handleChangeEmployee(n,t,a)},getCheckboxProps:function(e){return{disabled:z()(m,e.employeeId)>-1,employeeId:e.employeeId}},type:"radio"};var k=s(p),O=[{title:B["a"].get("entity.employee.code").d("\u5458\u5de5\u7f16\u7801"),dataIndex:"employeeNum",width:100},{title:B["a"].get("entity.employee.name").d("\u5458\u5de5\u59d3\u540d"),dataIndex:"name",width:150},{title:B["a"].get("entity.department.name").d("\u90e8\u95e8\u540d\u79f0"),dataIndex:"unitName",width:150},{title:B["a"].get("entity.position.name").d("\u5c97\u4f4d\u540d\u79f0"),dataIndex:"positionName",width:200}];return R.a.createElement(b["default"],{destroyOnClose:!0,width:800,title:k,visible:i,onCancel:this.handleCancel,onOk:this.handleSubmit,wrapClassName:"ant-modal-sidebar-".concat(c),transitionName:"move-".concat(c),confirmLoading:o},R.a.createElement(E["default"],{layout:"inline"},R.a.createElement(L,{label:B["a"].get("entity.employee.code").d("\u5458\u5de5\u7f16\u7801")},n("employeeNum",{})(R.a.createElement(x["default"],null))),R.a.createElement(L,{label:B["a"].get("entity.employee.name").d("\u5458\u5de5\u59d3\u540d")},n("name",{})(R.a.createElement(x["default"],null))),R.a.createElement(E["default"].Item,null,R.a.createElement(g["default"],{"data-code":"reset",style:{marginRight:8},onClick:this.handleFormReset},B["a"].get("hzero.common.status.reset").d("\u91cd\u7f6e")),R.a.createElement(g["default"],{"data-code":"search",type:"primary",htmlType:"submit",onClick:this.handleSearch},B["a"].get("hzero.common.status.search").d("\u67e5\u8be2")))),R.a.createElement(f["default"],{type:"flex",justify:"end",style:{marginTop:"16px"}},R.a.createElement(h["default"],{span:24},R.a.createElement(y["default"],{bordered:!0,rowKey:"employeeId",loading:a,dataSource:u,pagination:r,rowSelection:v,columns:O,scroll:{x:Object(K["B"])(O)},onChange:this.handleTableChange}))))}}]),t}(D["PureComponent"]),u=m,Object(j["a"])(u.prototype,"handleSearch",[o],Object.getOwnPropertyDescriptor(u.prototype,"handleSearch"),u.prototype),Object(j["a"])(u.prototype,"handleFormReset",[r],Object.getOwnPropertyDescriptor(u.prototype,"handleFormReset"),u.prototype),Object(j["a"])(u.prototype,"handleSubmit",[i],Object.getOwnPropertyDescriptor(u.prototype,"handleSubmit"),u.prototype),Object(j["a"])(u.prototype,"handleChangeEmployee",[c],Object.getOwnPropertyDescriptor(u.prototype,"handleChangeEmployee"),u.prototype),Object(j["a"])(u.prototype,"onSelectChange",[l],Object.getOwnPropertyDescriptor(u.prototype,"onSelectChange"),u.prototype),Object(j["a"])(u.prototype,"handleTableChange",[p],Object.getOwnPropertyDescriptor(u.prototype,"handleTableChange"),u.prototype),Object(j["a"])(u.prototype,"handleCancel",[s],Object.getOwnPropertyDescriptor(u.prototype,"handleCancel"),u.prototype),d=u))||d)}}]);