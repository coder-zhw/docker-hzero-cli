(window["webpackJsonppackages_hzero_front_hwfp_name_"]=window["webpackJsonppackages_hzero_front_hwfp_name_"]||[]).push([[72,117,122],{143:function(e,t,n){e.exports=n(0)(198)},145:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var a=n(2),r=n.n(a),o=n(29),c=n(28),i=(n(238),n(167)),s=n(206),p=n.n(s),l=n(168),u=n(146),d=n(144),f=n(142);function m(e){if(e.status>=200&&e.status<300)return e;var t=e.statusText,n=new Error(t);throw n.name=e.status,n.response=e,n}function h(e){return b.apply(this,arguments)}function b(){return b=Object(c["a"])(r.a.mark(function e(t){var n;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(501!==t.name){e.next=14;break}return e.prev=1,e.next=4,t.response.json();case 4:n=e.sent,dvaApp._store.dispatch({type:"error/updateState",payload:{normal501:n}}),dvaApp._store.dispatch(l["routerRedux"].push({pathname:"/exception/501"})),e.next=12;break;case 9:throw e.prev=9,e.t0=e["catch"](1),t;case 12:e.next=15;break;case 14:throw t;case 15:case"end":return e.stop()}},e,null,[[1,9]])})),b.apply(this,arguments)}i["default"].config({placement:"bottomRight"});var x={Pragma:"no-cache","Cache-Control":"no-cache"};function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={credentials:"include",headers:x},r=n.beforeCatch,c=e.startsWith("/api")||e.startsWith("http")?e:"".concat(d["a"]).concat(e),s=Object(o["a"])({},a,t);if("POST"!==s.method&&"PUT"!==s.method&&"DELETE"!==s.method&&"PATCH"!==s.method||(s.body instanceof FormData?s.headers=Object(o["a"])({Accept:"application/json"},s.headers):(s.headers=Object(o["a"])({Accept:"application/json","Content-Type":"application/json; charset=utf-8"},s.headers),s.body=JSON.stringify(s.body))),s.query){var b=s.query;"GET"===s.method&&(b=Object(f["b"])(s.query)),c=Object(f["c"])(c,b)}var w=Object(f["d"])();w&&(s.headers=Object(o["a"])({},s.headers,{Authorization:"bearer ".concat(w)}));var g=p()(c,s).then(m).then(function(e){return 204===e.status?{}:"blob"===s.responseType?e.blob():"text"===s.responseType?e.text():e.json()});return r&&(g=g.catch(r)),g=g.catch(h).catch(function(e){var t=e.name,n=Object(f["o"])("isErrorFlag");if(n||Object(f["A"])("isErrorFlag",!1),401===t){var a=encodeURIComponent(window.location.toString());return w?void v("".concat(d["i"],"/public/token/kickoff"),{method:"POST",query:{access_token:w}}).then(function(e){1===e.kickoff?(dvaApp._store.dispatch(l["routerRedux"].push({pathname:"/public/kickoff"})),Object(f["A"])("redirectUrl",a),Object(f["A"])("isErrorFlag",!1)):(dvaApp._store.dispatch(l["routerRedux"].push({pathname:"/public/unauthorized"})),Object(f["A"])("isErrorFlag",!0),Object(f["A"])("redirectUrl",a))}):(Object(f["x"])(),Object(f["y"])(),-1!==c.indexOf(d["b"])?void(d["m"].includes("?")?(window.location.href="".concat(d["m"],"&redirect_uri=").concat(a),Object(f["A"])("isErrorFlag",!1),Object(f["A"])("redirectUrl",a)):(window.location.href="".concat(d["m"],"?redirect_uri=").concat(a),f["A"].apply("isErrorFlag",!1),Object(f["A"])("redirectUrl",a))):void(n||(dvaApp._store.dispatch(l["routerRedux"].push({pathname:"/public/unauthorized"})),Object(f["A"])("isErrorFlag",!0),Object(f["A"])("redirectUrl",a))))}if(-1!==c.indexOf(d["b"]))return e;"TypeError"!==t?i["default"].error({message:"".concat(t),description:e.message}):i["default"].error({message:u["a"].get("hzero.common.notification.network.typeError").d("\u7f51\u7edc\u8bf7\u6c42\u5f02\u5e38"),description:u["a"].get("hzero.common.notification.typeError.description").d("\u8bf7\u7a0d\u540e\u91cd\u8bd5")})}),g}},152:function(e,t,n){e.exports=n(127)(2563)},153:function(e,t,n){e.exports=n(0)(1169)},154:function(e,t,n){"use strict";function a(e,t,n,a,r){var o={};return Object.keys(a).forEach(function(e){o[e]=a[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,a){return a(e,t,n)||n},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n.d(t,"a",function(){return a})},156:function(e,t,n){e.exports=n(0)(1147)},158:function(e,t,n){e.exports=n(0)(116)},159:function(e,t,n){"use strict";n(143),n(178),n(170)},162:function(e,t,n){e.exports=n(0)(82)},164:function(e,t,n){e.exports=n(0)(1161)},165:function(e,t,n){e.exports=n(0)(1168)},166:function(e,t,n){e.exports=n(0)(37)},167:function(e,t,n){e.exports=n(0)(1155)},168:function(e,t,n){e.exports=n(0)(1852)},169:function(e,t,n){e.exports=n(0)(829)},173:function(e,t,n){e.exports=n(127)(2648)},174:function(e,t,n){e.exports=n(0)(34)},176:function(e,t,n){e.exports=n(0)(274)},177:function(e,t,n){e.exports=n(0)(1167)},178:function(e,t,n){e.exports={"ant-form":"ant-form","ant-form-item-required":"ant-form-item-required","ant-form-hide-required-mark":"ant-form-hide-required-mark","ant-form-item-children":"ant-form-item-children","ant-input":"ant-input","ant-input-disabled":"ant-input-disabled","ant-input-number-input":"ant-input-number-input","ant-cascader-picker":"ant-cascader-picker","ant-cascader-picker-disabled":"ant-cascader-picker-disabled","ant-time-picker-input":"ant-time-picker-input","ant-select-disabled":"ant-select-disabled","ant-select-selection":"ant-select-selection","ant-input-group-addon":"ant-input-group-addon","has-error":"has-error",disabled:"disabled","ant-radio-inline":"ant-radio-inline","ant-radio-vertical":"ant-radio-vertical","ant-checkbox-inline":"ant-checkbox-inline","ant-checkbox-vertical":"ant-checkbox-vertical","ant-radio":"ant-radio","ant-checkbox":"ant-checkbox","ant-form-item":"ant-form-item",anticon:"anticon","ant-form-item-control":"ant-form-item-control","ant-form-item-with-help":"ant-form-item-with-help","ant-form-item-label":"ant-form-item-label","ant-switch":"ant-switch","ant-form-item-no-colon":"ant-form-item-no-colon","ant-form-explain":"ant-form-explain","ant-form-extra":"ant-form-extra","ant-form-text":"ant-form-text","ant-form-split":"ant-form-split","has-feedback":"has-feedback","ant-select":"ant-select","ant-select-arrow":"ant-select-arrow","ant-select-selection__clear":"ant-select-selection__clear","ant-select-selection-selected-value":"ant-select-selection-selected-value","ant-cascader-picker-arrow":"ant-cascader-picker-arrow","ant-cascader-picker-clear":"ant-cascader-picker-clear","ant-input-search":"ant-input-search","ant-input-search-enter-button":"ant-input-search-enter-button","ant-input-suffix":"ant-input-suffix","ant-calendar-picker-icon":"ant-calendar-picker-icon","ant-time-picker-icon":"ant-time-picker-icon","ant-calendar-picker-clear":"ant-calendar-picker-clear","ant-time-picker-clear":"ant-time-picker-clear","ant-upload":"ant-upload","ant-input-number":"ant-input-number","ant-input-number-handler-wrap":"ant-input-number-handler-wrap","ant-input-group":"ant-input-group","ant-input-group-wrapper":"ant-input-group-wrapper","ant-input-group-wrap":"ant-input-group-wrap","ant-select-selection--single":"ant-select-selection--single","ant-select-selection__rendered":"ant-select-selection__rendered","ant-select-open":"ant-select-open","ant-form-vertical":"ant-form-vertical","ant-col-24":"ant-col-24","ant-col-xl-24":"ant-col-xl-24","ant-form-item-control-wrapper":"ant-form-item-control-wrapper","ant-col-xs-24":"ant-col-xs-24","ant-col-sm-24":"ant-col-sm-24","ant-col-md-24":"ant-col-md-24","ant-col-lg-24":"ant-col-lg-24","ant-form-inline":"ant-form-inline","has-success":"has-success","has-warning":"has-warning","is-validating":"is-validating",zoomIn:"zoomIn",diffZoomIn1:"diffZoomIn1","ant-calendar-picker-open":"ant-calendar-picker-open","ant-calendar-picker-input":"ant-calendar-picker-input","ant-input-prefix":"ant-input-prefix",diffZoomIn3:"diffZoomIn3","ant-select-focused":"ant-select-focused","ant-picker-icon":"ant-picker-icon","ant-input-number-focused":"ant-input-number-focused","ant-time-picker-input-focused":"ant-time-picker-input-focused","ant-cascader-input":"ant-cascader-input",diffZoomIn2:"diffZoomIn2","ant-select-auto-complete":"ant-select-auto-complete","ant-mention-wrapper":"ant-mention-wrapper","ant-mention-editor":"ant-mention-editor","ant-mention-active":"ant-mention-active",loadingCircle:"loadingCircle","ant-advanced-search-form":"ant-advanced-search-form","show-help-enter":"show-help-enter","show-help-appear":"show-help-appear","show-help-leave":"show-help-leave","show-help-enter-active":"show-help-enter-active","show-help-appear-active":"show-help-appear-active",antShowHelpIn:"antShowHelpIn","show-help-leave-active":"show-help-leave-active",antShowHelpOut:"antShowHelpOut"}},180:function(e,t,n){e.exports=n(0)(604)},181:function(e,t,n){e.exports=n(0)(130)},184:function(e,t,n){e.exports=n(0)(182)},185:function(e,t,n){e.exports=n(0)(661)},195:function(e,t,n){e.exports=n(0)(849)},196:function(e,t,n){e.exports=n(0)(328)},197:function(e,t,n){e.exports=n(0)(270)},198:function(e,t,n){e.exports=n(0)(170)},199:function(e,t,n){e.exports=n(0)(324)},200:function(e,t,n){e.exports=n(0)(386)},201:function(e,t,n){e.exports=n(0)(387)},204:function(e,t,n){e.exports=n(0)(868)},205:function(e,t,n){e.exports=n(0)(2092)},206:function(e,t,n){e.exports=n(0)(1858)},207:function(e,t,n){e.exports=n(0)(325)},208:function(e,t,n){e.exports=n(0)(209)},209:function(e,t,n){e.exports=n(127)(2662)},210:function(e,t,n){e.exports=n(0)(241)},211:function(e,t,n){e.exports=n(0)(235)},212:function(e,t,n){e.exports=n(0)(151)},213:function(e,t,n){e.exports=n(127)(1367)},214:function(e,t,n){e.exports=n(0)(582)},215:function(e,t,n){e.exports=n(0)(127)},216:function(e,t,n){e.exports=n(0)(484)},217:function(e,t,n){e.exports=n(0)(2129)},218:function(e,t,n){e.exports=n(0)(385)},219:function(e,t,n){e.exports=n(0)(156)},220:function(e,t,n){e.exports=n(0)(255)},221:function(e,t,n){e.exports=n(0)(1960)},222:function(e,t,n){e.exports=n(0)(298)},223:function(e,t,n){e.exports=n(0)(1132)},224:function(e,t,n){e.exports=n(0)(580)},225:function(e,t,n){e.exports=n(0)(128)},226:function(e,t,n){e.exports=n(0)(108)},227:function(e,t,n){e.exports=n(0)(472)},228:function(e,t,n){e.exports=n(0)(873)},229:function(e,t,n){e.exports=n(0)(2130)},243:function(e,t,n){e.exports=n(0)(1974)},367:function(e,t,n){"use strict";n(143),n(368)},368:function(e,t,n){e.exports={"ant-collapse":"ant-collapse","ant-collapse-item":"ant-collapse-item","ant-collapse-header":"ant-collapse-header",arrow:"arrow","ant-collapse-no-arrow":"ant-collapse-no-arrow","ant-collapse-anim-active":"ant-collapse-anim-active","ant-collapse-content":"ant-collapse-content","ant-collapse-content-box":"ant-collapse-content-box","ant-collapse-content-inactive":"ant-collapse-content-inactive","ant-collapse-borderless":"ant-collapse-borderless","ant-collapse-item-disabled":"ant-collapse-item-disabled"}},370:function(e,t,n){e.exports=n(0)(1139)},97:function(e,t,n){"use strict";n.r(t);n(193);var a,r,o,c=n(164),i=(n(159),n(156)),s=(n(269),n(185)),p=n(147),l=n(148),u=n(150),d=n(149),f=n(151),m=n(154),h=(n(367),n(370)),b=n(1),x=n.n(b),v=n(146),w=n(152),g=n(251),k=n(142),y=n(2),O=n.n(y),j=n(28),E=n(144),T=n(145),_=Object(k["g"])();function I(e){return S.apply(this,arguments)}function S(){return S=Object(j["a"])(O.a.mark(function e(t){return O.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(T["a"])("".concat(E["e"],"/v1/").concat(_,"/process/instance/history"),{method:"GET",query:t}));case 1:case"end":return e.stop()}},e)})),S.apply(this,arguments)}n.d(t,"default",function(){return z});var A=h["default"].Panel,z=(a=Object(w["Bind"])(),r=Object(w["Bind"])(),o=function(e){function t(e){var n;return Object(p["a"])(this,t),n=Object(u["a"])(this,Object(d["a"])(t).call(this,e)),n.state={dataSource:[]},n}return Object(f["a"])(t,e),Object(l["a"])(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.businessKey,n={businessKey:t};I(n).then(function(t){if(t){var n=Object(k["m"])(t);e.setState({dataSource:n})}})}},{key:"renderProcessStatus",value:function(e){return e.processEndTime?x.a.createElement(s["default"],{style:{marginTop:"8px"}},v["a"].get("hzero.common.status.finished").d("\u5df2\u7ed3\u675f")):e.suspended?x.a.createElement(s["default"],{color:"orange",style:{marginTop:"8px"}},v["a"].get("hzero.common.status.suspended").d("\u6302\u8d77\u4e2d")):x.a.createElement(s["default"],{color:"green",style:{marginTop:"8px"}},v["a"].get("hzero.common.status.running").d("\u8fd0\u884c\u4e2d"))}},{key:"renderTable",value:function(){var e=this,t=this.state.dataSource,n=void 0===t?[]:t,a=[{title:v["a"].get("hwfp.common.model.approval.activityStartTime").d("\u5ba1\u6279\u65f6\u95f4"),dataIndex:"activityStartTime",width:180,render:g["b"]},{title:v["a"].get("hwfp.common.model.approval.action").d("\u5ba1\u6279\u52a8\u4f5c"),dataIndex:"action",width:150,render:g["a"]},{title:v["a"].get("hwfp.common.model.approval.step").d("\u5ba1\u6279\u73af\u8282"),dataIndex:"activityName",width:200},{title:v["a"].get("hwfp.common.model.approval.owner").d("\u5ba1\u6279\u4eba"),dataIndex:"assigneeName",width:150},{title:v["a"].get("hwfp.common.model.approval.opinion").d("\u5ba1\u6279\u610f\u89c1"),dataIndex:"comment"}];return x.a.createElement(h["default"],{className:"form-collapse",style:{marginBottom:"24px",marginTop:"24px"}},n.map(function(t){return x.a.createElement(A,{header:x.a.createElement(i["default"],{layout:"inline",style:{height:"30px",marginTop:"-8px"}},e.renderProcessStatus(t),x.a.createElement(i["default"].Item,{label:v["a"].get("hwfp.common.model.approval.processName").d("\u6d41\u7a0b\u540d\u79f0")},t.processName),x.a.createElement(i["default"].Item,{label:v["a"].get("hwfp.common.model.approval.processStartTime").d("\u6d41\u7a0b\u5f00\u59cb\u65f6\u95f4")},Object(g["b"])(t.processStartTime)),t.processEndTime&&x.a.createElement(i["default"].Item,{label:v["a"].get("hwfp.common.model.approval.processEndTime").d("\u6d41\u7a0b\u7ed3\u675f\u65f6\u95f4")},Object(g["b"])(t.processEndTime)))},x.a.createElement(c["default"],{bordered:!0,rowKey:"processInstanceId",pagination:!1,dataSource:t.activityInstanceList,columns:a,scroll:{x:Object(k["B"])(a)}}))}))}},{key:"render",value:function(){return x.a.createElement(x.a.Fragment,null,this.renderTable())}}]),t}(b["Component"]),Object(m["a"])(o.prototype,"renderProcessStatus",[a],Object.getOwnPropertyDescriptor(o.prototype,"renderProcessStatus"),o.prototype),Object(m["a"])(o.prototype,"renderTable",[r],Object.getOwnPropertyDescriptor(o.prototype,"renderTable"),o.prototype),o)}}]);