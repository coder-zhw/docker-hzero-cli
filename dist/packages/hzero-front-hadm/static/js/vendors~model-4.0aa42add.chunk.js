(window["webpackJsonppackages_hzero_front_hadm_name_"]=window["webpackJsonppackages_hzero_front_hadm_name_"]||[]).push([[47],{76:function(t,e,n){"use strict";n.r(e);var a=n(2),r=n.n(a),i=n(16),c=n(124),u=n(156),s=n(87),o=n(102),p=n(17),d=n(197),l=Object(s["g"])();function m(){return Object(s["r"])()?"".concat(l,"/gateway-rate-limits"):"gateway-rate-limits"}function f(){return Object(s["r"])()?"".concat(l,"/gateway-rate-limit-lines"):"gateway-rate-limit-lines"}function h(t){return w.apply(this,arguments)}function w(){return w=Object(p["a"])(r.a.mark(function t(e){return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(d["a"])("".concat(u["d"],"/v1/").concat(m()),{method:"GET",query:Object(s["s"])(e)}));case 1:case"end":return t.stop()}},t)})),w.apply(this,arguments)}function b(t){return y.apply(this,arguments)}function y(){return y=Object(p["a"])(r.a.mark(function t(e){return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(d["a"])("".concat(u["d"],"/v1/").concat(m(),"/create"),{method:"POST",body:e}));case 1:case"end":return t.stop()}},t)})),y.apply(this,arguments)}function v(t){return O.apply(this,arguments)}function O(){return O=Object(p["a"])(r.a.mark(function t(e){var n,a,i;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.page,a=e.size,i=e.rateLimitId,t.abrupt("return",Object(d["a"])("".concat(u["d"],"/v1/").concat(m(),"/").concat(i,"/lines"),{method:"GET",query:{page:n,size:a}}));case 2:case"end":return t.stop()}},t)})),O.apply(this,arguments)}function j(t){return x.apply(this,arguments)}function x(){return x=Object(p["a"])(r.a.mark(function t(e){return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(d["a"])("".concat(u["d"],"/v1/").concat(m(),"/detail/save"),{method:"POST",body:e}));case 1:case"end":return t.stop()}},t)})),x.apply(this,arguments)}function g(t){return L.apply(this,arguments)}function L(){return L=Object(p["a"])(r.a.mark(function t(e){var n;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.rateLimitLineId,t.abrupt("return",Object(d["a"])("".concat(u["d"],"/v1/").concat(f(),"/").concat(n),{method:"GET"}));case 2:case"end":return t.stop()}},t)})),L.apply(this,arguments)}function _(t){return k.apply(this,arguments)}function k(){return k=Object(p["a"])(r.a.mark(function t(e){return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(d["a"])("".concat(u["d"],"/v1/").concat(m(),"/batch-delete"),{method:"POST",body:e}));case 1:case"end":return t.stop()}},t)})),k.apply(this,arguments)}function D(t){return T.apply(this,arguments)}function T(){return T=Object(p["a"])(r.a.mark(function t(e){return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(d["a"])("".concat(u["d"],"/v1/").concat(m(),"/config/refresh"),{method:"POST",body:e}));case 1:case"end":return t.stop()}},t)})),T.apply(this,arguments)}function S(t){return E.apply(this,arguments)}function E(){return E=Object(p["a"])(r.a.mark(function t(e){return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(d["a"])("".concat(u["d"],"/v1/").concat(f()),{method:"POST",body:e}));case 1:case"end":return t.stop()}},t)})),E.apply(this,arguments)}function I(t){return C.apply(this,arguments)}function C(){return C=Object(p["a"])(r.a.mark(function t(e){return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(d["a"])("".concat(u["d"],"/v1/").concat(f()),{method:"PUT",body:e}));case 1:case"end":return t.stop()}},t)})),C.apply(this,arguments)}function R(t){return M.apply(this,arguments)}function M(){return M=Object(p["a"])(r.a.mark(function t(e){return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(d["a"])("".concat(u["d"],"/v1/").concat(f(),"/batch-delete"),{method:"POST",body:e}));case 1:case"end":return t.stop()}},t)})),M.apply(this,arguments)}function P(t){return A.apply(this,arguments)}function A(){return A=Object(p["a"])(r.a.mark(function t(e){return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(d["a"])("".concat(u["d"],"/v1/").concat(f()),{method:"GET",query:Object(s["s"])(e)}));case 1:case"end":return t.stop()}},t)})),A.apply(this,arguments)}function V(t){return z.apply(this,arguments)}function z(){return z=Object(p["a"])(r.a.mark(function t(e){var n;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(s["r"])()?"".concat(u["d"],"/v1/").concat(l,"/dimension-configs/").concat(e):"".concat(u["d"],"/v1/dimension-configs/").concat(e),t.abrupt("return",Object(d["a"])(n,{method:"GET"}));case 2:case"end":return t.stop()}},t)})),z.apply(this,arguments)}function G(t,e){return q.apply(this,arguments)}function q(){return q=Object(p["a"])(r.a.mark(function t(e,n){var a;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=Object(s["r"])()?"".concat(u["d"],"/v1/").concat(l,"/dimension-configs"):"".concat(u["d"],"/v1/dimension-configs"),t.abrupt("return",Object(d["a"])(a,{method:"GET",query:Object(i["a"])({rateLimitLineId:e},Object(s["s"])(n))}));case 2:case"end":return t.stop()}},t)})),q.apply(this,arguments)}function W(t){return H.apply(this,arguments)}function H(){return H=Object(p["a"])(r.a.mark(function t(e){var n;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(s["r"])()?"".concat(u["d"],"/v1/").concat(l,"/gateway-rate-limit-lines/if-allow-change"):"".concat(u["d"],"/v1/gateway-rate-limit-lines/if-allow-change"),t.abrupt("return",Object(d["a"])(n,{method:"GET",query:{rateLimitLineId:e}}));case 2:case"end":return t.stop()}},t)})),H.apply(this,arguments)}function K(t){return U.apply(this,arguments)}function U(){return U=Object(p["a"])(r.a.mark(function t(e){var n;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(s["r"])()?"".concat(u["d"],"/v1/").concat(l,"/dimension-configs"):"".concat(u["d"],"/v1/dimension-configs"),t.abrupt("return",Object(d["a"])(n,{method:"DELETE",body:e}));case 2:case"end":return t.stop()}},t)})),U.apply(this,arguments)}function J(t){return N.apply(this,arguments)}function N(){return N=Object(p["a"])(r.a.mark(function t(e){var n;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(s["r"])()?"".concat(u["d"],"/v1/").concat(l,"/dimension-configs"):"".concat(u["d"],"/v1/dimension-configs"),t.abrupt("return",Object(d["a"])(n,{method:"PUT",body:e}));case 2:case"end":return t.stop()}},t)})),N.apply(this,arguments)}function Y(t){return F.apply(this,arguments)}function F(){return F=Object(p["a"])(r.a.mark(function t(e){var n;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(s["r"])()?"".concat(u["d"],"/v1/").concat(l,"/dimension-configs"):"".concat(u["d"],"/v1/dimension-configs"),t.abrupt("return",Object(d["a"])(n,{method:"POST",body:e}));case 2:case"end":return t.stop()}},t)})),F.apply(this,arguments)}function Z(t){var e=t||{},n=(e["data-extra__rateLimitDimension_url"],Object(c["a"])(e,["data-extra__rateLimitDimension_url"])),a=[];return(t.rateLimitDimension||[]).forEach(function(e){"url"===e?t["data-extra__rateLimitDimension_url"]?a.push("url(".concat(t["data-extra__rateLimitDimension_url"],")")):a.push("url({1})"):a.push(e)}),Object(i["a"])({},n,{rateLimitDimension:a.join(",")})}function $(t){var e=[],n="";return(t.rateLimitDimension||"").split(",").forEach(function(t){if(t)if(t.startsWith("url")){e.push("url");var a=t.match(/^url\((.*)\)$/);n=a&&a[1]||"{1}"}else e.push(t)}),t?Object(i["a"])({},t,{rateLimitDimension:e,"data-extra__rateLimitDimension_url":n}):t}function B(t){var e={},n=[],a=t.rateLimitLine,r=Z(a),c=r.rateLimitDimension;return Object.keys(t).forEach(function(a){if(a.startsWith("data-field__dimension")){if(a.startsWith("data-field__dimension-")){var r=t[a];"url"===r?n.push((t["data-field__dimensionValue-".concat(r)]||[]).join(";")):n.push(t["data-field__dimensionValue-".concat(r)])}}else e[a]=t[a]}),Object(i["a"])({},e,{rateLimitDimension:c,dimensionKey:n.join(",")})}function Q(t){if(t){t.rateLimitDimension,t.dimensionKey,t.dimensionMeaning;var e=Object(c["a"])(t,["rateLimitDimension","dimensionKey","dimensionMeaning"]),n=(t.rateLimitDimension||"").split(","),a=(t.dimensionKey||"").split(",");return n.forEach(function(n,r){var i=n.startsWith("url")?"url":n,c={dimension:n,dimensionValue:a[r],dimensionValueMeaning:t["".concat(i,"KeyMeaning")]||a[r]};c.dimension.startsWith("url")?(e["data-field__dimension-".concat(i)]=i,e["data-field__dimensionValue-".concat(i)]=(c.dimensionValue||"").split(";"),e["data-field__dimensionMeaning-".concat(i)]=c.dimensionValueMeaning):(e["data-field__dimension-".concat(i)]=c.dimension,e["data-field__dimensionValue-".concat(i)]=c.dimensionValue,e["data-field__dimensionMeaning-".concat(i)]=c.dimensionValueMeaning)}),e}return t}function X(t){return t&&u["m"]?t.filter(function(t){return"tenant"!==t.value}):t}e["default"]={namespace:"hadmZuulRateLimit",state:{list:[],headerInformation:{},zuulRateLimitLineList:[],pagination:{},detailPagination:{},dataSourceMap:{},selectedDetailRows:[],selectedDetailRowKeys:[],modalVisible:!1,limitTypes:[],dimensionTypes:[],lineDetail:{},refreshStatus:[],dimensionConfigsDataSource:[],dimensionConfigsPagination:{},dimensionAllowChange:!1},effects:{init:r.a.mark(function t(e,n){var a,i,c;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=n.call,i=n.put,t.t0=s["m"],t.next=4,a(o["e"],{limitTypes:"HADM.RATE_LIMIT_TYPE",dimensionTypes:"HADM.GATEWAY_RATE_LIMIT_DIMENSION",refreshStatus:"HADM.REFRESH_STATUS"});case 4:if(t.t1=t.sent,c=(0,t.t0)(t.t1),!c){t.next=9;break}return t.next=9,i({type:"updateState",payload:{limitTypes:c.limitTypes,dimensionTypes:X(c.dimensionTypes),refreshStatus:c.refreshStatus}});case 9:case"end":return t.stop()}},t)}),fetchList:r.a.mark(function t(e,n){var a,i,c,u;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.payload,i=n.call,c=n.put,t.t0=s["m"],t.next=5,i(h,a);case 5:if(t.t1=t.sent,u=(0,t.t0)(t.t1),!u){t.next=10;break}return t.next=10,c({type:"updateState",payload:{list:u.content,pagination:Object(s["a"])(u)}});case 10:case"end":return t.stop()}},t)}),addRateLimit:r.a.mark(function t(e,n){var a,c,u;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.payload,c=n.call,t.next=4,c(b,Object(i["a"])({},a));case 4:return u=t.sent,t.abrupt("return",Object(s["m"])(u));case 6:case"end":return t.stop()}},t)}),fetchHeaderInformation:r.a.mark(function t(e,n){var a,i,c,u,o,p,d,l,m;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.payload,i=n.call,c=n.put,u=a.page,o=void 0===u?0:u,p=a.size,d=void 0===p?10:p,l=a.rateLimitId,t.t0=s["m"],t.next=6,i(v,{rateLimitId:l,page:o,size:d});case 6:if(t.t1=t.sent,m=(0,t.t0)(t.t1),!m){t.next=11;break}return t.next=11,c({type:"updateState",payload:{headerInformation:m,zuulRateLimitLineList:(m.gatewayRateLimitLineList.content||[]).map(function(t){return $(t)}),detailPagination:Object(s["a"])(m.gatewayRateLimitLineList)}});case 11:case"end":return t.stop()}},t)}),fetchLines:r.a.mark(function t(e,n){var a,i,c,u;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.payload,i=n.call,c=n.put,t.t0=s["m"],t.next=5,i(P,a);case 5:if(t.t1=t.sent,u=(0,t.t0)(t.t1),!u){t.next=10;break}return t.next=10,c({type:"updateState",payload:{zuulRateLimitLineList:(u.content||[]).map(function(t){return $(t)}),detailPagination:Object(s["a"])(u)}});case 10:case"end":return t.stop()}},t)}),fetchLineDetail:r.a.mark(function t(e,n){var a,i,c,u;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.payload,i=n.call,c=n.put,t.t0=s["m"],t.next=5,i(g,a);case 5:if(t.t1=t.sent,u=(0,t.t0)(t.t1),!u){t.next=10;break}return t.next=10,c({type:"updateState",payload:{lineDetail:$(u)}});case 10:case"end":return t.stop()}},t)}),detailSave:r.a.mark(function t(e,n){var a,c,u;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.payload,c=n.call,t.next=4,c(j,Object(i["a"])({},a,{gatewayRateLimitLineList:(a.gatewayRateLimitLineList||[]).map(function(t){return Z(t)})}));case 4:return u=t.sent,t.abrupt("return",Object(s["m"])(u));case 6:case"end":return t.stop()}},t)}),deleteHeaders:r.a.mark(function t(e,n){var a,i,c;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.payload,i=n.call,t.next=4,i(_,a);case 4:return c=t.sent,t.abrupt("return",Object(s["m"])(c));case 6:case"end":return t.stop()}},t)}),insertLine:r.a.mark(function t(e,n){var a,i,c,u;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.payload,i=n.call,c=a.dimensionConfig,t.next=5,i(S,Z(c||{}));case 5:return u=t.sent,t.abrupt("return",Object(s["m"])(u));case 7:case"end":return t.stop()}},t)}),updateLine:r.a.mark(function t(e,n){var a,i,c,u;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.payload,i=n.call,c=a.dimensionConfig,t.next=5,i(I,Z(c||{}));case 5:return u=t.sent,t.abrupt("return",Object(s["m"])(u));case 7:case"end":return t.stop()}},t)}),deleteLines:r.a.mark(function t(e,n){var a,i,c;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.payload,i=n.call,t.next=4,i(R,(a||[]).map(function(t){return Z(t)}));case 4:return c=t.sent,t.abrupt("return",Object(s["m"])(c));case 6:case"end":return t.stop()}},t)}),refresh:r.a.mark(function t(e,n){var a,i,c;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.payload,i=n.call,t.next=4,i(D,a);case 4:return c=t.sent,t.abrupt("return",Object(s["m"])(c));case 6:case"end":return t.stop()}},t)}),insertDimensionConfigs:r.a.mark(function t(e,n){var a,i,c,u;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.payload,i=n.call,c=a.dimensionConfig,t.next=5,i(Y,B(c));case 5:return u=t.sent,t.abrupt("return",Object(s["m"])(u));case 7:case"end":return t.stop()}},t)}),deleteDimensionConfigs:r.a.mark(function t(e,n){var a,i,c,u;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.payload,i=n.call,c=a.dimensionConfig,t.next=5,i(K,Z(c));case 5:return u=t.sent,t.abrupt("return",Object(s["m"])(u));case 7:case"end":return t.stop()}},t)}),updateDimensionConfigs:r.a.mark(function t(e,n){var a,i,c,u;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.payload,i=n.call,c=a.dimensionConfig,t.next=5,i(J,B(c));case 5:return u=t.sent,t.abrupt("return",Object(s["m"])(u));case 7:case"end":return t.stop()}},t)}),queryDimensionConfigs:r.a.mark(function t(e,n){var a,i,c,u,o,p,d;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.payload,i=n.call,c=n.put,u=a.rateLimitLineId,o=a.pagination,t.next=5,i(G,u,o);case 5:if(p=t.sent,d=Object(s["m"])(p),!d){t.next=10;break}return t.next=10,c({type:"updateState",payload:{dimensionConfigsDataSource:d.content.map(function(t){return Q(t)}),dimensionConfigsPagination:Object(s["a"])(d)}});case 10:case"end":return t.stop()}},t)}),queryDimensionConfigsDetail:r.a.mark(function t(e,n){var a,i,c,u;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.payload,i=n.call,c=a.rateLimitDimId,t.next=5,i(V,c);case 5:return u=t.sent,t.abrupt("return",Q(Object(s["m"])(u)));case 7:case"end":return t.stop()}},t)}),queryGateWayRateLimitDimensionAllowChange:r.a.mark(function t(e,n){var a,i,c,u,s;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.payload,i=n.call,c=n.put,u=a.rateLimitLineId,t.next=5,i(W,u);case 5:return s=t.sent,t.next=8,c({type:"updateState",payload:{dimensionAllowChange:s}});case 8:case"end":return t.stop()}},t)})},reducers:{updateState:function(t,e){var n=e.payload;return Object(i["a"])({},t,n)}}}}}]);