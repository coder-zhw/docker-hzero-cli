(window["webpackJsonppackages_hzero_front_hiam_name_"]=window["webpackJsonppackages_hzero_front_hiam_name_"]||[]).push([[120,232,233,234,235,236,243,247,251,252,253,254,255,256,257,258,259,265,269,270,271,276,279,280,281,282,283],{293:function(t,e,n){"use strict";n.d(e,"a",function(){return g});var a=n(2),r=n.n(a),c=n(58),o=n(57),i=(n(338),n(311)),s=n(325),p=n.n(s),u=n(317),d=n(302),l=n(292),f=n(291);function h(t){if(t.status>=200&&t.status<300)return t;var e=t.statusText,n=new Error(e);throw n.name=t.status,n.response=t,n}function m(t){return b.apply(this,arguments)}function b(){return b=Object(o["a"])(r.a.mark(function t(e){var n;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(501!==e.name){t.next=14;break}return t.prev=1,t.next=4,e.response.json();case 4:n=t.sent,dvaApp._store.dispatch({type:"error/updateState",payload:{normal501:n}}),dvaApp._store.dispatch(u["routerRedux"].push({pathname:"/exception/501"})),t.next=12;break;case 9:throw t.prev=9,t.t0=t["catch"](1),e;case 12:t.next=15;break;case 14:throw e;case 15:case"end":return t.stop()}},t,null,[[1,9]])})),b.apply(this,arguments)}i["default"].config({placement:"bottomRight"});var y={Pragma:"no-cache","Cache-Control":"no-cache"};function g(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={credentials:"include",headers:y},r=n.beforeCatch,o=t.startsWith("/api")||t.startsWith("http")?t:"".concat(l["a"]).concat(t),s=Object(c["a"])({},a,e);if("POST"!==s.method&&"PUT"!==s.method&&"DELETE"!==s.method&&"PATCH"!==s.method||(s.body instanceof FormData?s.headers=Object(c["a"])({Accept:"application/json"},s.headers):(s.headers=Object(c["a"])({Accept:"application/json","Content-Type":"application/json; charset=utf-8"},s.headers),s.body=JSON.stringify(s.body))),s.query){var b=s.query;"GET"===s.method&&(b=Object(f["g"])(s.query)),o=Object(f["h"])(o,b)}var v=Object(f["i"])();v&&(s.headers=Object(c["a"])({},s.headers,{Authorization:"bearer ".concat(v)}));var x=p()(o,s).then(h).then(function(t){return 204===t.status?{}:"blob"===s.responseType?t.blob():"text"===s.responseType?t.text():t.json()});return r&&(x=x.catch(r)),x=x.catch(m).catch(function(t){var e=t.name,n=Object(f["w"])("isErrorFlag");if(n||Object(f["F"])("isErrorFlag",!1),401===e){var a=encodeURIComponent(window.location.toString());return v?void g("".concat(l["l"],"/public/token/kickoff"),{method:"POST",query:{access_token:v}}).then(function(t){1===t.kickoff?(dvaApp._store.dispatch(u["routerRedux"].push({pathname:"/public/kickoff"})),Object(f["F"])("redirectUrl",a),Object(f["F"])("isErrorFlag",!1)):(dvaApp._store.dispatch(u["routerRedux"].push({pathname:"/public/unauthorized"})),Object(f["F"])("isErrorFlag",!0),Object(f["F"])("redirectUrl",a))}):(Object(f["D"])(),Object(f["E"])(),-1!==o.indexOf(l["c"])?void(l["o"].includes("?")?(window.location.href="".concat(l["o"],"&redirect_uri=").concat(a),Object(f["F"])("isErrorFlag",!1),Object(f["F"])("redirectUrl",a)):(window.location.href="".concat(l["o"],"?redirect_uri=").concat(a),f["F"].apply("isErrorFlag",!1),Object(f["F"])("redirectUrl",a))):void(n||(dvaApp._store.dispatch(u["routerRedux"].push({pathname:"/public/unauthorized"})),Object(f["F"])("isErrorFlag",!0),Object(f["F"])("redirectUrl",a))))}if(-1!==o.indexOf(l["c"]))return t;"TypeError"!==e?i["default"].error({message:"".concat(e),description:t.message}):i["default"].error({message:d["a"].get("hzero.common.notification.network.typeError").d("\u7f51\u7edc\u8bf7\u6c42\u5f02\u5e38"),description:d["a"].get("hzero.common.notification.typeError.description").d("\u8bf7\u7a0d\u540e\u91cd\u8bd5")})}),x}},294:function(t,e,n){t.exports=n(0)(198)},300:function(t,e,n){t.exports=n(237)(2563)},301:function(t,e,n){"use strict";function a(t,e,n,a,r){var c={};return Object.keys(a).forEach(function(t){c[t]=a[t]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(n,a){return a(t,e,n)||n},c),r&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(r):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(t,e,c),c=null),c}n.d(e,"a",function(){return a})},303:function(t,e,n){t.exports=n(0)(1169)},304:function(t,e,n){t.exports=n(0)(1147)},305:function(t,e,n){"use strict";n(294),n(328),n(321)},307:function(t,e,n){t.exports=n(0)(111)},309:function(t,e,n){t.exports=n(0)(293)},311:function(t,e,n){t.exports=n(0)(1155)},312:function(t,e,n){t.exports=n(0)(1161)},315:function(t,e,n){t.exports=n(0)(116)},317:function(t,e,n){t.exports=n(0)(1852)},318:function(t,e,n){t.exports=n(0)(1168)},319:function(t,e,n){t.exports=n(0)(37)},320:function(t,e,n){t.exports=n(0)(82)},325:function(t,e,n){t.exports=n(0)(1858)},328:function(t,e,n){t.exports={"ant-form":"ant-form","ant-form-item-required":"ant-form-item-required","ant-form-hide-required-mark":"ant-form-hide-required-mark","ant-form-item-children":"ant-form-item-children","ant-input":"ant-input","ant-input-disabled":"ant-input-disabled","ant-input-number-input":"ant-input-number-input","ant-cascader-picker":"ant-cascader-picker","ant-cascader-picker-disabled":"ant-cascader-picker-disabled","ant-time-picker-input":"ant-time-picker-input","ant-select-disabled":"ant-select-disabled","ant-select-selection":"ant-select-selection","ant-input-group-addon":"ant-input-group-addon","has-error":"has-error",disabled:"disabled","ant-radio-inline":"ant-radio-inline","ant-radio-vertical":"ant-radio-vertical","ant-checkbox-inline":"ant-checkbox-inline","ant-checkbox-vertical":"ant-checkbox-vertical","ant-radio":"ant-radio","ant-checkbox":"ant-checkbox","ant-form-item":"ant-form-item",anticon:"anticon","ant-form-item-control":"ant-form-item-control","ant-form-item-with-help":"ant-form-item-with-help","ant-form-item-label":"ant-form-item-label","ant-switch":"ant-switch","ant-form-item-no-colon":"ant-form-item-no-colon","ant-form-explain":"ant-form-explain","ant-form-extra":"ant-form-extra","ant-form-text":"ant-form-text","ant-form-split":"ant-form-split","has-feedback":"has-feedback","ant-select":"ant-select","ant-select-arrow":"ant-select-arrow","ant-select-selection__clear":"ant-select-selection__clear","ant-select-selection-selected-value":"ant-select-selection-selected-value","ant-cascader-picker-arrow":"ant-cascader-picker-arrow","ant-cascader-picker-clear":"ant-cascader-picker-clear","ant-input-search":"ant-input-search","ant-input-search-enter-button":"ant-input-search-enter-button","ant-input-suffix":"ant-input-suffix","ant-calendar-picker-icon":"ant-calendar-picker-icon","ant-time-picker-icon":"ant-time-picker-icon","ant-calendar-picker-clear":"ant-calendar-picker-clear","ant-time-picker-clear":"ant-time-picker-clear","ant-upload":"ant-upload","ant-input-number":"ant-input-number","ant-input-number-handler-wrap":"ant-input-number-handler-wrap","ant-input-group":"ant-input-group","ant-input-group-wrapper":"ant-input-group-wrapper","ant-input-group-wrap":"ant-input-group-wrap","ant-select-selection--single":"ant-select-selection--single","ant-select-selection__rendered":"ant-select-selection__rendered","ant-select-open":"ant-select-open","ant-form-vertical":"ant-form-vertical","ant-col-24":"ant-col-24","ant-col-xl-24":"ant-col-xl-24","ant-form-item-control-wrapper":"ant-form-item-control-wrapper","ant-col-xs-24":"ant-col-xs-24","ant-col-sm-24":"ant-col-sm-24","ant-col-md-24":"ant-col-md-24","ant-col-lg-24":"ant-col-lg-24","ant-form-inline":"ant-form-inline","has-success":"has-success","has-warning":"has-warning","is-validating":"is-validating",zoomIn:"zoomIn",diffZoomIn1:"diffZoomIn1","ant-calendar-picker-open":"ant-calendar-picker-open","ant-calendar-picker-input":"ant-calendar-picker-input","ant-input-prefix":"ant-input-prefix",diffZoomIn3:"diffZoomIn3","ant-select-focused":"ant-select-focused","ant-picker-icon":"ant-picker-icon","ant-input-number-focused":"ant-input-number-focused","ant-time-picker-input-focused":"ant-time-picker-input-focused","ant-cascader-input":"ant-cascader-input",diffZoomIn2:"diffZoomIn2","ant-select-auto-complete":"ant-select-auto-complete","ant-mention-wrapper":"ant-mention-wrapper","ant-mention-editor":"ant-mention-editor","ant-mention-active":"ant-mention-active",loadingCircle:"loadingCircle","ant-advanced-search-form":"ant-advanced-search-form","show-help-enter":"show-help-enter","show-help-appear":"show-help-appear","show-help-leave":"show-help-leave","show-help-enter-active":"show-help-enter-active","show-help-appear-active":"show-help-appear-active",antShowHelpIn:"antShowHelpIn","show-help-leave-active":"show-help-leave-active",antShowHelpOut:"antShowHelpOut"}},330:function(t,e,n){"use strict";n(294),n(321)},331:function(t,e,n){t.exports=n(0)(261)},332:function(t,e,n){"use strict";n(294),n(321)},333:function(t,e,n){t.exports=n(0)(144)},334:function(t,e,n){t.exports=n(0)(1167)},335:function(t,e,n){t.exports=n(0)(182)},336:function(t,e,n){t.exports=n(0)(274)},337:function(t,e,n){t.exports=n(237)(2648)},339:function(t,e,n){t.exports=n(0)(34)},340:function(t,e,n){t.exports=n(0)(130)},341:function(t,e,n){t.exports=n(0)(829)},342:function(t,e,n){t.exports=n(0)(604)},345:function(t,e,n){t.exports=n(0)(156)},346:function(t,e,n){t.exports=n(0)(151)},347:function(t,e,n){t.exports=n(0)(484)},352:function(t,e,n){t.exports=n(0)(2092)},354:function(t,e,n){"use strict";var a=n(58),r=(n(338),n(311)),c=n(308),o=n(302);function i(t){var e=t||{},n=e.message,i=e.description,s=Object(c["a"])(e,["message","description"]);r["default"].success(Object(a["a"])({message:n||o["a"].get("hzero.common.notification.success").d("\u64cd\u4f5c\u6210\u529f"),description:i,duration:2.5,className:"success"},s))}function s(t){var e=t||{},n=e.message,i=e.description,s=Object(c["a"])(e,["message","description"]);r["default"].error(Object(a["a"])({message:n||o["a"].get("hzero.common.notification.error").d("\u64cd\u4f5c\u5931\u8d25"),description:i,duration:2.5,className:"error"},s))}function p(t){var e=t||{},n=e.message,i=e.description,s=Object(c["a"])(e,["message","description"]);r["default"].warning(Object(a["a"])({message:n||o["a"].get("hzero.common.notification.warn").d("\u64cd\u4f5c\u5f02\u5e38"),description:i,duration:2.5,className:"warn"},s))}function u(t){var e=t||{},n=e.message,o=e.description,i=Object(c["a"])(e,["message","description"]);r["default"].info(Object(a["a"])({message:n,description:o,duration:2.5,className:"info"},i))}e["a"]={success:i,error:s,warning:p,info:u}},356:function(t,e,n){t.exports=n(0)(661)},358:function(t,e,n){t.exports=n(0)(868)},359:function(t,e,n){t.exports=n(0)(2130)},360:function(t,e,n){t.exports=n(0)(325)},361:function(t,e,n){t.exports=n(0)(241)},362:function(t,e,n){t.exports=n(0)(385)},363:function(t,e,n){t.exports=n(0)(1132)},364:function(t,e,n){t.exports=n(0)(255)},365:function(t,e,n){t.exports=n(0)(1960)},366:function(t,e,n){t.exports=n(0)(298)},367:function(t,e,n){t.exports=n(0)(849)},368:function(t,e,n){t.exports=n(0)(328)},369:function(t,e,n){t.exports=n(0)(270)},370:function(t,e,n){t.exports=n(0)(170)},371:function(t,e,n){t.exports=n(0)(324)},372:function(t,e,n){t.exports=n(0)(386)},373:function(t,e,n){t.exports=n(0)(387)},375:function(t,e,n){t.exports=n(237)(2662)},376:function(t,e,n){t.exports=n(237)(1367)},377:function(t,e,n){t.exports=n(0)(127)},378:function(t,e,n){t.exports=n(0)(2129)},379:function(t,e,n){t.exports=n(0)(235)},380:function(t,e,n){t.exports=n(0)(209)},381:function(t,e,n){t.exports=n(0)(580)},382:function(t,e,n){t.exports=n(0)(582)},383:function(t,e,n){t.exports=n(0)(128)},384:function(t,e,n){t.exports=n(0)(108)},385:function(t,e,n){t.exports=n(0)(472)},386:function(t,e,n){t.exports=n(0)(873)},391:function(t,e,n){t.exports=n(0)(1974)},459:function(t,e,n){var a=n(336),r=n(501);function c(t,e,n){return t&&t.length&&e&&e.length?r(t,e,a(n,2)):t}t.exports=c},475:function(t,e,n){"use strict";n.d(e,"k",function(){return f}),n.d(e,"d",function(){return m}),n.d(e,"h",function(){return y}),n.d(e,"g",function(){return v}),n.d(e,"b",function(){return O}),n.d(e,"c",function(){return j}),n.d(e,"i",function(){return C}),n.d(e,"e",function(){return S}),n.d(e,"f",function(){return F}),n.d(e,"j",function(){return _}),n.d(e,"a",function(){return D});n(58);var a=n(2),r=n.n(a),c=n(57),o=n(485),i=n.n(o),s=n(293),p=n(292),u=n(291),d=Object(u["m"])(),l=Object(u["z"])();function f(t){return h.apply(this,arguments)}function h(){return h=Object(c["a"])(r.a.mark(function t(e){var n;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=i.a.stringify(e),t.abrupt("return",Object(s["a"])("".concat(p["h"],"/v1/sec-grps/check-duplicate?").concat(n),{method:"POST"}));case 2:case"end":return t.stop()}},t)})),h.apply(this,arguments)}function m(t,e){return b.apply(this,arguments)}function b(){return b=Object(c["a"])(r.a.mark(function t(e,n){return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(s["a"])(l?"".concat(p["h"],"/v1/").concat(d,"/sec-grps/").concat(e,"/copy"):"".concat(p["h"],"/v1/sec-grps/").concat(e,"/copy"),{method:"POST",body:n}));case 1:case"end":return t.stop()}},t)})),b.apply(this,arguments)}function y(t){return g.apply(this,arguments)}function g(){return g=Object(c["a"])(r.a.mark(function t(e){var n;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.secGrpId,t.abrupt("return",Object(s["a"])(l?"".concat(p["h"],"/v1/").concat(d,"/sec-grp-acls/").concat(n):"".concat(p["h"],"/v1/sec-grp-acls/").concat(n),{method:"GET",query:e}));case 2:case"end":return t.stop()}},t)})),g.apply(this,arguments)}function v(t){return x.apply(this,arguments)}function x(){return x=Object(c["a"])(r.a.mark(function t(e){var n,a;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.secGrpId,a=e.roleId,t.abrupt("return",Object(s["a"])("".concat(p["h"],"/hzero/v1/sec-grps/").concat(a,"/assign-sec-grp/").concat(n,"/acl")));case 2:case"end":return t.stop()}},t)})),x.apply(this,arguments)}function O(t,e){return w.apply(this,arguments)}function w(){return w=Object(c["a"])(r.a.mark(function t(e,n){return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(s["a"])(l?"".concat(p["h"],"/v1/").concat(d,"/sec-grp-acls/").concat(e):"".concat(p["h"],"/v1/sec-grp-acls/").concat(e),{method:"POST",body:n}));case 1:case"end":return t.stop()}},t)})),w.apply(this,arguments)}function j(t,e){return k.apply(this,arguments)}function k(){return k=Object(c["a"])(r.a.mark(function t(e,n){return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(s["a"])(l?"".concat(p["h"],"/v1/").concat(d,"/sec-grp-acls/").concat(e):"".concat(p["h"],"/v1/sec-grp-acls/").concat(e),{method:"DELETE",body:n}));case 1:case"end":return t.stop()}},t)})),k.apply(this,arguments)}function C(t){return E.apply(this,arguments)}function E(){return E=Object(c["a"])(r.a.mark(function t(e){return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(s["a"])("".concat(p["h"],"/v1/").concat(e,"/sec-grp-dcl-dims/assign")));case 1:case"end":return t.stop()}},t)})),E.apply(this,arguments)}function S(t){return I.apply(this,arguments)}function I(){return I=Object(c["a"])(r.a.mark(function t(e){var n,a;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.secGrpId,a=i.a.stringify(e),t.abrupt("return",Object(s["a"])(l?"".concat(p["h"],"/v1/").concat(d,"/sec-grp-dcls/").concat(n,"/authority-org?").concat(a):"".concat(p["h"],"/v1/sec-grp-dcls/").concat(n,"/authority-org?").concat(a)));case 3:case"end":return t.stop()}},t)})),I.apply(this,arguments)}function F(t){return L.apply(this,arguments)}function L(){return L=Object(c["a"])(r.a.mark(function t(e){var n,a,c;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.secGrpId,a=e.roleId,c=i.a.stringify(e),t.abrupt("return",Object(s["a"])("".concat(p["h"],"/hzero/v1/sec-grps/").concat(a,"/assign-sec-grp/").concat(n,"/dcl-tree?").concat(c)));case 3:case"end":return t.stop()}},t)})),L.apply(this,arguments)}function _(t){return z.apply(this,arguments)}function z(){return z=Object(c["a"])(r.a.mark(function t(e){var n;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.secGrpId,t.abrupt("return",Object(s["a"])(l?"".concat(p["h"],"/v1/").concat(d,"/sec-grp-dcls/").concat(n,"/authority-org"):"".concat(p["h"],"/v1/sec-grp-dcls/").concat(n,"/authority-org"),{method:"POST",body:e.checkedList}));case 2:case"end":return t.stop()}},t)})),z.apply(this,arguments)}function D(t){return R.apply(this,arguments)}function R(){return R=Object(c["a"])(r.a.mark(function t(e){var n,a,c;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.secGrpId,a=e.secGrpDclId,c=e.data,t.abrupt("return",Object(s["a"])(l?"".concat(p["h"],"/v1/").concat(d,"/").concat(n,"/").concat(a,"/sec-grp-dcl-lines"):"".concat(p["h"],"/v1/").concat(n,"/").concat(a,"/sec-grp-dcl-lines"),{method:"POST",body:c}));case 2:case"end":return t.stop()}},t)})),R.apply(this,arguments)}},480:function(t,e,n){t.exports=n(0)(822)},481:function(t,e,n){t.exports=n(0)(2122)},483:function(t,e,n){t.exports=n(0)(704)},545:function(t,e,n){t.exports=n(237)(2573)},557:function(t,e,n){var a=n(347),r=n(346),c=n(352),o=n(480),i=n(481),s=r(function(t){var e=i(t);return e="function"==typeof e?e:void 0,c(a(t,1,o,!0),void 0,e)});t.exports=s},623:function(t,e,n){t.exports=n(0)(860)},678:function(t,e,n){var a=n(623),r=n(336),c=n(346),o=n(679),i=n(480),s=n(481),p=c(function(t){var e=s(t);return i(e)&&(e=void 0),o(a(t,i),r(e,2))});t.exports=p},679:function(t,e,n){var a=n(545),r=n(347),c=n(352);function o(t,e,n){var o=t.length;if(o<2)return o?c(t[0]):[];var i=-1,s=Array(o);while(++i<o){var p=t[i],u=-1;while(++u<o)u!=i&&(s[i]=a(s[i]||p,t[u],e,n))}return c(r(s,1),e,n)}t.exports=o},76:function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return Q});n(327);var a,r,c,o,i,s,p,u,d,l,f,h,m,b=n(312),y=(n(330),n(331)),g=(n(332),n(333)),v=(n(303),n(307)),x=(n(310),n(309)),O=n(308),w=n(2),j=n.n(w),k=n(58),C=n(57),E=n(295),S=n(296),I=n(298),F=n(297),L=n(299),_=n(301),z=(n(305),n(304)),D=n(678),R=n.n(D),T=n(324),P=n.n(T),q=n(459),A=n.n(q),G=n(557),B=n.n(G),N=n(483),U=n.n(N),K=n(1),V=n.n(K),Z=n(300),H=n(302),J=n(291),M=n(354),W=n(475),Y=z["default"].Item,Q=(a=z["default"].create({fieldNameProp:null}),r=Object(Z["Bind"])(),c=Object(Z["Bind"])(),o=Object(Z["Bind"])(),i=Object(Z["Bind"])(),s=Object(Z["Bind"])(),p=Object(Z["Bind"])(),u=Object(Z["Bind"])(),d=Object(Z["Bind"])(),l=Object(Z["Bind"])(),f=Object(Z["Bind"])(),a((m=function(t){function e(t){var n;return Object(E["a"])(this,e),n=Object(I["a"])(this,Object(F["a"])(e).call(this,t)),n.state={companyData:[],originList:[],loading:!0,updateLoading:!1,expanded:!0,checkedList:[]},n}return Object(L["a"])(e,t),Object(S["a"])(e,[{key:"componentDidMount",value:function(){this.queryCompanyData()}},{key:"queryCompanyData",value:function(){var t=Object(C["a"])(j.a.mark(function t(){var e,n,a,r,c,o,i,s,p=arguments;return j.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=p.length>0&&void 0!==p[0]?p[0]:{},n=this.props,a=n.secGrpId,r=n.isSelf,c=n.roleId,o=[],!r){t.next=9;break}return t.next=6,Object(W["e"])(Object(k["a"])({},e,{secGrpId:a}));case 6:o=t.sent,t.next=12;break;case 9:return t.next=11,Object(W["f"])(Object(k["a"])({},e,{secGrpId:a,roleId:c}));case 11:o=t.sent;case 12:i=o.originList&&o.originList.map(function(t){return t.id}),s=o.originList&&o.originList.filter(function(t){return 1===t.checkedFlag}),this.setState({companyData:o.treeList||[],originList:o.originList||[],checkedList:s,loading:!1,expanded:!1,expandedRowKeys:i});case 15:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"handleReset",value:function(){var t=this.props.form;t.resetFields()}},{key:"queryValue",value:function(){var t=this,e=this.props.form;e.validateFields(function(e,n){e||t.queryCompanyData(n)})}},{key:"onExpand",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.state.expandedRowKeys;this.setState({expandedRowKeys:t?n.concat(e.id):n.filter(function(t){return t!==e.id})})}},{key:"handleExpand",value:function(){var t=this.state,e=t.expanded,n=t.originList;this.setState({expandedRowKeys:e?n.map(function(t){return t.id}):[],expanded:!e})}},{key:"setSelectRows",value:function(t){this.setState({checkedList:U()(t,"id")})}},{key:"handleSelectAll",value:function(){var t=Object(C["a"])(j.a.mark(function t(e,n,a){var r,c,o,i,s;return j.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=this.props.secGrpId,this.setState({updateLoading:!0}),c=a.map(function(t){t.checkedFlag;var n=Object(O["a"])(t,["checkedFlag"]);return Object(k["a"])({},n,{checkedFlag:e?1:0})}),o={secGrpId:r,checkedList:c},t.next=6,Object(W["j"])(o);case 6:i=t.sent,s=Object(J["u"])(i),s&&(M["a"].success(),this.queryValue()),this.setState({updateLoading:!1});case 10:case"end":return t.stop()}},t,this)}));function e(e,n,a){return t.apply(this,arguments)}return e}()},{key:"findChildType",value:function(t){var e=null;return e="COMPANY"===t?"OU":"OU"===t?"INVORG":null,e}},{key:"selectChilds",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,r=this.props.loading,c=this.state,o=c.updateLoading,i=c.originList;if(!o&&!r){this.setState({updateLoading:!0});var s,p=[],u=this.findChildType(e.typeCode),d=i.filter(function(t){return t.parentId===e.dataId&&t.typeCode&&t.typeCode===u});d.map(function(e){var n=t.findChildType(e.typeCode);return p=B()(p,i.filter(function(t){return t.parentId===e.dataId&&t.typeCode&&t.typeCode===n})),p}),s=n?B()(B()(a,d),p):A()(A()(a,d,"dataId"),p,"dataId"),this.setState({checkedList:U()(s,"id")},function(){t.handleSaveCompany()})}}},{key:"handleSaveCompany",value:function(){var t=Object(C["a"])(j.a.mark(function t(){var e,n,a,r,c,o,i,s,p,u;return j.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.props.secGrpId,n=this.state,a=n.checkedList,r=n.originList,c=r.filter(function(t){return 1===t.checkedFlag}),o=R()(c,a,"id"),i=o.map(function(t){t.checkedFlag;var e=Object(O["a"])(t,["checkedFlag"]);return Object(k["a"])({},e,{checkedFlag:a.find(function(e){return e.id===t.id})?1:0})}),s={secGrpId:e,checkedList:i},t.next=8,Object(W["j"])(s);case 8:p=t.sent,u=Object(J["u"])(p),u&&(M["a"].success(),this.queryValue()),this.setState({updateLoading:!1});case 12:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"render",value:function(){var t=this,e=this.state,n=e.companyData,a=e.loading,r=e.expandedRowKeys,c=e.expanded,o=e.checkedList,i=e.updateLoading,s=this.props,p=s.form.getFieldDecorator,u=s.isSelf,d=[{title:H["a"].get("hiam.authority.model.authorityCompany.dataName").d("\u516c\u53f8/\u4e1a\u52a1\u5355\u5143/\u5e93\u5b58\u7ec4\u7ec7"),dataIndex:"dataName"},{title:H["a"].get("hiam.authority.model.authorityCompany.dataCode").d("\u4ee3\u7801"),dataIndex:"dataCode"}],l=u?{selectedRowKeys:P()(o)?[]:o.map(function(t){return t.id}),onChange:function(e,n){return t.setSelectRows(n)},onSelect:this.selectChilds,onSelectAll:this.handleSelectAll}:null;return V.a.createElement(V.a.Fragment,null,V.a.createElement(z["default"],{layout:"inline"},V.a.createElement(Y,{label:H["a"].get("hiam.authority.model.authorityCompany.name").d("\u540d\u79f0")},p("dataName")(V.a.createElement(x["default"],null))),V.a.createElement(Y,{label:H["a"].get("hiam.authority.model.authorityCompany.dataCode").d("\u4ee3\u7801")},p("dataCode")(V.a.createElement(x["default"],{typeCase:"upper",trim:!0,inputChinese:!1}))),V.a.createElement(Y,null,V.a.createElement(v["default"],{onClick:this.handleReset,style:{marginRight:8}},H["a"].get("hzero.common.button.reset").d("\u91cd\u7f6e")),V.a.createElement(v["default"],{type:"primary",onClick:this.queryValue,htmlType:"submit"},H["a"].get("hzero.common.button.search").d("\u67e5\u8be2")))),V.a.createElement(y["default"],{style:{textAlign:"right",marginBottom:"10px"}},V.a.createElement(g["default"],null,V.a.createElement(v["default"],{onClick:function(){return t.handleExpand()},style:{marginRight:"8px"}},c?H["a"].get("hzero.common.button.expand").d("\u5c55\u5f00"):H["a"].get("hzero.common.button.up").d("\u6536\u8d77")))),V.a.createElement(b["default"],{bordered:!0,rowKey:"id",pagination:!1,loading:a||i,dataSource:n,columns:d,rowSelection:l,onExpand:this.onExpand,expandedRowKeys:r}))}}]),e}(K["Component"]),Object(_["a"])(m.prototype,"queryCompanyData",[r],Object.getOwnPropertyDescriptor(m.prototype,"queryCompanyData"),m.prototype),Object(_["a"])(m.prototype,"handleReset",[c],Object.getOwnPropertyDescriptor(m.prototype,"handleReset"),m.prototype),Object(_["a"])(m.prototype,"queryValue",[o],Object.getOwnPropertyDescriptor(m.prototype,"queryValue"),m.prototype),Object(_["a"])(m.prototype,"onExpand",[i],Object.getOwnPropertyDescriptor(m.prototype,"onExpand"),m.prototype),Object(_["a"])(m.prototype,"handleExpand",[s],Object.getOwnPropertyDescriptor(m.prototype,"handleExpand"),m.prototype),Object(_["a"])(m.prototype,"setSelectRows",[p],Object.getOwnPropertyDescriptor(m.prototype,"setSelectRows"),m.prototype),Object(_["a"])(m.prototype,"handleSelectAll",[u],Object.getOwnPropertyDescriptor(m.prototype,"handleSelectAll"),m.prototype),Object(_["a"])(m.prototype,"findChildType",[d],Object.getOwnPropertyDescriptor(m.prototype,"findChildType"),m.prototype),Object(_["a"])(m.prototype,"selectChilds",[l],Object.getOwnPropertyDescriptor(m.prototype,"selectChilds"),m.prototype),Object(_["a"])(m.prototype,"handleSaveCompany",[f],Object.getOwnPropertyDescriptor(m.prototype,"handleSaveCompany"),m.prototype),h=m))||h)}}]);