(window["webpackJsonppackages_hzero_front_hiam_name_"]=window["webpackJsonppackages_hzero_front_hiam_name_"]||[]).push([[226],{137:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return D});a(314);var n,i,r,o,l,c,d,s,m=a(313),p=(a(303),a(307)),u=(a(430),a(392)),h=(a(310),a(309)),f=(a(448),a(356)),g=(a(318),a(319)),v=(a(612),a(615)),w=a(58),b=a(295),k=a(296),y=a(298),x=a(297),E=a(299),O=a(301),N=(a(305),a(304)),C=a(1),j=a.n(C),z=a(300),_=a(302),F=a(724),P=a.n(F),I=N["default"].Item,L={labelCol:{span:6},wrapperCol:{span:16}},D=(n=N["default"].create({fieldNameProp:null}),i=Object(z["Bind"])(),r=Object(z["Bind"])(),o=Object(z["Bind"])(),l=Object(z["Bind"])(),n((s=function(e){function t(){var e,a;Object(b["a"])(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return a=Object(y["a"])(this,(e=Object(x["a"])(t)).call.apply(e,[this].concat(i))),a.state={isShowResult:!1},a}return Object(E["a"])(t,e),Object(k["a"])(t,[{key:"handleOk",value:function(){var e=this,t=this.props,a=t.showWhich,n=t.tenantId,i=t.ldapData,r=t.dispatch;"adminConnect"!==a?this.props.form.validateFieldsAndScroll(function(t,a){if(!t){e.setState({isShowResult:!0});var o=Object.assign({},i);o.account=a.ldapName,o.ldapPassword=a.ldapPwd,r({type:"ldap/testConnect",payload:Object(w["a"])({tenantId:n},o)})}}):r({type:"ldap/testConnect",payload:Object(w["a"])({tenantId:n},i)})}},{key:"getTestResult",value:function(){var e=this.props,t=e.testData,a=e.ldapData,n=a.account,i=a.ldapPassword,r=n&&i;return j.a.createElement("div",null,j.a.createElement(v["default"],{orientation:"left"},_["a"].get("hiam.ldap.view.message.test.result").d("\u6d4b\u8bd5\u7ed3\u679c")),j.a.createElement("div",{className:P.a["result-container"]},j.a.createElement("div",{className:P.a["result-info"]},j.a.createElement("div",null,j.a.createElement(g["default"],{type:t.canLogin?"check_circle":"cancel",className:t.canLogin?"successIcon":"failedIcon"}),_["a"].get("hiam.ldap.view.message.test.login").d("LDAP\u767b\u5f55"),"\uff1a",t.canLogin?j.a.createElement(f["default"],{color:"green"},_["a"].get("hiam.ldap.view.message.success").d("\u6210\u529f")):j.a.createElement(f["default"],{color:"red"},_["a"].get("hiam.ldap.view.message.error").d("\u5931\u8d25"))),j.a.createElement("div",null,j.a.createElement(g["default"],{type:t.canConnectServer?"check_circle":"cancel",className:t.canConnectServer?P.a["success-icon"]:P.a["failed-icon"]}),_["a"].get("hiam.ldap.view.message.test.connect").d("\u57fa\u7840\u8fde\u63a5"),"\uff1a",t.canConnectServer?j.a.createElement(f["default"],{color:"green"},_["a"].get("hiam.ldap.view.message.success").d("\u6210\u529f")):j.a.createElement(f["default"],{color:"red"},_["a"].get("hiam.ldap.view.message.error").d("\u5931\u8d25"))),j.a.createElement("div",null,j.a.createElement(g["default"],{type:t.matchAttribute?"check_circle":"cancel",className:t.matchAttribute?P.a["success-icon"]:P.a["failed-icon"]}),_["a"].get("hiam.ldap.view.message.test.user").d("\u7528\u6237\u5c5e\u6027\u6821\u9a8c"),"\uff1a",t.matchAttribute?j.a.createElement(f["default"],{color:"green"},_["a"].get("hiam.ldap.view.message.success").d("\u6210\u529f")):j.a.createElement(f["default"],{color:"red"},_["a"].get("hiam.ldap.view.message.error").d("\u5931\u8d25"))),j.a.createElement("ul",{className:P.a.info},j.a.createElement("li",{style:{display:a.loginNameField?"block":"none"},className:a.loginNameField===t.loginNameField?P.a["to-red"]:""},_["a"].get("hiam.ldap.view.message.loginName").d("\u767b\u5f55\u540d"),"\uff1a",j.a.createElement("span",null,a.loginNameField)),j.a.createElement("li",{style:{display:a.realNameField&&r?"block":"none"},className:a.realNameField===t.realNameField?P.a["to-red"]:""},_["a"].get("hiam.ldap.view.message.test.realName").d("\u7528\u6237\u540d"),"\uff1a",j.a.createElement("span",null,a.realNameField)),j.a.createElement("li",{style:{display:a.phoneField&&r?"block":"none"},className:a.phoneField===t.phoneField?P.a["to-red"]:""},_["a"].get("hiam.ldap.view.message.test.phone").d("\u624b\u673a\u53f7\u7801"),"\uff1a",j.a.createElement("span",null,a.phoneField)),j.a.createElement("li",{style:{display:a.emailField?"block":"none"},className:a.emailField===t.emailField?P.a["to-red"]:""},_["a"].get("hiam.ldap.view.message.test.email").d("\u90ae\u7bb1\u5730\u5740"),"\uff1a",j.a.createElement("span",null,a.emailField))))))}},{key:"renderTestContent",value:function(){var e=this.props,t=e.form.getFieldDecorator,a=e.showWhich,n=e.testLoading,i=this.state.isShowResult;return"adminConnect"===a?n?this.renderLoading():this.getTestResult():j.a.createElement(j.a.Fragment,null,j.a.createElement(N["default"],null,j.a.createElement(I,Object.assign({label:_["a"].get("hiam.ldap.model.ldap.ldapAccount").d("LDAP\u767b\u5f55\u540d")},L),t("ldapName",{rules:[{required:!0,message:_["a"].get("hzero.common.validation.notNull",{name:_["a"].get("hiam.ldap.model.ldap.ldapAccount").d("LDAP\u767b\u5f55\u540d")})}]})(j.a.createElement(h["default"],null))),j.a.createElement(I,Object.assign({label:_["a"].get("hiam.ldap.model.ldap.ldapPassword").d("LDAP\u5bc6\u7801")},L),t("ldapPwd",{rules:[{required:!0,message:_["a"].get("hzero.common.validation.notNull",{name:_["a"].get("hiam.ldap.model.ldap.ldapPassword").d("LDAP\u5bc6\u7801")})}]})(j.a.createElement(h["default"],{type:"password"})))),j.a.createElement("div",{style:{display:i?"block":"none"}},n?this.renderLoading():this.getTestResult()))}},{key:"renderLoading",value:function(){return j.a.createElement("div",{className:P.a["loading-container"]},j.a.createElement("div",{className:P.a["connect-loader"]},j.a.createElement(u["default"],{size:"large"})),j.a.createElement("p",{className:P.a["loading-text"]},_["a"].get("hiam.ldap.view.message.test.loading").d("\u6b63\u5728\u6d4b\u8bd5\u4e2d")))}},{key:"render",value:function(){var e=this.props,t=e.testConnectVisible,a=e.testLoading,n=e.onCancel;return j.a.createElement(m["default"],{destroyOnClose:!0,maskClosable:!1,keyboard:!1,closable:!1,title:_["a"].get("hiam.ldap.view.option.testConnect").d("\u6d4b\u8bd5\u8fde\u63a5"),width:520,wrapClassName:"ant-modal-sidebar-right",transitionName:"move-right",visible:t,confirmLoading:a,onCancel:n,onOk:this.handleOk,footer:[j.a.createElement(p["default"],{key:"cancel",onClick:n,disabled:a},_["a"].get("hzero.common.button.cancel").d("\u53d6\u6d88")),j.a.createElement(p["default"],{type:"primary",key:"save",onClick:this.handleOk},_["a"].get("hzero.common.button.ok").d("\u786e\u5b9a"))]},this.renderTestContent())}}]),t}(j.a.PureComponent),d=s,Object(O["a"])(d.prototype,"handleOk",[i],Object.getOwnPropertyDescriptor(d.prototype,"handleOk"),d.prototype),Object(O["a"])(d.prototype,"getTestResult",[r],Object.getOwnPropertyDescriptor(d.prototype,"getTestResult"),d.prototype),Object(O["a"])(d.prototype,"renderTestContent",[o],Object.getOwnPropertyDescriptor(d.prototype,"renderTestContent"),d.prototype),Object(O["a"])(d.prototype,"renderLoading",[l],Object.getOwnPropertyDescriptor(d.prototype,"renderLoading"),d.prototype),c=d))||c)},301:function(e,t,a){"use strict";function n(e,t,a,n,i){var r={};return Object.keys(n).forEach(function(e){r[e]=n[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=a.slice().reverse().reduce(function(a,n){return n(e,t,a)||a},r),i&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(i):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}a.d(t,"a",function(){return n})},305:function(e,t,a){"use strict";a(294),a(328),a(321)},314:function(e,t,a){"use strict";a(294),a(343),a(303)},328:function(e,t,a){e.exports={"ant-form":"ant-form","ant-form-item-required":"ant-form-item-required","ant-form-hide-required-mark":"ant-form-hide-required-mark","ant-form-item-children":"ant-form-item-children","ant-input":"ant-input","ant-input-disabled":"ant-input-disabled","ant-input-number-input":"ant-input-number-input","ant-cascader-picker":"ant-cascader-picker","ant-cascader-picker-disabled":"ant-cascader-picker-disabled","ant-time-picker-input":"ant-time-picker-input","ant-select-disabled":"ant-select-disabled","ant-select-selection":"ant-select-selection","ant-input-group-addon":"ant-input-group-addon","has-error":"has-error",disabled:"disabled","ant-radio-inline":"ant-radio-inline","ant-radio-vertical":"ant-radio-vertical","ant-checkbox-inline":"ant-checkbox-inline","ant-checkbox-vertical":"ant-checkbox-vertical","ant-radio":"ant-radio","ant-checkbox":"ant-checkbox","ant-form-item":"ant-form-item",anticon:"anticon","ant-form-item-control":"ant-form-item-control","ant-form-item-with-help":"ant-form-item-with-help","ant-form-item-label":"ant-form-item-label","ant-switch":"ant-switch","ant-form-item-no-colon":"ant-form-item-no-colon","ant-form-explain":"ant-form-explain","ant-form-extra":"ant-form-extra","ant-form-text":"ant-form-text","ant-form-split":"ant-form-split","has-feedback":"has-feedback","ant-select":"ant-select","ant-select-arrow":"ant-select-arrow","ant-select-selection__clear":"ant-select-selection__clear","ant-select-selection-selected-value":"ant-select-selection-selected-value","ant-cascader-picker-arrow":"ant-cascader-picker-arrow","ant-cascader-picker-clear":"ant-cascader-picker-clear","ant-input-search":"ant-input-search","ant-input-search-enter-button":"ant-input-search-enter-button","ant-input-suffix":"ant-input-suffix","ant-calendar-picker-icon":"ant-calendar-picker-icon","ant-time-picker-icon":"ant-time-picker-icon","ant-calendar-picker-clear":"ant-calendar-picker-clear","ant-time-picker-clear":"ant-time-picker-clear","ant-upload":"ant-upload","ant-input-number":"ant-input-number","ant-input-number-handler-wrap":"ant-input-number-handler-wrap","ant-input-group":"ant-input-group","ant-input-group-wrapper":"ant-input-group-wrapper","ant-input-group-wrap":"ant-input-group-wrap","ant-select-selection--single":"ant-select-selection--single","ant-select-selection__rendered":"ant-select-selection__rendered","ant-select-open":"ant-select-open","ant-form-vertical":"ant-form-vertical","ant-col-24":"ant-col-24","ant-col-xl-24":"ant-col-xl-24","ant-form-item-control-wrapper":"ant-form-item-control-wrapper","ant-col-xs-24":"ant-col-xs-24","ant-col-sm-24":"ant-col-sm-24","ant-col-md-24":"ant-col-md-24","ant-col-lg-24":"ant-col-lg-24","ant-form-inline":"ant-form-inline","has-success":"has-success","has-warning":"has-warning","is-validating":"is-validating",zoomIn:"zoomIn",diffZoomIn1:"diffZoomIn1","ant-calendar-picker-open":"ant-calendar-picker-open","ant-calendar-picker-input":"ant-calendar-picker-input","ant-input-prefix":"ant-input-prefix",diffZoomIn3:"diffZoomIn3","ant-select-focused":"ant-select-focused","ant-picker-icon":"ant-picker-icon","ant-input-number-focused":"ant-input-number-focused","ant-time-picker-input-focused":"ant-time-picker-input-focused","ant-cascader-input":"ant-cascader-input",diffZoomIn2:"diffZoomIn2","ant-select-auto-complete":"ant-select-auto-complete","ant-mention-wrapper":"ant-mention-wrapper","ant-mention-editor":"ant-mention-editor","ant-mention-active":"ant-mention-active",loadingCircle:"loadingCircle","ant-advanced-search-form":"ant-advanced-search-form","show-help-enter":"show-help-enter","show-help-appear":"show-help-appear","show-help-leave":"show-help-leave","show-help-enter-active":"show-help-enter-active","show-help-appear-active":"show-help-appear-active",antShowHelpIn:"antShowHelpIn","show-help-leave-active":"show-help-leave-active",antShowHelpOut:"antShowHelpOut"}},343:function(e,t,a){e.exports={"ant-modal":"ant-modal","ant-modal-wrap":"ant-modal-wrap","ant-modal-title":"ant-modal-title","ant-modal-content":"ant-modal-content","ant-modal-close":"ant-modal-close","ant-modal-close-x":"ant-modal-close-x","ant-modal-header":"ant-modal-header","ant-modal-body":"ant-modal-body","ant-modal-footer":"ant-modal-footer","zoom-enter":"zoom-enter","zoom-appear":"zoom-appear","ant-modal-mask":"ant-modal-mask","ant-modal-mask-hidden":"ant-modal-mask-hidden","ant-modal-open":"ant-modal-open","vertical-center-modal":"vertical-center-modal","ant-confirm":"ant-confirm","ant-confirm-body-wrapper":"ant-confirm-body-wrapper","ant-confirm-body":"ant-confirm-body","ant-confirm-title":"ant-confirm-title","ant-confirm-content":"ant-confirm-content",anticon:"anticon","ant-confirm-btns":"ant-confirm-btns","ant-confirm-error":"ant-confirm-error","ant-confirm-warning":"ant-confirm-warning","ant-confirm-confirm":"ant-confirm-confirm","ant-confirm-info":"ant-confirm-info","ant-confirm-success":"ant-confirm-success"}},612:function(e,t,a){"use strict";a(294),a(613)},613:function(e,t,a){e.exports={"ant-divider":"ant-divider","ant-divider-vertical":"ant-divider-vertical","ant-divider-horizontal":"ant-divider-horizontal","ant-divider-with-text":"ant-divider-with-text","ant-divider-with-text-left":"ant-divider-with-text-left","ant-divider-with-text-right":"ant-divider-with-text-right","ant-divider-inner-text":"ant-divider-inner-text","ant-divider-dashed":"ant-divider-dashed"}},724:function(e,t,a){e.exports={"loading-container":"hiam-routes-ldap-index-loading-container","connect-loader":"hiam-routes-ldap-index-connect-loader","loading-text":"hiam-routes-ldap-index-loading-text","tip-text":"hiam-routes-ldap-index-tip-text","test-title":"hiam-routes-ldap-index-test-title","result-container":"hiam-routes-ldap-index-result-container","result-info":"hiam-routes-ldap-index-result-info",info:"hiam-routes-ldap-index-info","success-icon":"hiam-routes-ldap-index-success-icon","failed-icon":"hiam-routes-ldap-index-failed-icon","to-red":"hiam-routes-ldap-index-to-red"}}}]);