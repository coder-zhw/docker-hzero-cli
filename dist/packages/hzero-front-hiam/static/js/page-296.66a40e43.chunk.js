(window["webpackJsonppackages_hzero_front_hiam_name_"]=window["webpackJsonppackages_hzero_front_hiam_name_"]||[]).push([[123,232,233,234,235,236,243,247,251,252,253,254,255,256,257,258,259,265,269,270,271,276,279,280,281,282,283],{293:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var a=n(2),r=n.n(a),o=n(58),c=n(57),i=(n(338),n(311)),s=n(325),u=n.n(s),l=n(317),d=n(302),p=n(292),m=n(291);function g(e){if(e.status>=200&&e.status<300)return e;var t=e.statusText,n=new Error(t);throw n.name=e.status,n.response=e,n}function f(e){return h.apply(this,arguments)}function h(){return h=Object(c["a"])(r.a.mark(function e(t){var n;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(501!==t.name){e.next=14;break}return e.prev=1,e.next=4,t.response.json();case 4:n=e.sent,dvaApp._store.dispatch({type:"error/updateState",payload:{normal501:n}}),dvaApp._store.dispatch(l["routerRedux"].push({pathname:"/exception/501"})),e.next=12;break;case 9:throw e.prev=9,e.t0=e["catch"](1),t;case 12:e.next=15;break;case 14:throw t;case 15:case"end":return e.stop()}},e,null,[[1,9]])})),h.apply(this,arguments)}i["default"].config({placement:"bottomRight"});var y={Pragma:"no-cache","Cache-Control":"no-cache"};function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={credentials:"include",headers:y},r=n.beforeCatch,c=e.startsWith("/api")||e.startsWith("http")?e:"".concat(p["a"]).concat(e),s=Object(o["a"])({},a,t);if("POST"!==s.method&&"PUT"!==s.method&&"DELETE"!==s.method&&"PATCH"!==s.method||(s.body instanceof FormData?s.headers=Object(o["a"])({Accept:"application/json"},s.headers):(s.headers=Object(o["a"])({Accept:"application/json","Content-Type":"application/json; charset=utf-8"},s.headers),s.body=JSON.stringify(s.body))),s.query){var h=s.query;"GET"===s.method&&(h=Object(m["g"])(s.query)),c=Object(m["h"])(c,h)}var v=Object(m["i"])();v&&(s.headers=Object(o["a"])({},s.headers,{Authorization:"bearer ".concat(v)}));var O=u()(c,s).then(g).then(function(e){return 204===e.status?{}:"blob"===s.responseType?e.blob():"text"===s.responseType?e.text():e.json()});return r&&(O=O.catch(r)),O=O.catch(f).catch(function(e){var t=e.name,n=Object(m["w"])("isErrorFlag");if(n||Object(m["F"])("isErrorFlag",!1),401===t){var a=encodeURIComponent(window.location.toString());return v?void b("".concat(p["l"],"/public/token/kickoff"),{method:"POST",query:{access_token:v}}).then(function(e){1===e.kickoff?(dvaApp._store.dispatch(l["routerRedux"].push({pathname:"/public/kickoff"})),Object(m["F"])("redirectUrl",a),Object(m["F"])("isErrorFlag",!1)):(dvaApp._store.dispatch(l["routerRedux"].push({pathname:"/public/unauthorized"})),Object(m["F"])("isErrorFlag",!0),Object(m["F"])("redirectUrl",a))}):(Object(m["D"])(),Object(m["E"])(),-1!==c.indexOf(p["c"])?void(p["o"].includes("?")?(window.location.href="".concat(p["o"],"&redirect_uri=").concat(a),Object(m["F"])("isErrorFlag",!1),Object(m["F"])("redirectUrl",a)):(window.location.href="".concat(p["o"],"?redirect_uri=").concat(a),m["F"].apply("isErrorFlag",!1),Object(m["F"])("redirectUrl",a))):void(n||(dvaApp._store.dispatch(l["routerRedux"].push({pathname:"/public/unauthorized"})),Object(m["F"])("isErrorFlag",!0),Object(m["F"])("redirectUrl",a))))}if(-1!==c.indexOf(p["c"]))return e;"TypeError"!==t?i["default"].error({message:"".concat(t),description:e.message}):i["default"].error({message:d["a"].get("hzero.common.notification.network.typeError").d("\u7f51\u7edc\u8bf7\u6c42\u5f02\u5e38"),description:d["a"].get("hzero.common.notification.typeError.description").d("\u8bf7\u7a0d\u540e\u91cd\u8bd5")})}),O}},294:function(e,t,n){e.exports=n(0)(198)},295:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return a})},296:function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}n.d(t,"a",function(){return r})},297:function(e,t,n){"use strict";function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}n.d(t,"a",function(){return a})},298:function(e,t,n){"use strict";function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var r=n(389);function o(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?Object(r["a"])(e):t}n.d(t,"a",function(){return o})},299:function(e,t,n){"use strict";function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}n.d(t,"a",function(){return r})},300:function(e,t,n){e.exports=n(237)(2563)},301:function(e,t,n){"use strict";function a(e,t,n,a,r){var o={};return Object.keys(a).forEach(function(e){o[e]=a[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,a){return a(e,t,n)||n},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n.d(t,"a",function(){return a})},303:function(e,t,n){e.exports=n(0)(1169)},311:function(e,t,n){e.exports=n(0)(1155)},315:function(e,t,n){e.exports=n(0)(116)},317:function(e,t,n){e.exports=n(0)(1852)},318:function(e,t,n){e.exports=n(0)(1168)},319:function(e,t,n){e.exports=n(0)(37)},320:function(e,t,n){e.exports=n(0)(82)},325:function(e,t,n){e.exports=n(0)(1858)},334:function(e,t,n){e.exports=n(0)(1167)},335:function(e,t,n){e.exports=n(0)(182)},336:function(e,t,n){e.exports=n(0)(274)},337:function(e,t,n){e.exports=n(237)(2648)},339:function(e,t,n){e.exports=n(0)(34)},340:function(e,t,n){e.exports=n(0)(130)},341:function(e,t,n){e.exports=n(0)(829)},342:function(e,t,n){e.exports=n(0)(604)},345:function(e,t,n){e.exports=n(0)(156)},346:function(e,t,n){e.exports=n(0)(151)},347:function(e,t,n){e.exports=n(0)(484)},352:function(e,t,n){e.exports=n(0)(2092)},354:function(e,t,n){"use strict";var a=n(58),r=(n(338),n(311)),o=n(308),c=n(302);function i(e){var t=e||{},n=t.message,i=t.description,s=Object(o["a"])(t,["message","description"]);r["default"].success(Object(a["a"])({message:n||c["a"].get("hzero.common.notification.success").d("\u64cd\u4f5c\u6210\u529f"),description:i,duration:2.5,className:"success"},s))}function s(e){var t=e||{},n=t.message,i=t.description,s=Object(o["a"])(t,["message","description"]);r["default"].error(Object(a["a"])({message:n||c["a"].get("hzero.common.notification.error").d("\u64cd\u4f5c\u5931\u8d25"),description:i,duration:2.5,className:"error"},s))}function u(e){var t=e||{},n=t.message,i=t.description,s=Object(o["a"])(t,["message","description"]);r["default"].warning(Object(a["a"])({message:n||c["a"].get("hzero.common.notification.warn").d("\u64cd\u4f5c\u5f02\u5e38"),description:i,duration:2.5,className:"warn"},s))}function l(e){var t=e||{},n=t.message,c=t.description,i=Object(o["a"])(t,["message","description"]);r["default"].info(Object(a["a"])({message:n,description:c,duration:2.5,className:"info"},i))}t["a"]={success:i,error:s,warning:u,info:l}},356:function(e,t,n){e.exports=n(0)(661)},358:function(e,t,n){e.exports=n(0)(868)},359:function(e,t,n){e.exports=n(0)(2130)},360:function(e,t,n){e.exports=n(0)(325)},361:function(e,t,n){e.exports=n(0)(241)},362:function(e,t,n){e.exports=n(0)(385)},363:function(e,t,n){e.exports=n(0)(1132)},364:function(e,t,n){e.exports=n(0)(255)},365:function(e,t,n){e.exports=n(0)(1960)},366:function(e,t,n){e.exports=n(0)(298)},367:function(e,t,n){e.exports=n(0)(849)},368:function(e,t,n){e.exports=n(0)(328)},369:function(e,t,n){e.exports=n(0)(270)},370:function(e,t,n){e.exports=n(0)(170)},371:function(e,t,n){e.exports=n(0)(324)},372:function(e,t,n){e.exports=n(0)(386)},373:function(e,t,n){e.exports=n(0)(387)},375:function(e,t,n){e.exports=n(237)(2662)},376:function(e,t,n){e.exports=n(237)(1367)},377:function(e,t,n){e.exports=n(0)(127)},378:function(e,t,n){e.exports=n(0)(2129)},379:function(e,t,n){e.exports=n(0)(235)},380:function(e,t,n){e.exports=n(0)(209)},381:function(e,t,n){e.exports=n(0)(580)},382:function(e,t,n){e.exports=n(0)(582)},383:function(e,t,n){e.exports=n(0)(128)},384:function(e,t,n){e.exports=n(0)(108)},385:function(e,t,n){e.exports=n(0)(472)},386:function(e,t,n){e.exports=n(0)(873)},389:function(e,t,n){"use strict";function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return a})},401:function(e,t,n){e.exports=n(0)(917)},457:function(e,t,n){"use strict";n(306),n(465),n(524)},458:function(e,t,n){e.exports=n(0)(1258)},460:function(e,t,n){e.exports=n(0)(2227)},475:function(e,t,n){"use strict";n.d(t,"k",function(){return m}),n.d(t,"d",function(){return f}),n.d(t,"h",function(){return y}),n.d(t,"g",function(){return v}),n.d(t,"b",function(){return j}),n.d(t,"c",function(){return x}),n.d(t,"i",function(){return k}),n.d(t,"e",function(){return C}),n.d(t,"f",function(){return S}),n.d(t,"j",function(){return z}),n.d(t,"a",function(){return F});n(58);var a=n(2),r=n.n(a),o=n(57),c=n(485),i=n.n(c),s=n(293),u=n(292),l=n(291),d=Object(l["m"])(),p=Object(l["z"])();function m(e){return g.apply(this,arguments)}function g(){return g=Object(o["a"])(r.a.mark(function e(t){var n;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=i.a.stringify(t),e.abrupt("return",Object(s["a"])("".concat(u["h"],"/v1/sec-grps/check-duplicate?").concat(n),{method:"POST"}));case 2:case"end":return e.stop()}},e)})),g.apply(this,arguments)}function f(e,t){return h.apply(this,arguments)}function h(){return h=Object(o["a"])(r.a.mark(function e(t,n){return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(s["a"])(p?"".concat(u["h"],"/v1/").concat(d,"/sec-grps/").concat(t,"/copy"):"".concat(u["h"],"/v1/sec-grps/").concat(t,"/copy"),{method:"POST",body:n}));case 1:case"end":return e.stop()}},e)})),h.apply(this,arguments)}function y(e){return b.apply(this,arguments)}function b(){return b=Object(o["a"])(r.a.mark(function e(t){var n;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.secGrpId,e.abrupt("return",Object(s["a"])(p?"".concat(u["h"],"/v1/").concat(d,"/sec-grp-acls/").concat(n):"".concat(u["h"],"/v1/sec-grp-acls/").concat(n),{method:"GET",query:t}));case 2:case"end":return e.stop()}},e)})),b.apply(this,arguments)}function v(e){return O.apply(this,arguments)}function O(){return O=Object(o["a"])(r.a.mark(function e(t){var n,a;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.secGrpId,a=t.roleId,e.abrupt("return",Object(s["a"])("".concat(u["h"],"/hzero/v1/sec-grps/").concat(a,"/assign-sec-grp/").concat(n,"/acl")));case 2:case"end":return e.stop()}},e)})),O.apply(this,arguments)}function j(e,t){return w.apply(this,arguments)}function w(){return w=Object(o["a"])(r.a.mark(function e(t,n){return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(s["a"])(p?"".concat(u["h"],"/v1/").concat(d,"/sec-grp-acls/").concat(t):"".concat(u["h"],"/v1/sec-grp-acls/").concat(t),{method:"POST",body:n}));case 1:case"end":return e.stop()}},e)})),w.apply(this,arguments)}function x(e,t){return M.apply(this,arguments)}function M(){return M=Object(o["a"])(r.a.mark(function e(t,n){return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(s["a"])(p?"".concat(u["h"],"/v1/").concat(d,"/sec-grp-acls/").concat(t):"".concat(u["h"],"/v1/sec-grp-acls/").concat(t),{method:"DELETE",body:n}));case 1:case"end":return e.stop()}},e)})),M.apply(this,arguments)}function k(e){return G.apply(this,arguments)}function G(){return G=Object(o["a"])(r.a.mark(function e(t){return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(s["a"])("".concat(u["h"],"/v1/").concat(t,"/sec-grp-dcl-dims/assign")));case 1:case"end":return e.stop()}},e)})),G.apply(this,arguments)}function C(e){return E.apply(this,arguments)}function E(){return E=Object(o["a"])(r.a.mark(function e(t){var n,a;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.secGrpId,a=i.a.stringify(t),e.abrupt("return",Object(s["a"])(p?"".concat(u["h"],"/v1/").concat(d,"/sec-grp-dcls/").concat(n,"/authority-org?").concat(a):"".concat(u["h"],"/v1/sec-grp-dcls/").concat(n,"/authority-org?").concat(a)));case 3:case"end":return e.stop()}},e)})),E.apply(this,arguments)}function S(e){return I.apply(this,arguments)}function I(){return I=Object(o["a"])(r.a.mark(function e(t){var n,a,o;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.secGrpId,a=t.roleId,o=i.a.stringify(t),e.abrupt("return",Object(s["a"])("".concat(u["h"],"/hzero/v1/sec-grps/").concat(a,"/assign-sec-grp/").concat(n,"/dcl-tree?").concat(o)));case 3:case"end":return e.stop()}},e)})),I.apply(this,arguments)}function z(e){return T.apply(this,arguments)}function T(){return T=Object(o["a"])(r.a.mark(function e(t){var n;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.secGrpId,e.abrupt("return",Object(s["a"])(p?"".concat(u["h"],"/v1/").concat(d,"/sec-grp-dcls/").concat(n,"/authority-org"):"".concat(u["h"],"/v1/sec-grp-dcls/").concat(n,"/authority-org"),{method:"POST",body:t.checkedList}));case 2:case"end":return e.stop()}},e)})),T.apply(this,arguments)}function F(e){return P.apply(this,arguments)}function P(){return P=Object(o["a"])(r.a.mark(function e(t){var n,a,o;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.secGrpId,a=t.secGrpDclId,o=t.data,e.abrupt("return",Object(s["a"])(p?"".concat(u["h"],"/v1/").concat(d,"/").concat(n,"/").concat(a,"/sec-grp-dcl-lines"):"".concat(u["h"],"/v1/").concat(n,"/").concat(a,"/sec-grp-dcl-lines"),{method:"POST",body:o}));case 2:case"end":return e.stop()}},e)})),P.apply(this,arguments)}},482:function(e,t,n){"use strict";n.d(t,"i",function(){return y}),n.d(t,"d",function(){return b}),n.d(t,"j",function(){return v}),n.d(t,"g",function(){return O}),n.d(t,"h",function(){return j}),n.d(t,"e",function(){return w}),n.d(t,"f",function(){return x}),n.d(t,"c",function(){return M}),n.d(t,"b",function(){return k}),n.d(t,"a",function(){return G});var a=n(2),r=n.n(a),o=n(59),c=n(57),i=n(58),s=n(324),u=n.n(s),l=n(302),d=n(292),p=n(291),m=n(475),g=200,f=Object(p["m"])(),h=Object(p["z"])()?"/".concat(f):"",y={transport:{read:function(e){var t=e.data,n=e.params;return{url:"".concat(d["h"],"/v1").concat(h,"/sec-grps"),params:Object(i["a"])({},t,n),method:"get"}},submit:function(e){var t=e.data;return{url:"".concat(d["h"],"/v1").concat(h,"/sec-grps/create"),data:t[0]}}},queryParameter:{secGrpSource:"self"},autoQuery:!0,pageSize:10,selection:!1,primaryKey:"secGrpId",fields:[{name:"secGrpId",type:"number"},{name:"secGrpCode",label:l["a"].get("hiam.securityGroup.model.securityGroup.code").d("\u5b89\u5168\u7ec4\u4ee3\u7801"),type:"string",required:!0,unique:!0,validator:function(){var e=Object(c["a"])(r.a.mark(function e(t,n){var a,c,i,s;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(c=/^[A-Z0-9][A-Z0-9-_.\/]*$/,c.test(t)){e.next=3;break}return e.abrupt("return",l["a"].get("hzero.common.validation.codeUpper").d("\u5168\u5927\u5199\u53ca\u6570\u5b57\uff0c\u5fc5\u987b\u4ee5\u5b57\u6bcd\u3001\u6570\u5b57\u5f00\u5934\uff0c\u53ef\u5305\u542b\u201c-\u201d\u3001\u201c_\u201d\u3001\u201c.\u201d\u3001\u201c/\u201d"));case 3:return a={},Object(o["a"])(a,n,t),Object(o["a"])(a,"level",Object(p["z"])()?"organization":"site"),Object(o["a"])(a,"tenantId",f),i=a,e.next=6,Object(m["k"])(i);case 6:if(s=e.sent,u()(s)||!s.failed||!s.message){e.next=11;break}return e.abrupt("return",l["a"].get("hiam.securityGroup.view.message.code.unique").d("\u5b89\u5168\u7ec4\u4ee3\u7801\u91cd\u590d"));case 11:if(u()(s)||!s.success){e.next=13;break}return e.abrupt("return",!0);case 13:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}()},{name:"secGrpName",label:l["a"].get("hiam.securityGroup.model.securityGroup.name").d("\u5b89\u5168\u7ec4\u540d\u79f0"),type:"string",required:!0},{name:"levelMeaning",label:l["a"].get("hiam.securityGroup.model.securityGroup.level").d("\u5c42\u7ea7"),type:"string"},{name:"remark",label:l["a"].get("hiam.securityGroup.model.securityGroup.description").d("\u5b89\u5168\u7ec4\u63cf\u8ff0"),type:"string"},{name:"enabledFlag",label:l["a"].get("hiam.securityGroup.model.securityGroup.enabledFlag").d("\u662f\u5426\u542f\u7528"),type:"number",falseValue:0,trueValue:1,defaultValue:1},{name:"createRoleName",label:l["a"].get("hiam.securityGroup.model.securityGroup.secGrpSource").d("\u6765\u6e90"),type:"string"},{name:"tenantId",type:"number"}],queryFields:[{name:"secGrpCode",label:l["a"].get("hiam.securityGroup.model.securityGroup.code").d("\u5b89\u5168\u7ec4\u4ee3\u7801"),type:"string"},{name:"secGrpName",label:l["a"].get("hiam.securityGroup.model.securityGroup.name").d("\u5b89\u5168\u7ec4\u540d\u79f0"),type:"string"}]},b=function(e){return{transport:{read:function(t){var n=t.data,a=t.params;return{url:"".concat(d["h"],"/hzero/v1/sec-grps/").concat(e,"/assigned-role"),params:Object(i["a"])({},n,a),method:"get"}},destroy:function(t){var n=t.data,a=n.map(function(e){return e.id});return{url:"".concat(d["h"],"/hzero/v1/sec-grps/").concat(e,"/recycle-from-role"),data:a,method:"delete"}}},autoQuery:!0,pageSize:10,fields:[{name:"name",label:l["a"].get("hiam.roleManagement.model.roleManagement.name").d("\u89d2\u8272\u540d\u79f0"),type:"string"},{name:"parentRoleName",label:l["a"].get("hiam.roleManagement.model.roleManagement.topRole").d("\u4e0a\u7ea7\u89d2\u8272"),type:"string"},{name:"tenantName",label:l["a"].get("hiam.roleManagement.model.roleManagement.tenant").d("\u6240\u5c5e\u79df\u6237"),type:"string"}],queryFields:[{name:"name",label:l["a"].get("hiam.roleManagement.model.roleManagement.name").d("\u89d2\u8272\u540d\u79f0"),type:"string"}]}},v=function(e){return{autoQuery:!0,paging:!1,selection:!1,transport:{read:function(t){var n=t.data,a=t.params;return{url:"".concat(d["h"],"/v1").concat(h,"/sec-grps/").concat(e),params:Object(i["a"])({},n,a),method:"get"}},submit:function(e){var t=e.data;return{url:"".concat(d["h"],"/v1").concat(h,"/sec-grps"),data:t[0],method:"PUT"}}},fields:[{name:"secGrpCode",label:l["a"].get("hiam.securityGroup.model.securityGroup.code").d("\u5b89\u5168\u7ec4\u4ee3\u7801"),type:"string"},{name:"secGrpName",label:l["a"].get("hiam.securityGroup.model.securityGroup.name").d("\u5b89\u5168\u7ec4\u540d\u79f0"),type:"string",required:!0},{name:"levelMeaning",label:l["a"].get("hiam.securityGroup.model.securityGroup.level").d("\u5c42\u7ea7"),type:"string"},{name:"remark",label:l["a"].get("hiam.securityGroup.model.securityGroup.description").d("\u5b89\u5168\u7ec4\u63cf\u8ff0"),type:"string"},{name:"createRoleName",label:l["a"].get("hiam.securityGroup.model.securityGroup.secGrpSource").d("\u6765\u6e90"),type:"string"},{name:"enabledFlag",label:l["a"].get("hiam.securityGroup.model.securityGroup.enabledFlag").d("\u662f\u5426\u542f\u7528"),type:"number",falseValue:0,trueValue:1,defaultValue:1},{name:"tenantId",type:"number"}],queryFields:[{name:"secGrpCode",label:l["a"].get("hiam.securityGroup.model.securityGroup.code").d("\u5b89\u5168\u7ec4\u4ee3\u7801"),type:"string"},{name:"secGrpName",label:l["a"].get("hiam.securityGroup.model.securityGroup.name").d("\u5b89\u5168\u7ec4\u540d\u79f0"),type:"string"}]}},O={pageSize:10,selection:!1,autoQuery:!0,primaryKey:"id",fields:[{name:"serviceName",label:l["a"].get("hiam.roleManagement.model.api.serviceName").d("\u670d\u52a1\u540d"),type:"string"},{name:"filedCount",label:l["a"].get("hiam.roleManagement.model.api.filedCount").d("\u5df2\u914d\u7f6e"),type:"number"},{name:"method",label:l["a"].get("hiam.roleManagement.model.api.method").d("\u8bf7\u6c42\u65b9\u5f0f"),type:"string"},{name:"path",label:l["a"].get("hiam.roleManagement.model.api.path").d("\u8bf7\u6c42\u8def\u5f84"),type:"string"},{name:"description",label:l["a"].get("hiam.roleManagement.model.api.description").d("\u8bf7\u6c42\u63cf\u8ff0"),type:"string"}],queryFields:[{name:"serviceName",label:l["a"].get("hiam.roleManagement.model.api.serviceName").d("\u670d\u52a1\u540d"),type:"string"},{name:"method",label:l["a"].get("hiam.roleManagement.model.api.method").d("\u8bf7\u6c42\u65b9\u5f0f"),type:"string"},{name:"path",label:l["a"].get("hiam.roleManagement.model.api.path").d("\u8bf7\u6c42\u8def\u5f84"),type:"string"},{name:"description",label:l["a"].get("hiam.roleManagement.model.api.description").d("\u8bf7\u6c42\u63cf\u8ff0"),type:"string"}]},j={pageSize:10,selection:!1,autoQuery:!0,fields:[{name:"fieldLov",label:l["a"].get("hiam.roleManagement.model.fieldPermission.fieldName").d("\u5b57\u6bb5\u540d\u79f0"),type:"object",lovCode:"HIAM.SEC_GRP.FIELD.ASSIGNABLE",required:!0,ignore:"always"},{name:"fieldId",type:"number",bind:"fieldLov.fieldId",unique:!0},{name:"fieldName",label:l["a"].get("hiam.roleManagement.model.fieldPermission.fieldName").d("\u5b57\u6bb5\u540d\u79f0"),type:"string",bind:"fieldLov.fieldName",ignore:"always"},{name:"fieldTypeMeaning",label:l["a"].get("hiam.roleManagement.model.fieldPermission.fieldType").d("\u5b57\u6bb5\u7c7b\u578b"),type:"string",lookupCode:"HIAM.FIELD.TYPE",bind:"fieldLov.fieldType"},{name:"permissionType",label:l["a"].get("hiam.roleManagement.model.fieldPermission.rule").d("\u6743\u9650\u89c4\u5219"),type:"string",lookupCode:"HIAM.FIELD.PERMISSION_TYPE",required:!0},{name:"permissionTypeMeaning",ignore:"always"},{name:"permissionRule",label:l["a"].get("hiam.roleManagement.model.fieldPermission.desensitize").d("\u8131\u654f\u89c4\u5219"),type:"string",dynamicProps:{required:function(e){var t=e.record;return"DESENSITIZE"===t.get("permissionType")}}},{name:"remark",label:l["a"].get("hiam.securityGroup.model.securityGroup.remark").d("\u8bf4\u660e"),type:"string"},{name:"editing",type:"boolean",ignore:"always"}],queryFields:[{name:"fieldDescription",label:l["a"].get("hiam.roleManagement.model.fieldPermission.fieldName").d("\u5b57\u6bb5\u540d\u79f0"),type:"string"},{name:"permissionType",label:l["a"].get("hiam.roleManagement.model.fieldPermission.rule").d("\u6743\u9650\u89c4\u5219"),type:"string",lookupCode:"HIAM.FIELD.PERMISSION_TYPE"}]},w={pageSize:10,autoQuery:!0,fields:[{name:"cardLov",label:l["a"].get("hiam.roleManagement.model.tenantAssignCards.cardCode").d("\u5361\u7247\u4ee3\u7801"),type:"object",lovCode:Object(p["z"])()?"HPFM.ROLE_ASSIGN_CARD.ORG":"HPFM.ROLE_ASSIGN_CARD",lovPara:Object(p["z"])()?{tenantId:f}:{},ignore:"always",required:!0},{name:"cardId",type:"number",bind:"cardLov.cardId"},{name:"code",label:l["a"].get("hiam.roleManagement.model.tenantAssignCards.cardCode").d("\u5361\u7247\u4ee3\u7801"),type:"string",bind:"cardLov.code"},{name:"name",label:l["a"].get("hiam.roleManagement.model.tenantAssignCards.cardName").d("\u5361\u7247\u540d\u79f0"),type:"string",bind:"cardLov.name"},{name:"catalogMeaning",label:l["a"].get("hiam.roleManagement.model.tenantAssignCards.cardType").d("\u5361\u7247\u7c7b\u522b"),type:"string",bind:"cardLov.catalogMeaning"},{name:"h",label:l["a"].get("hiam.roleManagement.model.tenantAssignCards.cardH").d("\u9ad8\u5ea6"),type:"number",bind:"cardLov.h"},{name:"w",label:l["a"].get("hiam.roleManagement.model.tenantAssignCards.cardW").d("\u957f\u5ea6"),type:"number",bind:"cardLov.w"},{name:"x",label:l["a"].get("hiam.roleManagement.model.tenantAssignCards.cardX").d("\u4f4d\u7f6eX"),type:"number",required:!0,step:1,min:0,max:g},{name:"y",label:l["a"].get("hiam.roleManagement.model.tenantAssignCards.cardY").d("\u4f4d\u7f6eY"),type:"number",required:!0,step:1,min:0,max:g},{name:"defaultDisplayFlag",label:l["a"].get("hiam.securityGroup.model.securityGroup.defaultDisplayFlag").d("\u662f\u5426\u521d\u59cb\u5316"),type:"number",falseValue:0,trueValue:1,defaultValue:1},{name:"remark",label:l["a"].get("hzero.common.explain").d("\u8bf4\u660e"),type:"string"}],queryFields:[{name:"code",label:l["a"].get("hiam.roleManagement.model.tenantAssignCards.cardCode").d("\u5361\u7247\u4ee3\u7801"),type:"string"},{name:"name",label:l["a"].get("hiam.roleManagement.model.tenantAssignCards.cardName").d("\u5361\u7247\u540d\u79f0"),type:"string"},{name:"catalogMeaning",label:l["a"].get("hiam.roleManagement.model.tenantAssignCards.cardType").d("\u5361\u7247\u7c7b\u522b"),type:"string"}]},x={pageSize:10,selection:!1,autoQuery:!0,primaryKey:"docTypeId",fields:[{name:"docTypeName",label:l["a"].get("hiam.roleManagement.model.role.docType").d("\u5355\u636e"),type:"string"},{name:"authScopeCode",label:l["a"].get("hiam.roleManagement.model.role.authRang").d("\u6743\u9650\u7ef4\u5ea6\u8303\u56f4"),type:"string",defaultValue:"BIZ",lookUpCode:"HIAM.AUTHORITY_SCOPE_CODE"},{name:"changingSourceList",type:"object"}],queryFields:[{name:"docTypeName",label:l["a"].get("hiam.roleManagement.model.role.docType").d("\u5355\u636e"),type:"string"}]},M=function(e){var t=e.secGrpId;return{transport:{read:function(e){var n=e.data,a=e.params;return{url:"".concat(d["h"],"/hzero/v1/sec-grps/").concat(t,"/page-assignable-role"),params:Object(i["a"])({},n,a),method:"get"}},submit:function(e){var n=e.data,a=n.map(function(e){return e.id});return{url:"".concat(d["h"],"/hzero/v1/sec-grps/").concat(t,"/assign-to-role"),data:a}}},autoQuery:!0,selection:!1,pageSize:10,fields:[{name:"isSelected",type:"boolean",ignore:"always"},{name:"name",label:l["a"].get("hiam.roleManagement.model.roleManagement.name").d("\u89d2\u8272\u540d\u79f0"),type:"string"},{name:"code",label:l["a"].get("hiam.roleManagement.model.roleManagement.code").d("\u89d2\u8272\u7f16\u7801"),type:"string"}],queryFields:[{name:"name",label:l["a"].get("hiam.roleManagement.model.roleManagement.name").d("\u89d2\u8272\u540d\u79f0"),type:"string"},{name:"code",label:l["a"].get("hiam.roleManagement.model.roleManagement.code").d("\u89d2\u8272\u7f16\u7801"),type:"string"}]}},k=function(e){var t=e.nameTitle,n=e.codeTitle,a=e.authorityTypeCode,r=e.secGrpId,o=e.secGrpDclId;return{transport:{read:function(e){var t=e.data,n=e.params;return{url:"".concat(d["h"],"/v1").concat(h,"/").concat(r,"/").concat(o,"/sec-grp-dcl-lines/assignable"),params:Object(i["a"])({},t,n,{authorityTypeCode:a}),method:"get"}},submit:function(e){var t=e.data;return{url:"".concat(d["h"],"/v1").concat(h,"/").concat(r,"/").concat(o,"/sec-grp-dcl-lines"),data:t}}},autoQuery:!0,selection:!1,pageSize:8,fields:[{name:"isSelected",type:"boolean",ignore:"always"},{name:"tenantName",label:l["a"].get("hzero.common.model.common.tenantId").d("\u79df\u6237"),type:"string"},{name:"dataName",label:t,type:"string"},{name:"dataCode",label:n,type:"string"},{name:"secGrpId",type:"string"}],queryFields:[{name:"dataName",label:t,type:"string"},{name:"dataCode",label:n,type:"string"}]}},G=function(e){var t=e.roleId,n=e.secGrpId;return{transport:{read:function(e){var n=e.data,a=e.params;return{url:"".concat(d["m"],"/v1").concat(h,"/dashboard-role-cards/role-assign-card"),params:Object(i["a"])({},n,a,{roleId:t}),method:"get"}},submit:function(e){var t=e.data,a=t.map(function(e){return Object(i["a"])({},e,{x:0,y:0,defaultDisplayFlag:0})});return{url:"".concat(d["h"],"/v1").concat(h,"/sec-grp-acl-dashboards/").concat(n),data:a,method:"post"}}},autoQuery:!0,selection:!1,pageSize:8,fields:[{name:"isSelected",type:"boolean",ignore:"always"},{name:"name",label:l["a"].get("hiam.roleManagement.model.roleManagement.cardName").d("\u5361\u7247\u540d\u79f0"),type:"string"},{name:"code",label:l["a"].get("hiam.roleManagement.model.roleManagement.cardCode").d("\u5361\u7247\u4ee3\u7801"),type:"string"},{name:"catalogMeaning",label:l["a"].get("hiam.roleManagement.model.roleManagement.catalogMeaning").d("\u5361\u7247\u7c7b\u578b"),type:"string"}],queryFields:[{name:"name",label:l["a"].get("hiam.roleManagement.model.roleManagement.cardName").d("\u5361\u7247\u540d\u79f0"),type:"string"},{name:"code",label:l["a"].get("hiam.roleManagement.model.roleManagement.cardCode").d("\u5361\u7247\u4ee3\u7801"),type:"string"}]}}},491:function(e,t,n){e.exports=n(0)(504)},497:function(e,t,n){e.exports=n(0)(2270)},524:function(e,t,n){"use strict";n(525)},525:function(e,t,n){"use strict";n(306),n(526)},526:function(e,t,n){e.exports={"c7n-message":"c7n-message","c7n-message-notice":"c7n-message-notice","c7n-message-notice-content":"c7n-message-notice-content","c7n-message-success":"c7n-message-success",icon:"icon","c7n-message-error":"c7n-message-error","c7n-message-warning":"c7n-message-warning","c7n-message-info":"c7n-message-info","c7n-message-loading":"c7n-message-loading","move-up-leave":"move-up-leave","move-up-leave-active":"move-up-leave-active",MessageMoveOut:"MessageMoveOut"}},551:function(e,t,n){e.exports=n(0)(2304)},645:function(e,t,n){e.exports=n(0)(2305)},681:function(e,t,n){e.exports=n(0)(43)},77:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return re});n(464);var a,r,o,c,i,s,u,l,d,p,m,g=n(497),f=n.n(g),h=(n(489),n(645)),y=n.n(h),b=(n(494),n(551)),v=n.n(b),O=(n(456),n(460)),j=n.n(O),w=(n(388),n(401)),x=n.n(w),M=n(2),k=n.n(M),G=n(57),C=n(308),E=n(426),S=n(58),I=(n(457),n(458)),z=n.n(I),T=n(295),F=n(296),P=n(298),_=n(297),D=n(299),N=n(301),A=(n(470),n(491)),q=n.n(A),L=n(324),R=n.n(L),U=n(1),H=n.n(U),Q=n(300),V=n(681),B=n(292),Y=n(291),Z=n(354),J=n(302),K=n(482),W=q.a.key(),X=Object(Y["m"])(),$=Object(Y["z"])()?"/".concat(X):"",ee=(a=Object(Q["Bind"])(),r=Object(Q["Bind"])(),o=Object(Q["Bind"])(),c=Object(Q["Bind"])(),i=Object(Q["Bind"])(),s=Object(Q["Bind"])(),Object(V["observer"])((d=function(e){function t(e){var n;return Object(T["a"])(this,t),n=Object(P["a"])(this,Object(_["a"])(t).call(this,e)),n.configDS=new z.a(Object(S["a"])({},K["h"],{transport:{read:function(e){var t=e.data,a=e.params,r=n.props,o=r.record,c=void 0===o?{}:o,i=r.secGrpId,s=r.isSelf,u=r.roleId,l=c.get("id");return{url:s?"".concat(B["h"],"/v1").concat($,"/sec-grp-acl-fields/").concat(i,"/").concat(l,"/fields"):"".concat(B["h"],"/hzero/v1/sec-grps/").concat(u,"/assign-sec-grp/").concat(i,"/acl/").concat(l,"/fields"),params:Object(S["a"])({},t,a),method:"get"}},submit:function(e){var t=e.data,a=n.props.record,r=void 0===a?{}:a,o=r.get("id"),c=Object(E["a"])(t);c=c.map(function(e){var t=Object(S["a"])({},e),n=(t.__id,t._status),a=Object(C["a"])(t,["__id","_status"]);return Object(S["a"])({},a,{_status:"add"===n?"create":n,permissionId:o})});var i=n.props.secGrpId;return{url:"".concat(B["h"],"/v1").concat($,"/sec-grp-acl-fields/").concat(i,"/operate"),data:c}}}})),n.props.callback(n.configDS),n}return Object(D["a"])(t,e),Object(F["a"])(t,[{key:"componentDidMount",value:function(){var e=Object(G["a"])(k.a.mark(function e(){var t,n,a,r;return k.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=this.props.record,n=void 0===t?{}:t,a=n.get("id"),r=this.configDS.getField("fieldLov"),r.setLovPara("permissionDimension","ROLE"),r.setLovPara("permissionId",a),r.setLovPara("organizationId",X);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"commands",value:function(e){var t=this;return[H.a.createElement("span",{className:"action-link"},"add"===e.status?H.a.createElement("a",{onClick:function(){return t.handleClear(e)}},J["a"].get("hzero.common.button.clean").d("\u6e05\u9664")):!0===e.get("editing")?H.a.createElement("a",{onClick:function(){return t.handleCancel(e)}},J["a"].get("hzero.common.status.cancel").d("\u53d6\u6d88")):"1"===e.get("deleteEnableFlag")?H.a.createElement(H.a.Fragment,null,H.a.createElement("a",{onClick:function(){return t.handleEdit(e)},disabled:"delete"===e.status},J["a"].get("hzero.common.button.edit").d("\u7f16\u8f91")),H.a.createElement("a",{onClick:function(){return t.handleDelete(e)},disabled:"delete"===e.status},J["a"].get("hzero.common.button.delete").d("\u5220\u9664"))):null)]}},{key:"handleEdit",value:function(e){e.set("editing",!0)}},{key:"handleCancel",value:function(e){e.reset()}},{key:"handleClear",value:function(e){this.configDS.remove(e)}},{key:"handleDelete",value:function(e){this.configDS.remove(e)}},{key:"handleCreateConfig",value:function(){var e=Object(G["a"])(k.a.mark(function e(){var t;return k.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.configDS.validate();case 2:if(t=e.sent,!t){e.next=8;break}return e.next=6,this.configDS.create({});case 6:e.next=9;break;case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"render",value:function(){var e=this.props.isSelf;return H.a.createElement(j.a,{dataSet:this.configDS,columns:this.columns,queryFieldsLimit:2,buttons:e?[H.a.createElement(x.a,{key:"create",icon:"playlist_add",color:"primary",funcType:"flat",onClick:this.handleCreateConfig},J["a"].get("hzero.common.button.create").d("\u65b0\u5efa"))]:[]})}},{key:"columns",get:function(){var e=this,t=this.props.isSelf;return[{name:"fieldLov",editor:function(t){if("add"===t.status)return H.a.createElement(v.a,{noCache:!0,onChange:e.handleChangeField})}},{name:"fieldTypeMeaning"},{name:"permissionType",editor:function(e){if("add"===e.status||"update"===e.status)return H.a.createElement(y.a,null)}},{name:"permissionRule",editor:function(e){if("add"===e.status||!0===e.get("editing"))return"DESENSITIZE"===e.get("permissionType")?H.a.createElement(f.a,null):null}},{name:"remark",editor:function(e){if("add"===e.status||!0===e.get("editing"))return H.a.createElement(f.a,null)}},t&&{header:J["a"].get("hzero.common.button.action").d("\u64cd\u4f5c"),width:200,command:function(t){var n=t.record;return e.commands(n)}}].filter(Boolean)}}]),t}(U["Component"]),l=d,Object(N["a"])(l.prototype,"commands",[a],Object.getOwnPropertyDescriptor(l.prototype,"commands"),l.prototype),Object(N["a"])(l.prototype,"handleEdit",[r],Object.getOwnPropertyDescriptor(l.prototype,"handleEdit"),l.prototype),Object(N["a"])(l.prototype,"handleCancel",[o],Object.getOwnPropertyDescriptor(l.prototype,"handleCancel"),l.prototype),Object(N["a"])(l.prototype,"handleClear",[c],Object.getOwnPropertyDescriptor(l.prototype,"handleClear"),l.prototype),Object(N["a"])(l.prototype,"handleDelete",[i],Object.getOwnPropertyDescriptor(l.prototype,"handleDelete"),l.prototype),Object(N["a"])(l.prototype,"handleCreateConfig",[s],Object.getOwnPropertyDescriptor(l.prototype,"handleCreateConfig"),l.prototype),u=l))||u);function te(e){m=e}function ne(){return ae.apply(this,arguments)}function ae(){return ae=Object(G["a"])(k.a.mark(function e(){var t;return k.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.submit();case 2:return t=e.sent,!R()(t)&&t.failed&&t.message?Z["a"].error({message:t.message}):!R()(t)&&t.success?m.query():void 0===t&&Z["a"].warning({message:J["a"].get("hiam.securityGroup.view.message.form.noChange").d("\u8868\u5355\u672a\u505a\u4fee\u6539")}),e.abrupt("return",!1);case 5:case"end":return e.stop()}},e)})),ae.apply(this,arguments)}function re(e,t,n,a){var r={title:J["a"].get("hiam.securityGroup.view.title.field.permission.config").d("\u5b57\u6bb5\u6743\u9650\u914d\u7f6e"),drawer:!0,closable:!0,style:{width:800},key:W,children:H.a.createElement(ee,{record:e,callback:te,secGrpId:t,isSelf:n,roleId:a}),destroyOnClose:!0,onOk:ne};n||(r.footer=H.a.createElement(x.a,{onClick:function(){p.close()}},J["a"].get("hzero.common.button.close").d("\u5173\u95ed"))),p=q.a.open(r)}}}]);