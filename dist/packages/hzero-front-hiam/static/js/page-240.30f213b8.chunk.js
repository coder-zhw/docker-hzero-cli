(window["webpackJsonppackages_hzero_front_hiam_name_"]=window["webpackJsonppackages_hzero_front_hiam_name_"]||[]).push([[34],{16:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return F});n(327);var a=n(312),o=(n(448),n(356)),r=(n(391),n(455)),i=n(295),c=n(296),s=n(298),l=n(297),p=n(389),u=n(299),m=(n(303),n(307)),d=(n(310),n(309)),f=(n(305),n(304)),h=n(631),x=n.n(h),b=n(324),g=n.n(b),v=n(1),w=n.n(v),k=n(302),y=n(291),C=n(68),S=n(761),E=n.n(S),R=f["default"].Item,O=function(e){var t=e.form,n=void 0===t?{}:t,a=e.search,o=void 0===a?function(e){return e}:a,r=n.getFieldDecorator,i=void 0===r?function(e){return e}:r,c=n.resetFields,s=void 0===c?function(e){return e}:c;return w.a.createElement(f["default"],{layout:"inline"},w.a.createElement(R,{label:k["a"].get("hiam.roleManagement.model.roleManagement.permissionSetName").d("\u6743\u9650\u5c42\u7ea7\u540d\u79f0")},i("name")(w.a.createElement(d["default"],null))),w.a.createElement(R,null,w.a.createElement(m["default"],{onClick:function(){return s()},style:{marginRight:"8px"}},k["a"].get("hzero.common.button.reset").d("\u91cd\u7f6e")),w.a.createElement(m["default"],{type:"primary",htmlType:"submit",onClick:function(){o()}},k["a"].get("hzero.common.button.search").d("\u67e5\u8be2"))))},I=f["default"].create({fieldNameProp:null})(O),F=function(e){function t(e){var n;return Object(i["a"])(this,t),n=Object(s["a"])(this,Object(l["a"])(t).call(this,e)),n.state={dataSource:[],expandedRowKeys:[],defaultExpandedRowKeys:[]},n.defaultTableRowKey="id",["handleFetchDataSource","handleClose","operationRender","onExpand","collapseAll","expandAll"].forEach(function(e){n[e]=n[e].bind(Object(p["a"])(n))}),n.searchFormRef=w.a.createRef(),n}return Object(u["a"])(t,e),Object(c["a"])(t,[{key:"getSnapshotBeforeUpdate",value:function(e){var t=this.props,n=t.visible,a=t.roleId;return n&&x()(a)&&a!==e.roleId}},{key:"componentDidUpdate",value:function(e,t,n){n&&this.handleFetchDataSource()}},{key:"handleFetchDataSource",value:function(){var e=this,t=this.props,n=t.fetchDataSource,a=void 0===n?function(e){return e}:n,o=t.roleId,r={};this.searchFormRef.current&&(r=this.searchFormRef.current.getFieldsValue()),a(o,r).then(function(t){if(t){var n=t.dataSource,a=void 0===n?[]:n,o=t.defaultExpandedRowKeys,r=void 0===o?[]:o;e.setState({dataSource:a,defaultExpandedRowKeys:r})}})}},{key:"handleClose",value:function(){var e=this.props.close,t=void 0===e?function(e){return e}:e;this.setState({dataSource:[],expandedRowKeys:[]}),t()}},{key:"onCheckboxChange",value:function(e){var t=this.props,n=t.batchAssignPermissionSets,a=void 0===n?function(e){return e}:n,o=t.batchUnassignPermissionSets,r=void 0===o?function(e){return e}:o,i=t.roleId,c=[],s=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach(function(t){"ps"===t.type&&c.push(t.id),g()(t.subMenus)||e(t.subMenus)})};"ps"===e.type&&c.push(e.id),g()(e.subMenus)||s(e.subMenus),"Y"!==e.checkedFlag?a(i,c,this.handleFetchDataSource):r(i,c,this.handleFetchDataSource)}},{key:"expandAll",value:function(){var e=this.state.defaultExpandedRowKeys;this.setState({expandedRowKeys:e})}},{key:"collapseAll",value:function(){this.setState({expandedRowKeys:[]})}},{key:"onExpand",value:function(e,t){var n=this.state.expandedRowKeys,a=void 0===n?[]:n;this.setState({expandedRowKeys:e?a.concat(t.key):a.filter(function(e){return e!==t.key})})}},{key:"operationRender",value:function(e,t){var n={indeterminate:"P"===t.checkedFlag,checked:"Y"===t.checkedFlag,onChange:this.onCheckboxChange.bind(this,t)};return w.a.createElement(r["default"],n)}},{key:"render",value:function(){var e=this.props,t=e.prompt,n=void 0===t?{}:t,r=e.roleName,i=e.visible,c=e.processing,s=void 0===c?{}:c,l=this.state,p=l.dataSource,u=void 0===p?[]:p,d=l.expandedRowKeys,f=void 0===d?[]:d,h={title:k["a"].get("hiam.roleManagement.view.title.assign",{name:r}).d("\u7ed9\u201c".concat(r,"\u201d\u5206\u914d\u6743\u9650")),visible:i,onCancel:this.handleClose,width:620,anchor:"right",wrapClassName:E.a["hiam-role-permissions-editor"],footer:w.a.createElement(m["default"],{type:"primary",onClick:this.handleClose},k["a"].get("hzero.common.button.close").d("\u5173\u95ed"))},x=[{title:k["a"].get("hiam.roleManagement.model.roleManagement.permissionSetName").d("\u6743\u9650\u5c42\u7ea7\u540d\u79f0"),dataIndex:"name"},{title:k["a"].get("hiam.roleManagement.model.roleManagement.permission.Type").d("\u6743\u9650\u7c7b\u578b"),dataIndex:"permissionType",width:150,render:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n={api:k["a"].get("hiam.roleManagement.view.message.api").d("API"),button:k["a"].get("hiam.roleManagement.view.message.button").d("\u6309\u94ae"),table:k["a"].get("hiam.roleManagement.view.message.table").d("\u8868\u683c\u5217"),formItem:k["a"].get("hiam.roleManagement.view.message.formItem").d("\u8868\u5355\u9879"),formField:k["a"].get("hiam.roleManagement.view.message.formField").d("\u8868\u5355\u57df")},a=e.split(",")||[],r=a.map(function(e){return n[e]?n[e]:""})||[];return"ps"===t.type&&w.a.createElement(o["default"],{color:"api"===e?"green":"orange"},r.join())}},{title:k["a"].get("hzero.common.button.action").d("\u64cd\u4f5c"),width:85,render:this.operationRender}],b={columns:x,dataSource:u,scroll:{x:Object(y["G"])(x,300)},loading:s.query||s.batchAssignPermissionSets||s.batchUnassignPermissionSets,bordered:!0,childrenColumnName:"subMenus",pagination:!1,expandedRowKeys:f,onExpand:this.onExpand};return w.a.createElement(C["default"],h,w.a.createElement(I,{ref:this.searchFormRef,search:this.handleFetchDataSource,prompt:n}),w.a.createElement("br",null),w.a.createElement("div",{className:"action",style:{textAlign:"right"}},w.a.createElement(m["default"],{onClick:this.collapseAll,style:{marginRight:8}},k["a"].get("hzero.common.button.collapseAll").d("\u5168\u90e8\u6536\u8d77")),w.a.createElement(m["default"],{onClick:this.expandAll},k["a"].get("hzero.common.button.expandAll").d("\u5168\u90e8\u5c55\u5f00"))),w.a.createElement("br",null),w.a.createElement(a["default"],b))}}]),t}(v["PureComponent"])},294:function(e,t,n){e.exports=n(0)(198)},303:function(e,t,n){e.exports=n(0)(1169)},304:function(e,t,n){e.exports=n(0)(1147)},305:function(e,t,n){"use strict";n(294),n(328),n(321)},307:function(e,t,n){e.exports=n(0)(111)},309:function(e,t,n){e.exports=n(0)(293)},311:function(e,t,n){e.exports=n(0)(1155)},312:function(e,t,n){e.exports=n(0)(1161)},313:function(e,t,n){e.exports=n(0)(1154)},314:function(e,t,n){"use strict";n(294),n(343),n(303)},315:function(e,t,n){e.exports=n(0)(116)},318:function(e,t,n){e.exports=n(0)(1168)},319:function(e,t,n){e.exports=n(0)(37)},320:function(e,t,n){e.exports=n(0)(82)},328:function(e,t,n){e.exports={"ant-form":"ant-form","ant-form-item-required":"ant-form-item-required","ant-form-hide-required-mark":"ant-form-hide-required-mark","ant-form-item-children":"ant-form-item-children","ant-input":"ant-input","ant-input-disabled":"ant-input-disabled","ant-input-number-input":"ant-input-number-input","ant-cascader-picker":"ant-cascader-picker","ant-cascader-picker-disabled":"ant-cascader-picker-disabled","ant-time-picker-input":"ant-time-picker-input","ant-select-disabled":"ant-select-disabled","ant-select-selection":"ant-select-selection","ant-input-group-addon":"ant-input-group-addon","has-error":"has-error",disabled:"disabled","ant-radio-inline":"ant-radio-inline","ant-radio-vertical":"ant-radio-vertical","ant-checkbox-inline":"ant-checkbox-inline","ant-checkbox-vertical":"ant-checkbox-vertical","ant-radio":"ant-radio","ant-checkbox":"ant-checkbox","ant-form-item":"ant-form-item",anticon:"anticon","ant-form-item-control":"ant-form-item-control","ant-form-item-with-help":"ant-form-item-with-help","ant-form-item-label":"ant-form-item-label","ant-switch":"ant-switch","ant-form-item-no-colon":"ant-form-item-no-colon","ant-form-explain":"ant-form-explain","ant-form-extra":"ant-form-extra","ant-form-text":"ant-form-text","ant-form-split":"ant-form-split","has-feedback":"has-feedback","ant-select":"ant-select","ant-select-arrow":"ant-select-arrow","ant-select-selection__clear":"ant-select-selection__clear","ant-select-selection-selected-value":"ant-select-selection-selected-value","ant-cascader-picker-arrow":"ant-cascader-picker-arrow","ant-cascader-picker-clear":"ant-cascader-picker-clear","ant-input-search":"ant-input-search","ant-input-search-enter-button":"ant-input-search-enter-button","ant-input-suffix":"ant-input-suffix","ant-calendar-picker-icon":"ant-calendar-picker-icon","ant-time-picker-icon":"ant-time-picker-icon","ant-calendar-picker-clear":"ant-calendar-picker-clear","ant-time-picker-clear":"ant-time-picker-clear","ant-upload":"ant-upload","ant-input-number":"ant-input-number","ant-input-number-handler-wrap":"ant-input-number-handler-wrap","ant-input-group":"ant-input-group","ant-input-group-wrapper":"ant-input-group-wrapper","ant-input-group-wrap":"ant-input-group-wrap","ant-select-selection--single":"ant-select-selection--single","ant-select-selection__rendered":"ant-select-selection__rendered","ant-select-open":"ant-select-open","ant-form-vertical":"ant-form-vertical","ant-col-24":"ant-col-24","ant-col-xl-24":"ant-col-xl-24","ant-form-item-control-wrapper":"ant-form-item-control-wrapper","ant-col-xs-24":"ant-col-xs-24","ant-col-sm-24":"ant-col-sm-24","ant-col-md-24":"ant-col-md-24","ant-col-lg-24":"ant-col-lg-24","ant-form-inline":"ant-form-inline","has-success":"has-success","has-warning":"has-warning","is-validating":"is-validating",zoomIn:"zoomIn",diffZoomIn1:"diffZoomIn1","ant-calendar-picker-open":"ant-calendar-picker-open","ant-calendar-picker-input":"ant-calendar-picker-input","ant-input-prefix":"ant-input-prefix",diffZoomIn3:"diffZoomIn3","ant-select-focused":"ant-select-focused","ant-picker-icon":"ant-picker-icon","ant-input-number-focused":"ant-input-number-focused","ant-time-picker-input-focused":"ant-time-picker-input-focused","ant-cascader-input":"ant-cascader-input",diffZoomIn2:"diffZoomIn2","ant-select-auto-complete":"ant-select-auto-complete","ant-mention-wrapper":"ant-mention-wrapper","ant-mention-editor":"ant-mention-editor","ant-mention-active":"ant-mention-active",loadingCircle:"loadingCircle","ant-advanced-search-form":"ant-advanced-search-form","show-help-enter":"show-help-enter","show-help-appear":"show-help-appear","show-help-leave":"show-help-leave","show-help-enter-active":"show-help-enter-active","show-help-appear-active":"show-help-appear-active",antShowHelpIn:"antShowHelpIn","show-help-leave-active":"show-help-leave-active",antShowHelpOut:"antShowHelpOut"}},334:function(e,t,n){e.exports=n(0)(1167)},335:function(e,t,n){e.exports=n(0)(182)},336:function(e,t,n){e.exports=n(0)(274)},337:function(e,t,n){e.exports=n(237)(2648)},339:function(e,t,n){e.exports=n(0)(34)},340:function(e,t,n){e.exports=n(0)(130)},341:function(e,t,n){e.exports=n(0)(829)},342:function(e,t,n){e.exports=n(0)(604)},343:function(e,t,n){e.exports={"ant-modal":"ant-modal","ant-modal-wrap":"ant-modal-wrap","ant-modal-title":"ant-modal-title","ant-modal-content":"ant-modal-content","ant-modal-close":"ant-modal-close","ant-modal-close-x":"ant-modal-close-x","ant-modal-header":"ant-modal-header","ant-modal-body":"ant-modal-body","ant-modal-footer":"ant-modal-footer","zoom-enter":"zoom-enter","zoom-appear":"zoom-appear","ant-modal-mask":"ant-modal-mask","ant-modal-mask-hidden":"ant-modal-mask-hidden","ant-modal-open":"ant-modal-open","vertical-center-modal":"vertical-center-modal","ant-confirm":"ant-confirm","ant-confirm-body-wrapper":"ant-confirm-body-wrapper","ant-confirm-body":"ant-confirm-body","ant-confirm-title":"ant-confirm-title","ant-confirm-content":"ant-confirm-content",anticon:"anticon","ant-confirm-btns":"ant-confirm-btns","ant-confirm-error":"ant-confirm-error","ant-confirm-warning":"ant-confirm-warning","ant-confirm-confirm":"ant-confirm-confirm","ant-confirm-info":"ant-confirm-info","ant-confirm-success":"ant-confirm-success"}},345:function(e,t,n){e.exports=n(0)(156)},346:function(e,t,n){e.exports=n(0)(151)},347:function(e,t,n){e.exports=n(0)(484)},352:function(e,t,n){e.exports=n(0)(2092)},356:function(e,t,n){e.exports=n(0)(661)},358:function(e,t,n){e.exports=n(0)(868)},359:function(e,t,n){e.exports=n(0)(2130)},360:function(e,t,n){e.exports=n(0)(325)},361:function(e,t,n){e.exports=n(0)(241)},362:function(e,t,n){e.exports=n(0)(385)},363:function(e,t,n){e.exports=n(0)(1132)},364:function(e,t,n){e.exports=n(0)(255)},365:function(e,t,n){e.exports=n(0)(1960)},366:function(e,t,n){e.exports=n(0)(298)},367:function(e,t,n){e.exports=n(0)(849)},368:function(e,t,n){e.exports=n(0)(328)},369:function(e,t,n){e.exports=n(0)(270)},370:function(e,t,n){e.exports=n(0)(170)},371:function(e,t,n){e.exports=n(0)(324)},372:function(e,t,n){e.exports=n(0)(386)},373:function(e,t,n){e.exports=n(0)(387)},375:function(e,t,n){e.exports=n(237)(2662)},376:function(e,t,n){e.exports=n(237)(1367)},377:function(e,t,n){e.exports=n(0)(127)},378:function(e,t,n){e.exports=n(0)(2129)},379:function(e,t,n){e.exports=n(0)(235)},380:function(e,t,n){e.exports=n(0)(209)},381:function(e,t,n){e.exports=n(0)(580)},382:function(e,t,n){e.exports=n(0)(582)},383:function(e,t,n){e.exports=n(0)(128)},384:function(e,t,n){e.exports=n(0)(108)},385:function(e,t,n){e.exports=n(0)(472)},386:function(e,t,n){e.exports=n(0)(873)},391:function(e,t,n){e.exports=n(0)(1974)},433:function(e,t,n){e.exports=n(0)(333)},455:function(e,t,n){e.exports=n(0)(157)},631:function(e,t,n){var a=n(433);function o(e){return"number"==typeof e&&e==a(e)}e.exports=o},68:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return m});n(314);var a=n(313),o=n(308),r=n(295),i=n(296),c=n(298),s=n(297),l=n(299),p=n(1),u=n.n(p),m=function(e){function t(){return Object(r["a"])(this,t),Object(c["a"])(this,Object(s["a"])(t).apply(this,arguments))}return Object(l["a"])(t,e),Object(i["a"])(t,[{key:"render",value:function(){var e=this.props,t=e.anchor,n=e.title,r=e.visible,i=e.children,c=e.onCancel,s=e.onOk,l=e.wrapClassName,p=Object(o["a"])(e,["anchor","title","visible","children","onCancel","onOk","wrapClassName"]);return u.a.createElement(a["default"],Object.assign({title:n,wrapClassName:"ant-modal-sidebar-".concat(t," ").concat(l),transitionName:"move-".concat(t),visible:r,onOk:s,onCancel:c,destroyOnClose:!0},p),i)}}]),t}(p["PureComponent"]);m.defaultProps={anchor:"left",title:"",visible:!1,onOk:function(e){return e},onCancel:function(e){return e}}},761:function(e,t,n){e.exports={"hiam-role-permissions-management":"hiam-routes-role-management-permissions-index-hiam-role-permissions-management","hiam-role-permissions-management-transfer":"hiam-routes-role-management-permissions-index-hiam-role-permissions-management-transfer"}}}]);