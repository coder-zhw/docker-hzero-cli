(window["webpackJsonppackages_hzero_front_hiam_name_"]=window["webpackJsonppackages_hzero_front_hiam_name_"]||[]).push([[118,117,232,233,234,235,236,243,247,251,252,253,254,255,256,257,258,259,265,269,270,271,276,279,280,281,282,283],{293:function(e,t,a){"use strict";a.d(t,"a",function(){return y});var n=a(2),r=a.n(n),o=a(58),c=a(57),i=(a(338),a(311)),s=a(325),u=a.n(s),l=a(317),d=a(302),p=a(292),m=a(291);function g(e){if(e.status>=200&&e.status<300)return e;var t=e.statusText,a=new Error(t);throw a.name=e.status,a.response=e,a}function f(e){return h.apply(this,arguments)}function h(){return h=Object(c["a"])(r.a.mark(function e(t){var a;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(501!==t.name){e.next=14;break}return e.prev=1,e.next=4,t.response.json();case 4:a=e.sent,dvaApp._store.dispatch({type:"error/updateState",payload:{normal501:a}}),dvaApp._store.dispatch(l["routerRedux"].push({pathname:"/exception/501"})),e.next=12;break;case 9:throw e.prev=9,e.t0=e["catch"](1),t;case 12:e.next=15;break;case 14:throw t;case 15:case"end":return e.stop()}},e,null,[[1,9]])})),h.apply(this,arguments)}i["default"].config({placement:"bottomRight"});var b={Pragma:"no-cache","Cache-Control":"no-cache"};function y(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={credentials:"include",headers:b},r=a.beforeCatch,c=e.startsWith("/api")||e.startsWith("http")?e:"".concat(p["a"]).concat(e),s=Object(o["a"])({},n,t);if("POST"!==s.method&&"PUT"!==s.method&&"DELETE"!==s.method&&"PATCH"!==s.method||(s.body instanceof FormData?s.headers=Object(o["a"])({Accept:"application/json"},s.headers):(s.headers=Object(o["a"])({Accept:"application/json","Content-Type":"application/json; charset=utf-8"},s.headers),s.body=JSON.stringify(s.body))),s.query){var h=s.query;"GET"===s.method&&(h=Object(m["g"])(s.query)),c=Object(m["h"])(c,h)}var v=Object(m["i"])();v&&(s.headers=Object(o["a"])({},s.headers,{Authorization:"bearer ".concat(v)}));var O=u()(c,s).then(g).then(function(e){return 204===e.status?{}:"blob"===s.responseType?e.blob():"text"===s.responseType?e.text():e.json()});return r&&(O=O.catch(r)),O=O.catch(f).catch(function(e){var t=e.name,a=Object(m["w"])("isErrorFlag");if(a||Object(m["F"])("isErrorFlag",!1),401===t){var n=encodeURIComponent(window.location.toString());return v?void y("".concat(p["l"],"/public/token/kickoff"),{method:"POST",query:{access_token:v}}).then(function(e){1===e.kickoff?(dvaApp._store.dispatch(l["routerRedux"].push({pathname:"/public/kickoff"})),Object(m["F"])("redirectUrl",n),Object(m["F"])("isErrorFlag",!1)):(dvaApp._store.dispatch(l["routerRedux"].push({pathname:"/public/unauthorized"})),Object(m["F"])("isErrorFlag",!0),Object(m["F"])("redirectUrl",n))}):(Object(m["D"])(),Object(m["E"])(),-1!==c.indexOf(p["c"])?void(p["o"].includes("?")?(window.location.href="".concat(p["o"],"&redirect_uri=").concat(n),Object(m["F"])("isErrorFlag",!1),Object(m["F"])("redirectUrl",n)):(window.location.href="".concat(p["o"],"?redirect_uri=").concat(n),m["F"].apply("isErrorFlag",!1),Object(m["F"])("redirectUrl",n))):void(a||(dvaApp._store.dispatch(l["routerRedux"].push({pathname:"/public/unauthorized"})),Object(m["F"])("isErrorFlag",!0),Object(m["F"])("redirectUrl",n))))}if(-1!==c.indexOf(p["c"]))return e;"TypeError"!==t?i["default"].error({message:"".concat(t),description:e.message}):i["default"].error({message:d["a"].get("hzero.common.notification.network.typeError").d("\u7f51\u7edc\u8bf7\u6c42\u5f02\u5e38"),description:d["a"].get("hzero.common.notification.typeError.description").d("\u8bf7\u7a0d\u540e\u91cd\u8bd5")})}),O}},294:function(e,t,a){e.exports=a(0)(198)},295:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}a.d(t,"a",function(){return n})},296:function(e,t,a){"use strict";function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}a.d(t,"a",function(){return r})},297:function(e,t,a){"use strict";function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}a.d(t,"a",function(){return n})},298:function(e,t,a){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var r=a(389);function o(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?Object(r["a"])(e):t}a.d(t,"a",function(){return o})},299:function(e,t,a){"use strict";function n(e,t){return n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}a.d(t,"a",function(){return r})},300:function(e,t,a){e.exports=a(237)(2563)},301:function(e,t,a){"use strict";function n(e,t,a,n,r){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=a.slice().reverse().reduce(function(a,n){return n(e,t,a)||a},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}a.d(t,"a",function(){return n})},303:function(e,t,a){e.exports=a(0)(1169)},311:function(e,t,a){e.exports=a(0)(1155)},315:function(e,t,a){e.exports=a(0)(116)},317:function(e,t,a){e.exports=a(0)(1852)},318:function(e,t,a){e.exports=a(0)(1168)},319:function(e,t,a){e.exports=a(0)(37)},320:function(e,t,a){e.exports=a(0)(82)},325:function(e,t,a){e.exports=a(0)(1858)},334:function(e,t,a){e.exports=a(0)(1167)},335:function(e,t,a){e.exports=a(0)(182)},336:function(e,t,a){e.exports=a(0)(274)},337:function(e,t,a){e.exports=a(237)(2648)},339:function(e,t,a){e.exports=a(0)(34)},340:function(e,t,a){e.exports=a(0)(130)},341:function(e,t,a){e.exports=a(0)(829)},342:function(e,t,a){e.exports=a(0)(604)},345:function(e,t,a){e.exports=a(0)(156)},346:function(e,t,a){e.exports=a(0)(151)},347:function(e,t,a){e.exports=a(0)(484)},352:function(e,t,a){e.exports=a(0)(2092)},354:function(e,t,a){"use strict";var n=a(58),r=(a(338),a(311)),o=a(308),c=a(302);function i(e){var t=e||{},a=t.message,i=t.description,s=Object(o["a"])(t,["message","description"]);r["default"].success(Object(n["a"])({message:a||c["a"].get("hzero.common.notification.success").d("\u64cd\u4f5c\u6210\u529f"),description:i,duration:2.5,className:"success"},s))}function s(e){var t=e||{},a=t.message,i=t.description,s=Object(o["a"])(t,["message","description"]);r["default"].error(Object(n["a"])({message:a||c["a"].get("hzero.common.notification.error").d("\u64cd\u4f5c\u5931\u8d25"),description:i,duration:2.5,className:"error"},s))}function u(e){var t=e||{},a=t.message,i=t.description,s=Object(o["a"])(t,["message","description"]);r["default"].warning(Object(n["a"])({message:a||c["a"].get("hzero.common.notification.warn").d("\u64cd\u4f5c\u5f02\u5e38"),description:i,duration:2.5,className:"warn"},s))}function l(e){var t=e||{},a=t.message,c=t.description,i=Object(o["a"])(t,["message","description"]);r["default"].info(Object(n["a"])({message:a,description:c,duration:2.5,className:"info"},i))}t["a"]={success:i,error:s,warning:u,info:l}},356:function(e,t,a){e.exports=a(0)(661)},358:function(e,t,a){e.exports=a(0)(868)},359:function(e,t,a){e.exports=a(0)(2130)},360:function(e,t,a){e.exports=a(0)(325)},361:function(e,t,a){e.exports=a(0)(241)},362:function(e,t,a){e.exports=a(0)(385)},363:function(e,t,a){e.exports=a(0)(1132)},364:function(e,t,a){e.exports=a(0)(255)},365:function(e,t,a){e.exports=a(0)(1960)},366:function(e,t,a){e.exports=a(0)(298)},367:function(e,t,a){e.exports=a(0)(849)},368:function(e,t,a){e.exports=a(0)(328)},369:function(e,t,a){e.exports=a(0)(270)},370:function(e,t,a){e.exports=a(0)(170)},371:function(e,t,a){e.exports=a(0)(324)},372:function(e,t,a){e.exports=a(0)(386)},373:function(e,t,a){e.exports=a(0)(387)},375:function(e,t,a){e.exports=a(237)(2662)},376:function(e,t,a){e.exports=a(237)(1367)},377:function(e,t,a){e.exports=a(0)(127)},378:function(e,t,a){e.exports=a(0)(2129)},379:function(e,t,a){e.exports=a(0)(235)},380:function(e,t,a){e.exports=a(0)(209)},381:function(e,t,a){e.exports=a(0)(580)},382:function(e,t,a){e.exports=a(0)(582)},383:function(e,t,a){e.exports=a(0)(128)},384:function(e,t,a){e.exports=a(0)(108)},385:function(e,t,a){e.exports=a(0)(472)},386:function(e,t,a){e.exports=a(0)(873)},389:function(e,t,a){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}a.d(t,"a",function(){return n})},401:function(e,t,a){e.exports=a(0)(917)},457:function(e,t,a){"use strict";a(306),a(465),a(524)},458:function(e,t,a){e.exports=a(0)(1258)},460:function(e,t,a){e.exports=a(0)(2227)},475:function(e,t,a){"use strict";a.d(t,"k",function(){return m}),a.d(t,"d",function(){return f}),a.d(t,"h",function(){return b}),a.d(t,"g",function(){return v}),a.d(t,"b",function(){return j}),a.d(t,"c",function(){return x}),a.d(t,"i",function(){return k}),a.d(t,"e",function(){return S}),a.d(t,"f",function(){return E}),a.d(t,"j",function(){return A}),a.d(t,"a",function(){return T});a(58);var n=a(2),r=a.n(n),o=a(57),c=a(485),i=a.n(c),s=a(293),u=a(292),l=a(291),d=Object(l["m"])(),p=Object(l["z"])();function m(e){return g.apply(this,arguments)}function g(){return g=Object(o["a"])(r.a.mark(function e(t){var a;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=i.a.stringify(t),e.abrupt("return",Object(s["a"])("".concat(u["h"],"/v1/sec-grps/check-duplicate?").concat(a),{method:"POST"}));case 2:case"end":return e.stop()}},e)})),g.apply(this,arguments)}function f(e,t){return h.apply(this,arguments)}function h(){return h=Object(o["a"])(r.a.mark(function e(t,a){return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(s["a"])(p?"".concat(u["h"],"/v1/").concat(d,"/sec-grps/").concat(t,"/copy"):"".concat(u["h"],"/v1/sec-grps/").concat(t,"/copy"),{method:"POST",body:a}));case 1:case"end":return e.stop()}},e)})),h.apply(this,arguments)}function b(e){return y.apply(this,arguments)}function y(){return y=Object(o["a"])(r.a.mark(function e(t){var a;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.secGrpId,e.abrupt("return",Object(s["a"])(p?"".concat(u["h"],"/v1/").concat(d,"/sec-grp-acls/").concat(a):"".concat(u["h"],"/v1/sec-grp-acls/").concat(a),{method:"GET",query:t}));case 2:case"end":return e.stop()}},e)})),y.apply(this,arguments)}function v(e){return O.apply(this,arguments)}function O(){return O=Object(o["a"])(r.a.mark(function e(t){var a,n;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.secGrpId,n=t.roleId,e.abrupt("return",Object(s["a"])("".concat(u["h"],"/hzero/v1/sec-grps/").concat(n,"/assign-sec-grp/").concat(a,"/acl")));case 2:case"end":return e.stop()}},e)})),O.apply(this,arguments)}function j(e,t){return w.apply(this,arguments)}function w(){return w=Object(o["a"])(r.a.mark(function e(t,a){return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(s["a"])(p?"".concat(u["h"],"/v1/").concat(d,"/sec-grp-acls/").concat(t):"".concat(u["h"],"/v1/sec-grp-acls/").concat(t),{method:"POST",body:a}));case 1:case"end":return e.stop()}},e)})),w.apply(this,arguments)}function x(e,t){return M.apply(this,arguments)}function M(){return M=Object(o["a"])(r.a.mark(function e(t,a){return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(s["a"])(p?"".concat(u["h"],"/v1/").concat(d,"/sec-grp-acls/").concat(t):"".concat(u["h"],"/v1/sec-grp-acls/").concat(t),{method:"DELETE",body:a}));case 1:case"end":return e.stop()}},e)})),M.apply(this,arguments)}function k(e){return G.apply(this,arguments)}function G(){return G=Object(o["a"])(r.a.mark(function e(t){return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(s["a"])("".concat(u["h"],"/v1/").concat(t,"/sec-grp-dcl-dims/assign")));case 1:case"end":return e.stop()}},e)})),G.apply(this,arguments)}function S(e){return C.apply(this,arguments)}function C(){return C=Object(o["a"])(r.a.mark(function e(t){var a,n;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.secGrpId,n=i.a.stringify(t),e.abrupt("return",Object(s["a"])(p?"".concat(u["h"],"/v1/").concat(d,"/sec-grp-dcls/").concat(a,"/authority-org?").concat(n):"".concat(u["h"],"/v1/sec-grp-dcls/").concat(a,"/authority-org?").concat(n)));case 3:case"end":return e.stop()}},e)})),C.apply(this,arguments)}function E(e){return I.apply(this,arguments)}function I(){return I=Object(o["a"])(r.a.mark(function e(t){var a,n,o;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.secGrpId,n=t.roleId,o=i.a.stringify(t),e.abrupt("return",Object(s["a"])("".concat(u["h"],"/hzero/v1/sec-grps/").concat(n,"/assign-sec-grp/").concat(a,"/dcl-tree?").concat(o)));case 3:case"end":return e.stop()}},e)})),I.apply(this,arguments)}function A(e){return z.apply(this,arguments)}function z(){return z=Object(o["a"])(r.a.mark(function e(t){var a;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.secGrpId,e.abrupt("return",Object(s["a"])(p?"".concat(u["h"],"/v1/").concat(d,"/sec-grp-dcls/").concat(a,"/authority-org"):"".concat(u["h"],"/v1/sec-grp-dcls/").concat(a,"/authority-org"),{method:"POST",body:t.checkedList}));case 2:case"end":return e.stop()}},e)})),z.apply(this,arguments)}function T(e){return F.apply(this,arguments)}function F(){return F=Object(o["a"])(r.a.mark(function e(t){var a,n,o;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.secGrpId,n=t.secGrpDclId,o=t.data,e.abrupt("return",Object(s["a"])(p?"".concat(u["h"],"/v1/").concat(d,"/").concat(a,"/").concat(n,"/sec-grp-dcl-lines"):"".concat(u["h"],"/v1/").concat(a,"/").concat(n,"/sec-grp-dcl-lines"),{method:"POST",body:o}));case 2:case"end":return e.stop()}},e)})),F.apply(this,arguments)}},482:function(e,t,a){"use strict";a.d(t,"i",function(){return b}),a.d(t,"d",function(){return y}),a.d(t,"j",function(){return v}),a.d(t,"g",function(){return O}),a.d(t,"h",function(){return j}),a.d(t,"e",function(){return w}),a.d(t,"f",function(){return x}),a.d(t,"c",function(){return M}),a.d(t,"b",function(){return k}),a.d(t,"a",function(){return G});var n=a(2),r=a.n(n),o=a(59),c=a(57),i=a(58),s=a(324),u=a.n(s),l=a(302),d=a(292),p=a(291),m=a(475),g=200,f=Object(p["m"])(),h=Object(p["z"])()?"/".concat(f):"",b={transport:{read:function(e){var t=e.data,a=e.params;return{url:"".concat(d["h"],"/v1").concat(h,"/sec-grps"),params:Object(i["a"])({},t,a),method:"get"}},submit:function(e){var t=e.data;return{url:"".concat(d["h"],"/v1").concat(h,"/sec-grps/create"),data:t[0]}}},queryParameter:{secGrpSource:"self"},autoQuery:!0,pageSize:10,selection:!1,primaryKey:"secGrpId",fields:[{name:"secGrpId",type:"number"},{name:"secGrpCode",label:l["a"].get("hiam.securityGroup.model.securityGroup.code").d("\u5b89\u5168\u7ec4\u4ee3\u7801"),type:"string",required:!0,unique:!0,validator:function(){var e=Object(c["a"])(r.a.mark(function e(t,a){var n,c,i,s;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(c=/^[A-Z0-9][A-Z0-9-_.\/]*$/,c.test(t)){e.next=3;break}return e.abrupt("return",l["a"].get("hzero.common.validation.codeUpper").d("\u5168\u5927\u5199\u53ca\u6570\u5b57\uff0c\u5fc5\u987b\u4ee5\u5b57\u6bcd\u3001\u6570\u5b57\u5f00\u5934\uff0c\u53ef\u5305\u542b\u201c-\u201d\u3001\u201c_\u201d\u3001\u201c.\u201d\u3001\u201c/\u201d"));case 3:return n={},Object(o["a"])(n,a,t),Object(o["a"])(n,"level",Object(p["z"])()?"organization":"site"),Object(o["a"])(n,"tenantId",f),i=n,e.next=6,Object(m["k"])(i);case 6:if(s=e.sent,u()(s)||!s.failed||!s.message){e.next=11;break}return e.abrupt("return",l["a"].get("hiam.securityGroup.view.message.code.unique").d("\u5b89\u5168\u7ec4\u4ee3\u7801\u91cd\u590d"));case 11:if(u()(s)||!s.success){e.next=13;break}return e.abrupt("return",!0);case 13:case"end":return e.stop()}},e)}));function t(t,a){return e.apply(this,arguments)}return t}()},{name:"secGrpName",label:l["a"].get("hiam.securityGroup.model.securityGroup.name").d("\u5b89\u5168\u7ec4\u540d\u79f0"),type:"string",required:!0},{name:"levelMeaning",label:l["a"].get("hiam.securityGroup.model.securityGroup.level").d("\u5c42\u7ea7"),type:"string"},{name:"remark",label:l["a"].get("hiam.securityGroup.model.securityGroup.description").d("\u5b89\u5168\u7ec4\u63cf\u8ff0"),type:"string"},{name:"enabledFlag",label:l["a"].get("hiam.securityGroup.model.securityGroup.enabledFlag").d("\u662f\u5426\u542f\u7528"),type:"number",falseValue:0,trueValue:1,defaultValue:1},{name:"createRoleName",label:l["a"].get("hiam.securityGroup.model.securityGroup.secGrpSource").d("\u6765\u6e90"),type:"string"},{name:"tenantId",type:"number"}],queryFields:[{name:"secGrpCode",label:l["a"].get("hiam.securityGroup.model.securityGroup.code").d("\u5b89\u5168\u7ec4\u4ee3\u7801"),type:"string"},{name:"secGrpName",label:l["a"].get("hiam.securityGroup.model.securityGroup.name").d("\u5b89\u5168\u7ec4\u540d\u79f0"),type:"string"}]},y=function(e){return{transport:{read:function(t){var a=t.data,n=t.params;return{url:"".concat(d["h"],"/hzero/v1/sec-grps/").concat(e,"/assigned-role"),params:Object(i["a"])({},a,n),method:"get"}},destroy:function(t){var a=t.data,n=a.map(function(e){return e.id});return{url:"".concat(d["h"],"/hzero/v1/sec-grps/").concat(e,"/recycle-from-role"),data:n,method:"delete"}}},autoQuery:!0,pageSize:10,fields:[{name:"name",label:l["a"].get("hiam.roleManagement.model.roleManagement.name").d("\u89d2\u8272\u540d\u79f0"),type:"string"},{name:"parentRoleName",label:l["a"].get("hiam.roleManagement.model.roleManagement.topRole").d("\u4e0a\u7ea7\u89d2\u8272"),type:"string"},{name:"tenantName",label:l["a"].get("hiam.roleManagement.model.roleManagement.tenant").d("\u6240\u5c5e\u79df\u6237"),type:"string"}],queryFields:[{name:"name",label:l["a"].get("hiam.roleManagement.model.roleManagement.name").d("\u89d2\u8272\u540d\u79f0"),type:"string"}]}},v=function(e){return{autoQuery:!0,paging:!1,selection:!1,transport:{read:function(t){var a=t.data,n=t.params;return{url:"".concat(d["h"],"/v1").concat(h,"/sec-grps/").concat(e),params:Object(i["a"])({},a,n),method:"get"}},submit:function(e){var t=e.data;return{url:"".concat(d["h"],"/v1").concat(h,"/sec-grps"),data:t[0],method:"PUT"}}},fields:[{name:"secGrpCode",label:l["a"].get("hiam.securityGroup.model.securityGroup.code").d("\u5b89\u5168\u7ec4\u4ee3\u7801"),type:"string"},{name:"secGrpName",label:l["a"].get("hiam.securityGroup.model.securityGroup.name").d("\u5b89\u5168\u7ec4\u540d\u79f0"),type:"string",required:!0},{name:"levelMeaning",label:l["a"].get("hiam.securityGroup.model.securityGroup.level").d("\u5c42\u7ea7"),type:"string"},{name:"remark",label:l["a"].get("hiam.securityGroup.model.securityGroup.description").d("\u5b89\u5168\u7ec4\u63cf\u8ff0"),type:"string"},{name:"createRoleName",label:l["a"].get("hiam.securityGroup.model.securityGroup.secGrpSource").d("\u6765\u6e90"),type:"string"},{name:"enabledFlag",label:l["a"].get("hiam.securityGroup.model.securityGroup.enabledFlag").d("\u662f\u5426\u542f\u7528"),type:"number",falseValue:0,trueValue:1,defaultValue:1},{name:"tenantId",type:"number"}],queryFields:[{name:"secGrpCode",label:l["a"].get("hiam.securityGroup.model.securityGroup.code").d("\u5b89\u5168\u7ec4\u4ee3\u7801"),type:"string"},{name:"secGrpName",label:l["a"].get("hiam.securityGroup.model.securityGroup.name").d("\u5b89\u5168\u7ec4\u540d\u79f0"),type:"string"}]}},O={pageSize:10,selection:!1,autoQuery:!0,primaryKey:"id",fields:[{name:"serviceName",label:l["a"].get("hiam.roleManagement.model.api.serviceName").d("\u670d\u52a1\u540d"),type:"string"},{name:"filedCount",label:l["a"].get("hiam.roleManagement.model.api.filedCount").d("\u5df2\u914d\u7f6e"),type:"number"},{name:"method",label:l["a"].get("hiam.roleManagement.model.api.method").d("\u8bf7\u6c42\u65b9\u5f0f"),type:"string"},{name:"path",label:l["a"].get("hiam.roleManagement.model.api.path").d("\u8bf7\u6c42\u8def\u5f84"),type:"string"},{name:"description",label:l["a"].get("hiam.roleManagement.model.api.description").d("\u8bf7\u6c42\u63cf\u8ff0"),type:"string"}],queryFields:[{name:"serviceName",label:l["a"].get("hiam.roleManagement.model.api.serviceName").d("\u670d\u52a1\u540d"),type:"string"},{name:"method",label:l["a"].get("hiam.roleManagement.model.api.method").d("\u8bf7\u6c42\u65b9\u5f0f"),type:"string"},{name:"path",label:l["a"].get("hiam.roleManagement.model.api.path").d("\u8bf7\u6c42\u8def\u5f84"),type:"string"},{name:"description",label:l["a"].get("hiam.roleManagement.model.api.description").d("\u8bf7\u6c42\u63cf\u8ff0"),type:"string"}]},j={pageSize:10,selection:!1,autoQuery:!0,fields:[{name:"fieldLov",label:l["a"].get("hiam.roleManagement.model.fieldPermission.fieldName").d("\u5b57\u6bb5\u540d\u79f0"),type:"object",lovCode:"HIAM.SEC_GRP.FIELD.ASSIGNABLE",required:!0,ignore:"always"},{name:"fieldId",type:"number",bind:"fieldLov.fieldId",unique:!0},{name:"fieldName",label:l["a"].get("hiam.roleManagement.model.fieldPermission.fieldName").d("\u5b57\u6bb5\u540d\u79f0"),type:"string",bind:"fieldLov.fieldName",ignore:"always"},{name:"fieldTypeMeaning",label:l["a"].get("hiam.roleManagement.model.fieldPermission.fieldType").d("\u5b57\u6bb5\u7c7b\u578b"),type:"string",lookupCode:"HIAM.FIELD.TYPE",bind:"fieldLov.fieldType"},{name:"permissionType",label:l["a"].get("hiam.roleManagement.model.fieldPermission.rule").d("\u6743\u9650\u89c4\u5219"),type:"string",lookupCode:"HIAM.FIELD.PERMISSION_TYPE",required:!0},{name:"permissionTypeMeaning",ignore:"always"},{name:"permissionRule",label:l["a"].get("hiam.roleManagement.model.fieldPermission.desensitize").d("\u8131\u654f\u89c4\u5219"),type:"string",dynamicProps:{required:function(e){var t=e.record;return"DESENSITIZE"===t.get("permissionType")}}},{name:"remark",label:l["a"].get("hiam.securityGroup.model.securityGroup.remark").d("\u8bf4\u660e"),type:"string"},{name:"editing",type:"boolean",ignore:"always"}],queryFields:[{name:"fieldDescription",label:l["a"].get("hiam.roleManagement.model.fieldPermission.fieldName").d("\u5b57\u6bb5\u540d\u79f0"),type:"string"},{name:"permissionType",label:l["a"].get("hiam.roleManagement.model.fieldPermission.rule").d("\u6743\u9650\u89c4\u5219"),type:"string",lookupCode:"HIAM.FIELD.PERMISSION_TYPE"}]},w={pageSize:10,autoQuery:!0,fields:[{name:"cardLov",label:l["a"].get("hiam.roleManagement.model.tenantAssignCards.cardCode").d("\u5361\u7247\u4ee3\u7801"),type:"object",lovCode:Object(p["z"])()?"HPFM.ROLE_ASSIGN_CARD.ORG":"HPFM.ROLE_ASSIGN_CARD",lovPara:Object(p["z"])()?{tenantId:f}:{},ignore:"always",required:!0},{name:"cardId",type:"number",bind:"cardLov.cardId"},{name:"code",label:l["a"].get("hiam.roleManagement.model.tenantAssignCards.cardCode").d("\u5361\u7247\u4ee3\u7801"),type:"string",bind:"cardLov.code"},{name:"name",label:l["a"].get("hiam.roleManagement.model.tenantAssignCards.cardName").d("\u5361\u7247\u540d\u79f0"),type:"string",bind:"cardLov.name"},{name:"catalogMeaning",label:l["a"].get("hiam.roleManagement.model.tenantAssignCards.cardType").d("\u5361\u7247\u7c7b\u522b"),type:"string",bind:"cardLov.catalogMeaning"},{name:"h",label:l["a"].get("hiam.roleManagement.model.tenantAssignCards.cardH").d("\u9ad8\u5ea6"),type:"number",bind:"cardLov.h"},{name:"w",label:l["a"].get("hiam.roleManagement.model.tenantAssignCards.cardW").d("\u957f\u5ea6"),type:"number",bind:"cardLov.w"},{name:"x",label:l["a"].get("hiam.roleManagement.model.tenantAssignCards.cardX").d("\u4f4d\u7f6eX"),type:"number",required:!0,step:1,min:0,max:g},{name:"y",label:l["a"].get("hiam.roleManagement.model.tenantAssignCards.cardY").d("\u4f4d\u7f6eY"),type:"number",required:!0,step:1,min:0,max:g},{name:"defaultDisplayFlag",label:l["a"].get("hiam.securityGroup.model.securityGroup.defaultDisplayFlag").d("\u662f\u5426\u521d\u59cb\u5316"),type:"number",falseValue:0,trueValue:1,defaultValue:1},{name:"remark",label:l["a"].get("hzero.common.explain").d("\u8bf4\u660e"),type:"string"}],queryFields:[{name:"code",label:l["a"].get("hiam.roleManagement.model.tenantAssignCards.cardCode").d("\u5361\u7247\u4ee3\u7801"),type:"string"},{name:"name",label:l["a"].get("hiam.roleManagement.model.tenantAssignCards.cardName").d("\u5361\u7247\u540d\u79f0"),type:"string"},{name:"catalogMeaning",label:l["a"].get("hiam.roleManagement.model.tenantAssignCards.cardType").d("\u5361\u7247\u7c7b\u522b"),type:"string"}]},x={pageSize:10,selection:!1,autoQuery:!0,primaryKey:"docTypeId",fields:[{name:"docTypeName",label:l["a"].get("hiam.roleManagement.model.role.docType").d("\u5355\u636e"),type:"string"},{name:"authScopeCode",label:l["a"].get("hiam.roleManagement.model.role.authRang").d("\u6743\u9650\u7ef4\u5ea6\u8303\u56f4"),type:"string",defaultValue:"BIZ",lookUpCode:"HIAM.AUTHORITY_SCOPE_CODE"},{name:"changingSourceList",type:"object"}],queryFields:[{name:"docTypeName",label:l["a"].get("hiam.roleManagement.model.role.docType").d("\u5355\u636e"),type:"string"}]},M=function(e){var t=e.secGrpId;return{transport:{read:function(e){var a=e.data,n=e.params;return{url:"".concat(d["h"],"/hzero/v1/sec-grps/").concat(t,"/page-assignable-role"),params:Object(i["a"])({},a,n),method:"get"}},submit:function(e){var a=e.data,n=a.map(function(e){return e.id});return{url:"".concat(d["h"],"/hzero/v1/sec-grps/").concat(t,"/assign-to-role"),data:n}}},autoQuery:!0,selection:!1,pageSize:10,fields:[{name:"isSelected",type:"boolean",ignore:"always"},{name:"name",label:l["a"].get("hiam.roleManagement.model.roleManagement.name").d("\u89d2\u8272\u540d\u79f0"),type:"string"},{name:"code",label:l["a"].get("hiam.roleManagement.model.roleManagement.code").d("\u89d2\u8272\u7f16\u7801"),type:"string"}],queryFields:[{name:"name",label:l["a"].get("hiam.roleManagement.model.roleManagement.name").d("\u89d2\u8272\u540d\u79f0"),type:"string"},{name:"code",label:l["a"].get("hiam.roleManagement.model.roleManagement.code").d("\u89d2\u8272\u7f16\u7801"),type:"string"}]}},k=function(e){var t=e.nameTitle,a=e.codeTitle,n=e.authorityTypeCode,r=e.secGrpId,o=e.secGrpDclId;return{transport:{read:function(e){var t=e.data,a=e.params;return{url:"".concat(d["h"],"/v1").concat(h,"/").concat(r,"/").concat(o,"/sec-grp-dcl-lines/assignable"),params:Object(i["a"])({},t,a,{authorityTypeCode:n}),method:"get"}},submit:function(e){var t=e.data;return{url:"".concat(d["h"],"/v1").concat(h,"/").concat(r,"/").concat(o,"/sec-grp-dcl-lines"),data:t}}},autoQuery:!0,selection:!1,pageSize:8,fields:[{name:"isSelected",type:"boolean",ignore:"always"},{name:"tenantName",label:l["a"].get("hzero.common.model.common.tenantId").d("\u79df\u6237"),type:"string"},{name:"dataName",label:t,type:"string"},{name:"dataCode",label:a,type:"string"},{name:"secGrpId",type:"string"}],queryFields:[{name:"dataName",label:t,type:"string"},{name:"dataCode",label:a,type:"string"}]}},G=function(e){var t=e.roleId,a=e.secGrpId;return{transport:{read:function(e){var a=e.data,n=e.params;return{url:"".concat(d["m"],"/v1").concat(h,"/dashboard-role-cards/role-assign-card"),params:Object(i["a"])({},a,n,{roleId:t}),method:"get"}},submit:function(e){var t=e.data,n=t.map(function(e){return Object(i["a"])({},e,{x:0,y:0,defaultDisplayFlag:0})});return{url:"".concat(d["h"],"/v1").concat(h,"/sec-grp-acl-dashboards/").concat(a),data:n,method:"post"}}},autoQuery:!0,selection:!1,pageSize:8,fields:[{name:"isSelected",type:"boolean",ignore:"always"},{name:"name",label:l["a"].get("hiam.roleManagement.model.roleManagement.cardName").d("\u5361\u7247\u540d\u79f0"),type:"string"},{name:"code",label:l["a"].get("hiam.roleManagement.model.roleManagement.cardCode").d("\u5361\u7247\u4ee3\u7801"),type:"string"},{name:"catalogMeaning",label:l["a"].get("hiam.roleManagement.model.roleManagement.catalogMeaning").d("\u5361\u7247\u7c7b\u578b"),type:"string"}],queryFields:[{name:"name",label:l["a"].get("hiam.roleManagement.model.roleManagement.cardName").d("\u5361\u7247\u540d\u79f0"),type:"string"},{name:"code",label:l["a"].get("hiam.roleManagement.model.roleManagement.cardCode").d("\u5361\u7247\u4ee3\u7801"),type:"string"}]}}},491:function(e,t,a){e.exports=a(0)(504)},497:function(e,t,a){e.exports=a(0)(2270)},524:function(e,t,a){"use strict";a(525)},525:function(e,t,a){"use strict";a(306),a(526)},526:function(e,t,a){e.exports={"c7n-message":"c7n-message","c7n-message-notice":"c7n-message-notice","c7n-message-notice-content":"c7n-message-notice-content","c7n-message-success":"c7n-message-success",icon:"icon","c7n-message-error":"c7n-message-error","c7n-message-warning":"c7n-message-warning","c7n-message-info":"c7n-message-info","c7n-message-loading":"c7n-message-loading","move-up-leave":"move-up-leave","move-up-leave-active":"move-up-leave-active",MessageMoveOut:"MessageMoveOut"}},536:function(e,t,a){"use strict";a(306),a(572)},537:function(e,t,a){e.exports=a(0)(2224)},551:function(e,t,a){e.exports=a(0)(2304)},572:function(e,t,a){e.exports={"c7n-pro-form-header":"c7n-pro-form-header","c7n-pro-form":"c7n-pro-form","c7n-pro-form-float-label":"c7n-pro-form-float-label","c7n-pro-field-wrapper":"c7n-pro-field-wrapper","c7n-pro-validation-message":"c7n-pro-validation-message","c7n-pro-field-help":"c7n-pro-field-help"}},574:function(e,t,a){e.exports=a(0)(2337)},635:function(e,t,a){e.exports=a(0)(1287)},65:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return _});var n,r,o,c=a(2),i=a.n(c),s=a(57),u=(a(530),a(635)),l=a.n(u),d=(a(456),a(460)),p=a.n(d),m=(a(457),a(458)),g=a.n(m),f=a(295),h=a(296),b=a(298),y=a(297),v=a(299),O=a(301),j=(a(470),a(491)),w=a.n(j),x=a(324),M=a.n(x),k=a(1),G=a.n(k),S=a(300),C=a(302),E=a(354),I=a(482),A=w.a.key(),z=(n=Object(S["Bind"])(),r=function(e){function t(e){var a;Object(f["a"])(this,t),a=Object(b["a"])(this,Object(y["a"])(t).call(this,e));var n=e.addModalOptions,r=void 0===n?{}:n,o=r.isAddRole,c=void 0!==o&&o,i=r.isAddCard,s=void 0!==i&&i;return a.addModalDS=new g.a(c?Object(I["c"])(r):s?Object(I["a"])(r):Object(I["b"])(r)),a.props.callback(a.addModalDS),a}return Object(v["a"])(t,e),Object(h["a"])(t,[{key:"handleSelectAll",value:function(e){var t=this.addModalDS.records,a=void 0===t?[]:t;M()(a)||a.forEach(function(t){t.set("isSelected",e)})}},{key:"render",value:function(){return G.a.createElement(p.a,{dataSet:this.addModalDS,columns:this.columns,queryFieldsLimit:2})}},{key:"columns",get:function(){var e=this,t=this.props.addModalOptions,a=void 0===t?{}:t,n=a.isAddRole,r=void 0!==n&&n,o=a.isAddCard,c=void 0!==o&&o,i=[{name:"isSelected",editor:!0,width:60,header:function(){return G.a.createElement(l.a,{onChange:e.handleSelectAll})}}];return[].concat(i,r?[{name:"name"},{name:"code"}]:c?[{name:"name"},{name:"code"},{name:"catalogMeaning"}]:[{name:"tenantName"},{name:"dataName"},{name:"dataCode"}])}}]),t}(k["Component"]),Object(O["a"])(r.prototype,"handleSelectAll",[n],Object.getOwnPropertyDescriptor(r.prototype,"handleSelectAll"),r.prototype),r);function T(e){o=e}function F(e){return D.apply(this,arguments)}function D(){return D=Object(s["a"])(i.a.mark(function e(t){var a;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o.submit();case 2:if(a=e.sent,M()(a)||!a.failed||!a.message){e.next=7;break}E["a"].error({message:a.message}),e.next=13;break;case 7:if(M()(a)||!a.success){e.next=12;break}return t.query(),e.abrupt("return",!0);case 12:E["a"].warning({message:C["a"].get("hzero.common.message.validation.atLeast").d("\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u6761\u6570\u636e")});case 13:return e.abrupt("return",!1);case 14:case"end":return e.stop()}},e)})),D.apply(this,arguments)}function _(e){var t=e.title,a=e.pageDataSet;w.a.open({title:t,closable:!0,key:A,children:G.a.createElement(z,{addModalOptions:e,callback:T}),destroyOnClose:!0,onOk:function(){return F(a)}})}},706:function(e,t,a){e.exports=a(0)(2271)},91:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return ee});a(456);var n,r,o,c,i,s,u,l=a(460),d=a.n(l),p=a(2),m=a.n(p),g=a(57),f=(a(388),a(401)),h=a.n(f),b=(a(536),a(537)),y=a.n(b),v=(a(496),a(574)),O=a.n(v),j=(a(550),a(706)),w=a.n(j),x=(a(464),a(497)),M=a.n(x),k=(a(494),a(551)),G=a.n(k),S=a(308),C=a(58),E=(a(457),a(458)),I=a.n(E),A=a(295),z=a(296),T=a(298),F=a(297),D=a(299),_=a(301),P=(a(470),a(491)),N=a.n(P),q=a(324),L=a.n(q),R=a(1),U=a.n(R),H=a(300),Q=a(302),V=a(292),B=a(354),Y=a(440),Z=a(291),J=a(65),K=a(482),W=N.a.key(),X=Object(Z["m"])(),$=Object(Z["z"])()?"/".concat(X):"",ee=(n=Object(H["Bind"])(),r=Object(H["Bind"])(),o=Object(H["Bind"])(),c=Object(H["Bind"])(),s=function(e){function t(){var e,a;Object(A["a"])(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a=Object(T["a"])(this,(e=Object(F["a"])(t)).call.apply(e,[this].concat(r))),a.cardDS=new I.a(Object(C["a"])({},K["e"],{selection:!!a.props.isSelf&&"multiple",transport:{read:function(e){var t=e.data,n=e.params,r=a.props,o=r.secGrpId,c=r.isSelf,i=r.roleId;return{url:c?"".concat(V["h"],"/v1").concat($,"/sec-grp-acl-dashboards/").concat(o):"".concat(V["h"],"/hzero/v1/sec-grps/").concat(i,"/assign-sec-grp/").concat(o,"/sec-grp-acl-dashboard"),params:Object(C["a"])({},t,n),method:"get"}},submit:function(e){var t=e.data,n=a.props.secGrpId,r=t[0],o=(r.__id,r._status),c=Object(S["a"])(r,["__id","_status"]);return{url:"".concat(V["h"],"/v1").concat($,"/sec-grp-acl-dashboards/").concat(n),data:c,method:"create"===o?"post":"put"}},destroy:function(e){var t=e.data,n=a.props.secGrpId;return{url:"".concat(V["h"],"/v1").concat($,"/sec-grp-acl-dashboards/").concat(n),data:t,method:"delete"}}}})),a}return Object(D["a"])(t,e),Object(z["a"])(t,[{key:"handleOpenDrawer",value:function(e){var t=this.props.isSelf,a=L()(e);a&&this.cardDS.create();var n={title:t?Q["a"].get("hiam.securityGroup.view.title.card.detail").d("\u67e5\u770b\u5361\u7247"):a?Q["a"].get("hiam.securityGroup.view.title.card.create").d("\u65b0\u5efa\u5361\u7247"):Q["a"].get("hiam.securityGroup.view.title.card.edit").d("\u7f16\u8f91\u5361\u7247"),drawer:!0,closable:!0,key:W,children:U.a.createElement(y.a,{record:this.cardDS.current,columns:1},U.a.createElement(G.a,{name:"cardLov",disabled:!a}),U.a.createElement(M.a,{name:"name",disabled:!0}),U.a.createElement(M.a,{name:"catalogMeaning",disabled:!0}),U.a.createElement(w.a,{name:"h",disabled:!0}),U.a.createElement(w.a,{name:"w",disabled:!0}),U.a.createElement(w.a,{name:"x"}),U.a.createElement(w.a,{name:"y"}),U.a.createElement(O.a,{name:"defaultDisplayFlag"}),U.a.createElement(M.a,{name:"remark"})),destroyOnClose:!0,onOk:this.handleSubmit,onCancel:this.handleCancel};t||(n.footer=U.a.createElement(h.a,{onClick:function(){u.close()}},Q["a"].get("hzero.common.button.close").d("\u5173\u95ed"))),u=N.a.open(n)}},{key:"handleSubmit",value:function(){var e=Object(g["a"])(m.a.mark(function e(){var t;return m.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.cardDS.submit();case 2:if(t=e.sent,L()(t)||!t.failed||!t.message){e.next=8;break}return B["a"].error({message:t.message}),e.abrupt("return",!1);case 8:if(L()(t)||!t.success){e.next=13;break}return this.cardDS.query(),e.abrupt("return",!0);case 13:if(!1!==t){e.next=18;break}return B["a"].error({message:Q["a"].get("hiam.securityGroup.view.message.required").d("\u5b58\u5728\u5fc5\u8f93\u5b57\u6bb5\u672a\u586b\u5199")}),e.abrupt("return",!1);case 18:return B["a"].warning({message:Q["a"].get("hiam.securityGroup.view.message.form.noChange").d("\u8868\u5355\u672a\u505a\u4fee\u6539")}),e.abrupt("return",!1);case 20:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"handleCancel",value:function(){this.cardDS.reset()}},{key:"handleOpenAddModal",value:function(){var e=this.props,t=e.secGrpId,a=e.roleId;Object(J["default"])({title:Q["a"].get("hiam.roleManagement.view.title.choseCards").d("\u9009\u62e9\u5361\u7247"),nameTitle:Q["a"].get("hiam.roleManagement.model.roleManagement.cardName").d("\u5361\u7247\u540d\u79f0"),codeTitle:Q["a"].get("hiam.roleManagement.model.roleManagement.cardCode").d("\u5361\u7247\u4ee3\u7801"),roleId:a,secGrpId:t,pageDataSet:this.cardDS,isAddCard:!0})}},{key:"render",value:function(){return U.a.createElement(d.a,{dataSet:this.cardDS,columns:this.columns,queryFieldsLimit:3,buttons:this.buttons})}},{key:"columns",get:function(){var e=this,t=this.props.isSelf;return[{name:"code",width:200},{name:"name",width:150},{name:"catalogMeaning"},{name:"h"},{name:"w"},{name:"x"},{name:"y"},{name:"defaultDisplayFlag",renderer:function(e){var t=e.value;return Object(Y["i"])(t)}},{name:"remark"},t&&{header:Q["a"].get("hzero.common.button.action").d("\u64cd\u4f5c"),width:100,command:function(t){var a=t.record;return[U.a.createElement("a",{onClick:function(){return e.handleOpenDrawer(a)}},Q["a"].get("hzero.common.button.edit").d("\u7f16\u8f91"))]},lock:"right"}].filter(Boolean)}},{key:"buttons",get:function(){var e=this,t=this.props.isSelf;return t?[["add",{onClick:function(){return e.handleOpenAddModal({})}}],["delete"]]:[]}}]),t}(R["Component"]),i=s,Object(_["a"])(i.prototype,"handleOpenDrawer",[n],Object.getOwnPropertyDescriptor(i.prototype,"handleOpenDrawer"),i.prototype),Object(_["a"])(i.prototype,"handleSubmit",[r],Object.getOwnPropertyDescriptor(i.prototype,"handleSubmit"),i.prototype),Object(_["a"])(i.prototype,"handleCancel",[o],Object.getOwnPropertyDescriptor(i.prototype,"handleCancel"),i.prototype),Object(_["a"])(i.prototype,"handleOpenAddModal",[c],Object.getOwnPropertyDescriptor(i.prototype,"handleOpenAddModal"),i.prototype),i)}}]);