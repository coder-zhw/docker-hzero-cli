(window["webpackJsonppackages_hzero_front_hagd_name_"]=window["webpackJsonppackages_hzero_front_hagd_name_"]||[]).push([[11],{14:function(a,e,t){"use strict";t.r(e);t(54),t(172);var s,n,c,g,r,i,l=t(174),d=(t(75),t(76)),o=(t(77),t(78)),u=(t(175),t(176)),p=t(56),m=t(57),f=t(59),h=t(58),v=t(60),E=t(64),x=t(1),w=t.n(x),I=t(65),y=t(62),b=t(69),N=t.n(b),k=t(55),q=t(177),D=t.n(q);t.d(e,"default",function(){return O});var O=(s=Object(I["connect"])(function(a){var e=a.loading,t=a.sagaInstance;return{sagaInstance:t,detailLoading:e.effects["sagaInstance/querySagaInstanceDetail"]}}),n=Object(y["Bind"])(),c=Object(y["Bind"])(),s((i=function(a){function e(){var a,t;Object(p["a"])(this,e);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return t=Object(f["a"])(this,(a=Object(h["a"])(e)).call.apply(a,[this].concat(n))),t.state={detail:null},t}return Object(v["a"])(e,a),Object(m["a"])(e,[{key:"componentDidMount",value:function(){this.queryInstanceDetail()}},{key:"queryInstanceDetail",value:function(){var a=this,e=this.props,t=e.dispatch,s=e.record.id;t({type:"sagaInstance/querySagaInstanceDetail",payload:{id:s}}).then(function(e){e&&a.setState({detail:e})})}},{key:"getCircle",value:function(){var a=this.props.record,e=void 0===a?{}:a,t=this.state.detail,s=e.status,n="";"FAILED"===s?n=k["a"].get("hagd.sagaInstance.model.sagaInstance.status.failed").d("\u5931\u8d25"):"COMPLETED"===s?n=k["a"].get("hagd.sagaInstance.model.sagaInstance.status.completed").d("\u5b8c\u6210"):"RUNNING"===s&&(n=k["a"].get("hagd.sagaInstance.model.sagaInstance.status.running").d("\u8fd0\u884c\u4e2d"));var c=t.completed,g=t.failed,r=t.running,i=t.queue,l=c+g+r+i,d=l>0?(c+r+i)/l*(2*Math.PI*30):0,o=l>0?(r+i)/l*(2*Math.PI*30):0,p=l>0?i/l*(2*Math.PI*30):0;return w.a.createElement("svg",{width:"80",height:"80"},w.a.createElement(u["default"],{placement:"left",content:w.a.createElement("div",null,w.a.createElement("div",{className:D.a["c7n-saga-spot c7n-saga-spot-error"]}),"".concat(k["a"].get("hagd.sagaInstance.view.title.saga.failedTitle").d("\u5931\u8d25\u4efb\u52a1"),"\uff1a").concat(g))},w.a.createElement("circle",{cx:"40",cy:"40",r:"30",strokeWidth:5,stroke:g>0?"#f44336":"#f3f3f3",className:D.a["c7n-saga-circle-error"]})),w.a.createElement(u["default"],{placement:"left",content:w.a.createElement("div",null,w.a.createElement("div",{className:D.a["c7n-saga-spot c7n-saga-spot-completed"]}),"".concat(k["a"].get("hagd.sagaInstance.view.title.saga.completedTitle").d("\u5b8c\u6210\u4efb\u52a1"),"\uff1a").concat(c))},w.a.createElement("circle",{cx:"40",cy:"40",r:"30",stroke:c>0?"#00bfa5":"#f3f3f3",className:D.a["c7n-saga-circle"],strokeDasharray:"".concat(d,", 10000")})),w.a.createElement(u["default"],{placement:"left",content:w.a.createElement("div",null,w.a.createElement("div",{className:D.a["c7n-saga-spot c7n-saga-spot-running"]}),"".concat(k["a"].get("hagd.sagaInstance.view.title.saga.runningTitle").d("\u8fdb\u884c\u4e2d\u4efb\u52a1"),"\uff1a").concat(r))},w.a.createElement("circle",{cx:"40",cy:"40",r:"30",stroke:r>0?"#4d90fe":"#f3f3f3",className:D.a["c7n-saga-circle-running"],strokeDasharray:"".concat(o,", 10000")})),w.a.createElement(u["default"],{placement:"left",content:w.a.createElement("div",null,w.a.createElement("div",{className:D.a["c7n-saga-spot c7n-saga-spot-queue"]}),"".concat(k["a"].get("hagd.sagaInstance.view.title.saga.queueTitle").d("\u7b49\u5f85\u4e2d\u4efb\u52a1"),"\uff1a").concat(i))},w.a.createElement("circle",{cx:"40",cy:"40",r:"30",stroke:i>0?"#ffb100":"#f3f3f3",className:D.a["c7n-saga-circle-queue"],strokeDasharray:"".concat(p,", 10000")})),w.a.createElement("text",{x:"50%",y:"39.5",className:D.a["c7n-saga-circle-num"]},"".concat(l-g,"/").concat(l)),w.a.createElement("text",{x:"50%",y:"54",fontSize:"12",className:D.a["c7n-saga-circle-text"]},n))}},{key:"render",value:function(){var a=this.state.detail;if(!a)return null;var e=a.id,t=a.sagaCode,s=a.description,n=a.service,c=a.level,g=a.startTime,r=a.endTime,i=a.refType,u=a.refId;return w.a.createElement(w.a.Fragment,null,w.a.createElement(d["default"],{className:D.a["saga-instance-detail"]},w.a.createElement(o["default"],{span:14},w.a.createElement(d["default"],{className:D.a["saga-instance-detail-row"]},w.a.createElement(o["default"],{span:4},"ID:"),w.a.createElement(o["default"],{span:14,className:D.a["saga-instance-detail-value"]},e)),w.a.createElement(d["default"],{className:D.a["saga-instance-detail-row"]},w.a.createElement(o["default"],{span:4},k["a"].get("hagd.sagaInstance.model.sagaInstance.saga.sagaCode").d("\u6240\u5c5e\u4e8b\u52a1\u5b9a\u4e49"),":"),w.a.createElement(o["default"],{span:14,className:D.a["saga-instance-detail-value"]},t)),w.a.createElement(d["default"],{className:D.a["saga-instance-detail-row"]},w.a.createElement(o["default"],{span:4},k["a"].get("hagd.saga.model.saga.description").d("\u63cf\u8ff0"),":"),w.a.createElement(o["default"],{span:14,className:D.a["saga-instance-detail-value"]},s)),w.a.createElement(d["default"],{className:D.a["saga-instance-detail-row"]},w.a.createElement(o["default"],{span:4},k["a"].get("hagd.sagaInstance.model.sagaInstance.saga.service").d("\u6240\u5c5e\u5fae\u670d\u52a1"),":"),w.a.createElement(o["default"],{span:14,className:D.a["saga-instance-detail-value"]},n)),w.a.createElement(d["default"],{className:D.a["saga-instance-detail-row"]},w.a.createElement(o["default"],{span:4},k["a"].get("hagd.sagaInstance.model.sagaInstance.saga.level").d("\u89e6\u53d1\u5c42\u7ea7"),":"),w.a.createElement(o["default"],{span:14,className:D.a["saga-instance-detail-value"]},c)),w.a.createElement(d["default"],{className:D.a["saga-instance-detail-row"]},w.a.createElement(o["default"],{span:4},k["a"].get("hagd.sagaInstance.model.sagaInstance.startTime").d("\u5f00\u59cb\u65f6\u95f4"),":"),w.a.createElement(o["default"],{span:4,className:D.a["saga-instance-detail-value"]},g),w.a.createElement(o["default"],{span:4},k["a"].get("hagd.sagaInstance.model.sagaInstance.saga.endTime").d("\u7ed3\u675f\u65f6\u95f4"),":"),w.a.createElement(o["default"],{span:4,className:D.a["saga-instance-detail-value"]},r))),w.a.createElement(o["default"],{span:10},this.getCircle())),w.a.createElement(l["default"],{orientation:"left"},w.a.createElement("span",{style:{fontSize:12}},k["a"].get("hagd.sagaInstance.view.title.ref").d("\u5173\u8054\u4e1a\u52a1"))),w.a.createElement(d["default"],null,w.a.createElement(o["default"],{span:14},w.a.createElement(d["default"],{className:D.a["saga-instance-detail-row"]},w.a.createElement(o["default"],{span:4},k["a"].get("hagd.sagaInstance.model.sagaInstance.refType").d("\u5173\u8054\u4e8b\u52a1\u7c7b\u578b"),":"),w.a.createElement(o["default"],{span:14,className:D.a["saga-instance-detail-value"]},i)),w.a.createElement(d["default"],{className:D.a["saga-instance-detail-row"]},w.a.createElement(o["default"],{span:4},k["a"].get("hagd.sagaInstance.model.sagaInstance.refId").d("\u5173\u8054\u4e1a\u52a1ID"),":"),w.a.createElement(o["default"],{span:14,className:N()(D.a["saga-instance-detail-value"],D.a["c7n-saga-expand-row"])},u)))))}}]),e}(x["Component"]),r=i,Object(E["a"])(r.prototype,"queryInstanceDetail",[n],Object.getOwnPropertyDescriptor(r.prototype,"queryInstanceDetail"),r.prototype),Object(E["a"])(r.prototype,"getCircle",[c],Object.getOwnPropertyDescriptor(r.prototype,"getCircle"),r.prototype),g=r))||g)},172:function(a,e,t){a.exports={"ant-divider":"ant-divider","ant-divider-vertical":"ant-divider-vertical","ant-divider-horizontal":"ant-divider-horizontal","ant-divider-with-text":"ant-divider-with-text","ant-divider-with-text-left":"ant-divider-with-text-left","ant-divider-with-text-right":"ant-divider-with-text-right","ant-divider-inner-text":"ant-divider-inner-text","ant-divider-dashed":"ant-divider-dashed"}},174:function(a,e,t){a.exports=t(0)(1145)},175:function(a,e,t){a.exports=t(0)(2095)},176:function(a,e,t){a.exports=t(0)(1156)},177:function(a,e,t){a.exports={"saga-instance-detail":"hagd-routes-saga-instance-saga-saga-saga-instance-detail","saga-instance-detail-row":"hagd-routes-saga-instance-saga-saga-saga-instance-detail-row","saga-instance-detail-value":"hagd-routes-saga-instance-saga-saga-saga-instance-detail-value","c7n-saga-instance":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-instance","c7n-saga-expand-circle":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-expand-circle","c7n-saga-expand-row":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-expand-row","c7n-saga-expand-row-divider":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-expand-row-divider","c7n-saga-instance-status":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-instance-status",failed:"hagd-routes-saga-instance-saga-saga-failed",running:"hagd-routes-saga-instance-saga-saga-running",completed:"hagd-routes-saga-instance-saga-saga-completed",queue:"hagd-routes-saga-instance-saga-saga-queue","c7n-saga-instance-btns":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-instance-btns",text:"hagd-routes-saga-instance-saga-saga-text",active:"hagd-routes-saga-instance-saga-saga-active","c7n-saga-instance-sidebar":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-instance-sidebar","ant-modal-sidebar":"hagd-routes-saga-instance-saga-saga-ant-modal-sidebar","ant-modal-body":"hagd-routes-saga-instance-saga-saga-ant-modal-body","c7n-saga-instance-refid":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-instance-refid","c7n-saga-instance-table":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-instance-table","ant-table-expanded-row":"hagd-routes-saga-instance-saga-saga-ant-table-expanded-row","ant-table-row-expand-icon-cell":"hagd-routes-saga-instance-saga-saga-ant-table-row-expand-icon-cell","ant-table-row-expand-icon":"hagd-routes-saga-instance-saga-saga-ant-table-row-expand-icon","c7n-saga-status-wrap":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-status-wrap","c7n-saga-status-content":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-status-content","c7n-saga-status-text":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-status-text","c7n-saga-status-num":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-status-num","c7n-saga-sync-wrap":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-sync-wrap","c7n-saga-error-icon":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-error-icon","c7n-saga-sync-icon":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-sync-icon","ant-progress-rotate":"hagd-routes-saga-instance-saga-saga-ant-progress-rotate","c7n-saga-status-completed":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-status-completed","c7n-saga-status-running":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-status-running","c7n-saga-status-stopped":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-status-stopped","c7n-saga-status-failed":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-status-failed","c7n-space-first":"hagd-routes-saga-instance-saga-saga-c-7-n-space-first","c7n-external-link-content":"hagd-routes-saga-instance-saga-saga-c-7-n-external-link-content","c7n-saga-circle":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-circle","c7n-saga-circle-running":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-circle-running","c7n-saga-circle-queue":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-circle-queue","c7n-saga-circle-error":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-circle-error","c7n-saga-circle-num":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-circle-num","c7n-saga-circle-text":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-circle-text","c7n-saga-spot":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-spot","c7n-saga-spot-error":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-spot-error","c7n-saga-spot-completed":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-spot-completed","c7n-saga-spot-running":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-spot-running","c7n-saga-spot-queue":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-spot-queue","c7n-iam-link-icon":"hagd-routes-saga-instance-saga-saga-c-7-n-iam-link-icon"}},54:function(a,e,t){a.exports=t(0)(198)},55:function(a,e,t){"use strict";var s=t(68),n=t.n(s);e["a"]=n.a,window.intl=n.a},62:function(a,e,t){a.exports=t(51)(2563)},65:function(a,e,t){a.exports=t(0)(1761)},68:function(a,e,t){a.exports=t(51)(2648)},69:function(a,e,t){a.exports=t(0)(3)},75:function(a,e,t){"use strict";t(54),t(67)},76:function(a,e,t){a.exports=t(0)(261)},77:function(a,e,t){"use strict";t(54),t(67)},78:function(a,e,t){a.exports=t(0)(144)}}]);