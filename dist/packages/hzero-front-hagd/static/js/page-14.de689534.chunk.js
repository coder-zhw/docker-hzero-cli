(window["webpackJsonppackages_hzero_front_hagd_name_"]=window["webpackJsonppackages_hzero_front_hagd_name_"]||[]).push([[13],[,,,,,,,,,,,,,,function(a,e,t){"use strict";t.r(e);t(54),t(172);var n,s,c,r,g,i,o=t(174),l=(t(75),t(76)),d=(t(77),t(78)),u=(t(175),t(176)),p=t(56),f=t(57),m=t(59),h=t(58),x=t(60),v=t(64),I=t(1),E=t.n(I),w=t(65),y=t(62),b=t(69),N=t.n(b),k=t(55),O=t(177),D=t.n(O);t.d(e,"default",function(){return j});var j=(n=Object(w["connect"])(function(a){var e=a.loading,t=a.sagaInstance;return{sagaInstance:t,detailLoading:e.effects["sagaInstance/querySagaInstanceDetail"]}}),s=Object(y["Bind"])(),c=Object(y["Bind"])(),n((i=function(a){function e(){var a,t;Object(p["a"])(this,e);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return t=Object(m["a"])(this,(a=Object(h["a"])(e)).call.apply(a,[this].concat(s))),t.state={detail:null},t}return Object(x["a"])(e,a),Object(f["a"])(e,[{key:"componentDidMount",value:function(){this.queryInstanceDetail()}},{key:"queryInstanceDetail",value:function(){var a=this,e=this.props,t=e.dispatch,n=e.record.id;t({type:"sagaInstance/querySagaInstanceDetail",payload:{id:n}}).then(function(e){e&&a.setState({detail:e})})}},{key:"getCircle",value:function(){var a=this.props.record,e=void 0===a?{}:a,t=this.state.detail,n=e.status,s="";"FAILED"===n?s=k["a"].get("hagd.sagaInstance.model.sagaInstance.status.failed").d("\u5931\u8d25"):"COMPLETED"===n?s=k["a"].get("hagd.sagaInstance.model.sagaInstance.status.completed").d("\u5b8c\u6210"):"RUNNING"===n&&(s=k["a"].get("hagd.sagaInstance.model.sagaInstance.status.running").d("\u8fd0\u884c\u4e2d"));var c=t.completed,r=t.failed,g=t.running,i=t.queue,o=c+r+g+i,l=o>0?(c+g+i)/o*(2*Math.PI*30):0,d=o>0?(g+i)/o*(2*Math.PI*30):0,p=o>0?i/o*(2*Math.PI*30):0;return E.a.createElement("svg",{width:"80",height:"80"},E.a.createElement(u["default"],{placement:"left",content:E.a.createElement("div",null,E.a.createElement("div",{className:D.a["c7n-saga-spot c7n-saga-spot-error"]}),"".concat(k["a"].get("hagd.sagaInstance.view.title.saga.failedTitle").d("\u5931\u8d25\u4efb\u52a1"),"\uff1a").concat(r))},E.a.createElement("circle",{cx:"40",cy:"40",r:"30",strokeWidth:5,stroke:r>0?"#f44336":"#f3f3f3",className:D.a["c7n-saga-circle-error"]})),E.a.createElement(u["default"],{placement:"left",content:E.a.createElement("div",null,E.a.createElement("div",{className:D.a["c7n-saga-spot c7n-saga-spot-completed"]}),"".concat(k["a"].get("hagd.sagaInstance.view.title.saga.completedTitle").d("\u5b8c\u6210\u4efb\u52a1"),"\uff1a").concat(c))},E.a.createElement("circle",{cx:"40",cy:"40",r:"30",stroke:c>0?"#00bfa5":"#f3f3f3",className:D.a["c7n-saga-circle"],strokeDasharray:"".concat(l,", 10000")})),E.a.createElement(u["default"],{placement:"left",content:E.a.createElement("div",null,E.a.createElement("div",{className:D.a["c7n-saga-spot c7n-saga-spot-running"]}),"".concat(k["a"].get("hagd.sagaInstance.view.title.saga.runningTitle").d("\u8fdb\u884c\u4e2d\u4efb\u52a1"),"\uff1a").concat(g))},E.a.createElement("circle",{cx:"40",cy:"40",r:"30",stroke:g>0?"#4d90fe":"#f3f3f3",className:D.a["c7n-saga-circle-running"],strokeDasharray:"".concat(d,", 10000")})),E.a.createElement(u["default"],{placement:"left",content:E.a.createElement("div",null,E.a.createElement("div",{className:D.a["c7n-saga-spot c7n-saga-spot-queue"]}),"".concat(k["a"].get("hagd.sagaInstance.view.title.saga.queueTitle").d("\u7b49\u5f85\u4e2d\u4efb\u52a1"),"\uff1a").concat(i))},E.a.createElement("circle",{cx:"40",cy:"40",r:"30",stroke:i>0?"#ffb100":"#f3f3f3",className:D.a["c7n-saga-circle-queue"],strokeDasharray:"".concat(p,", 10000")})),E.a.createElement("text",{x:"50%",y:"39.5",className:D.a["c7n-saga-circle-num"]},"".concat(o-r,"/").concat(o)),E.a.createElement("text",{x:"50%",y:"54",fontSize:"12",className:D.a["c7n-saga-circle-text"]},s))}},{key:"render",value:function(){var a=this.state.detail;if(!a)return null;var e=a.id,t=a.sagaCode,n=a.description,s=a.service,c=a.level,r=a.startTime,g=a.endTime,i=a.refType,u=a.refId;return E.a.createElement(E.a.Fragment,null,E.a.createElement(l["default"],{className:D.a["saga-instance-detail"]},E.a.createElement(d["default"],{span:14},E.a.createElement(l["default"],{className:D.a["saga-instance-detail-row"]},E.a.createElement(d["default"],{span:4},"ID:"),E.a.createElement(d["default"],{span:14,className:D.a["saga-instance-detail-value"]},e)),E.a.createElement(l["default"],{className:D.a["saga-instance-detail-row"]},E.a.createElement(d["default"],{span:4},k["a"].get("hagd.sagaInstance.model.sagaInstance.saga.sagaCode").d("\u6240\u5c5e\u4e8b\u52a1\u5b9a\u4e49"),":"),E.a.createElement(d["default"],{span:14,className:D.a["saga-instance-detail-value"]},t)),E.a.createElement(l["default"],{className:D.a["saga-instance-detail-row"]},E.a.createElement(d["default"],{span:4},k["a"].get("hagd.saga.model.saga.description").d("\u63cf\u8ff0"),":"),E.a.createElement(d["default"],{span:14,className:D.a["saga-instance-detail-value"]},n)),E.a.createElement(l["default"],{className:D.a["saga-instance-detail-row"]},E.a.createElement(d["default"],{span:4},k["a"].get("hagd.sagaInstance.model.sagaInstance.saga.service").d("\u6240\u5c5e\u5fae\u670d\u52a1"),":"),E.a.createElement(d["default"],{span:14,className:D.a["saga-instance-detail-value"]},s)),E.a.createElement(l["default"],{className:D.a["saga-instance-detail-row"]},E.a.createElement(d["default"],{span:4},k["a"].get("hagd.sagaInstance.model.sagaInstance.saga.level").d("\u89e6\u53d1\u5c42\u7ea7"),":"),E.a.createElement(d["default"],{span:14,className:D.a["saga-instance-detail-value"]},c)),E.a.createElement(l["default"],{className:D.a["saga-instance-detail-row"]},E.a.createElement(d["default"],{span:4},k["a"].get("hagd.sagaInstance.model.sagaInstance.startTime").d("\u5f00\u59cb\u65f6\u95f4"),":"),E.a.createElement(d["default"],{span:4,className:D.a["saga-instance-detail-value"]},r),E.a.createElement(d["default"],{span:4},k["a"].get("hagd.sagaInstance.model.sagaInstance.saga.endTime").d("\u7ed3\u675f\u65f6\u95f4"),":"),E.a.createElement(d["default"],{span:4,className:D.a["saga-instance-detail-value"]},g))),E.a.createElement(d["default"],{span:10},this.getCircle())),E.a.createElement(o["default"],{orientation:"left"},E.a.createElement("span",{style:{fontSize:12}},k["a"].get("hagd.sagaInstance.view.title.ref").d("\u5173\u8054\u4e1a\u52a1"))),E.a.createElement(l["default"],null,E.a.createElement(d["default"],{span:14},E.a.createElement(l["default"],{className:D.a["saga-instance-detail-row"]},E.a.createElement(d["default"],{span:4},k["a"].get("hagd.sagaInstance.model.sagaInstance.refType").d("\u5173\u8054\u4e8b\u52a1\u7c7b\u578b"),":"),E.a.createElement(d["default"],{span:14,className:D.a["saga-instance-detail-value"]},i)),E.a.createElement(l["default"],{className:D.a["saga-instance-detail-row"]},E.a.createElement(d["default"],{span:4},k["a"].get("hagd.sagaInstance.model.sagaInstance.refId").d("\u5173\u8054\u4e1a\u52a1ID"),":"),E.a.createElement(d["default"],{span:14,className:N()(D.a["saga-instance-detail-value"],D.a["c7n-saga-expand-row"])},u)))))}}]),e}(I["Component"]),g=i,Object(v["a"])(g.prototype,"queryInstanceDetail",[s],Object.getOwnPropertyDescriptor(g.prototype,"queryInstanceDetail"),g.prototype),Object(v["a"])(g.prototype,"getCircle",[c],Object.getOwnPropertyDescriptor(g.prototype,"getCircle"),g.prototype),r=g))||r)},,,,,function(a,e,t){"use strict";t.r(e),t.d(e,"default",function(){return y});t(149);var n,s,c=t(139),r=(t(71),t(72)),g=t(56),i=t(57),o=t(59),l=t(58),d=t(60),u=t(64),p=t(1),f=t.n(p),m=t(83),h=t.n(m),x=t(62),v=t(55),I=t(154),E=t(63),w=t(14),y=(n=Object(x["Bind"])(),s=function(a){function e(){return Object(g["a"])(this,e),Object(o["a"])(this,Object(l["a"])(e).apply(this,arguments))}return Object(d["a"])(e,a),Object(i["a"])(e,[{key:"handleShowDetail",value:function(a){var e=this.props.showDetail,t=void 0===e?function(a){return a}:e;t(a)}},{key:"render",value:function(){var a=this,e=this.props,t=e.loading,n=e.dataSource,s=e.onChange,g=e.pagination,i=[{title:v["a"].get("hagd.sagaInstance.model.sagaInstance.status").d("\u72b6\u6001"),dataIndex:"status",width:150,render:function(a){var e="",t={};switch(a){case"FAILED":e=v["a"].get("hagd.sagaInstance.model.sagaInstance.status.failed").d("\u5931\u8d25"),t={type:"close-circle-o",style:{color:"#f44336",marginRight:4}};break;case"COMPLETED":e=v["a"].get("hagd.sagaInstance.model.sagaInstance.status.completed").d("\u5b8c\u6210"),t={type:"check-circle-o",style:{color:"#00bfa5",marginRight:4}};break;case"RUNNING":e=v["a"].get("hagd.sagaInstance.model.sagaInstance.status.running").d("\u8fd0\u884c\u4e2d"),t={type:"dashboard",style:{color:"#4d90fe",marginRight:4}};break;case"NON_CONSUMER":e=v["a"].get("hagd.sagaInstance.model.sagaInstance.status.nonConsumer").d("\u672a\u6d88\u8d39"),t={type:"close-circle-o",style:{color:"#f44336",marginRight:4}};break;default:break}return f.a.createElement("div",null,f.a.createElement(r["default"],t),e)}},{title:v["a"].get("hagd.sagaInstance.model.sagaInstance.sagaCode").d("\u4e8b\u52a1\u5b9e\u4f8b"),dataIndex:"sagaCode"},{title:v["a"].get("hagd.sagaInstance.model.sagaInstance.startTime").d("\u5f00\u59cb\u65f6\u95f4"),dataIndex:"startTime",width:120,render:function(a){return f.a.createElement("span",null,h()(a).format(Object(E["h"])()))}},{title:v["a"].get("hagd.sagaInstance.model.sagaInstance.refType").d("\u5173\u8054\u4e8b\u52a1\u7c7b\u578b"),dataIndex:"refType",width:200},{title:v["a"].get("hagd.sagaInstance.model.sagaInstance.refId").d("\u5173\u8054\u4e1a\u52a1ID"),dataIndex:"refId",width:200},{title:v["a"].get("hzero.common.button.action").d("\u64cd\u4f5c"),width:150,render:function(e,t){var n=[{key:"btnDetail",ele:f.a.createElement("span",{className:"action-link"},f.a.createElement("a",{onClick:function(){return a.handleShowDetail(t)}},v["a"].get("hagd.sagaInstance.view.title.btnDetail").d("\u8fd0\u884c\u8be6\u60c5"))),len:4,title:v["a"].get("hagd.sagaInstance.view.title.btnDetail").d("\u8fd0\u884c\u8be6\u60c5")}];return Object(I["b"])(n,t,{limit:2})}}];return f.a.createElement(c["default"],{bordered:!0,rowKey:"id",loading:t,dataSource:n,columns:i,scroll:{x:Object(E["t"])(i)},expandedRowRender:function(a){return f.a.createElement(w["default"],{record:a})},onChange:s,pagination:g})}}]),e}(f.a.Component),Object(u["a"])(s.prototype,"handleShowDetail",[n],Object.getOwnPropertyDescriptor(s.prototype,"handleShowDetail"),s.prototype),s)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(a,e,t){a.exports=t(0)(198)},,,,,,,function(a,e,t){a.exports=t(0)(1169)},function(a,e,t){a.exports=t(51)(2563)},,,function(a,e,t){a.exports=t(0)(1761)},,,function(a,e,t){a.exports=t(51)(2648)},function(a,e,t){a.exports=t(0)(3)},function(a,e,t){a.exports=t(0)(82)},function(a,e,t){a.exports=t(0)(1168)},function(a,e,t){a.exports=t(0)(37)},function(a,e,t){a.exports=t(0)(1155)},,function(a,e,t){"use strict";t(54),t(67)},function(a,e,t){a.exports=t(0)(261)},function(a,e,t){"use strict";t(54),t(67)},function(a,e,t){a.exports=t(0)(144)},,,,,function(a,e,t){a.exports=t(0)(34)},function(a,e,t){a.exports=t(0)(325)},function(a,e,t){a.exports=t(0)(829)},,function(a,e,t){a.exports=t(0)(1167)},function(a,e,t){a.exports=t(0)(182)},function(a,e,t){a.exports=t(0)(116)},,,,function(a,e,t){a.exports=t(51)(2662)},function(a,e,t){a.exports=t(0)(241)},function(a,e,t){a.exports=t(0)(151)},function(a,e,t){a.exports=t(0)(604)},function(a,e,t){a.exports=t(51)(1367)},function(a,e,t){a.exports=t(0)(127)},function(a,e,t){a.exports=t(0)(2092)},function(a,e,t){a.exports=t(0)(484)},function(a,e,t){a.exports=t(0)(274)},function(a,e,t){a.exports=t(0)(2129)},function(a,e,t){a.exports=t(0)(235)},function(a,e,t){a.exports=t(0)(209)},function(a,e,t){a.exports=t(0)(849)},function(a,e,t){a.exports=t(0)(328)},function(a,e,t){a.exports=t(0)(270)},function(a,e,t){a.exports=t(0)(170)},function(a,e,t){a.exports=t(0)(324)},function(a,e,t){a.exports=t(0)(386)},function(a,e,t){a.exports=t(0)(387)},function(a,e,t){a.exports=t(0)(868)},function(a,e,t){a.exports=t(0)(385)},function(a,e,t){a.exports=t(0)(156)},function(a,e,t){a.exports=t(0)(255)},function(a,e,t){a.exports=t(0)(1960)},function(a,e,t){a.exports=t(0)(298)},function(a,e,t){a.exports=t(0)(661)},function(a,e,t){a.exports=t(0)(1132)},function(a,e,t){a.exports=t(0)(130)},function(a,e,t){a.exports=t(0)(580)},function(a,e,t){a.exports=t(0)(582)},function(a,e,t){a.exports=t(0)(128)},function(a,e,t){a.exports=t(0)(108)},function(a,e,t){a.exports=t(0)(472)},function(a,e,t){a.exports=t(0)(873)},function(a,e,t){a.exports=t(0)(2130)},,,,,,,,,,,,function(a,e,t){a.exports=t(0)(1161)},,,,,,,,,,,,,function(a,e,t){a.exports=t(0)(1974)},,,,,,,,,,,,,,,,,,,,function(a,e,t){a.exports={"ant-divider":"ant-divider","ant-divider-vertical":"ant-divider-vertical","ant-divider-horizontal":"ant-divider-horizontal","ant-divider-with-text":"ant-divider-with-text","ant-divider-with-text-left":"ant-divider-with-text-left","ant-divider-with-text-right":"ant-divider-with-text-right","ant-divider-inner-text":"ant-divider-inner-text","ant-divider-dashed":"ant-divider-dashed"}},,function(a,e,t){a.exports=t(0)(1145)},function(a,e,t){a.exports=t(0)(2095)},function(a,e,t){a.exports=t(0)(1156)},function(a,e,t){a.exports={"saga-instance-detail":"hagd-routes-saga-instance-saga-saga-saga-instance-detail","saga-instance-detail-row":"hagd-routes-saga-instance-saga-saga-saga-instance-detail-row","saga-instance-detail-value":"hagd-routes-saga-instance-saga-saga-saga-instance-detail-value","c7n-saga-instance":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-instance","c7n-saga-expand-circle":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-expand-circle","c7n-saga-expand-row":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-expand-row","c7n-saga-expand-row-divider":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-expand-row-divider","c7n-saga-instance-status":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-instance-status",failed:"hagd-routes-saga-instance-saga-saga-failed",running:"hagd-routes-saga-instance-saga-saga-running",completed:"hagd-routes-saga-instance-saga-saga-completed",queue:"hagd-routes-saga-instance-saga-saga-queue","c7n-saga-instance-btns":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-instance-btns",text:"hagd-routes-saga-instance-saga-saga-text",active:"hagd-routes-saga-instance-saga-saga-active","c7n-saga-instance-sidebar":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-instance-sidebar","ant-modal-sidebar":"hagd-routes-saga-instance-saga-saga-ant-modal-sidebar","ant-modal-body":"hagd-routes-saga-instance-saga-saga-ant-modal-body","c7n-saga-instance-refid":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-instance-refid","c7n-saga-instance-table":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-instance-table","ant-table-expanded-row":"hagd-routes-saga-instance-saga-saga-ant-table-expanded-row","ant-table-row-expand-icon-cell":"hagd-routes-saga-instance-saga-saga-ant-table-row-expand-icon-cell","ant-table-row-expand-icon":"hagd-routes-saga-instance-saga-saga-ant-table-row-expand-icon","c7n-saga-status-wrap":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-status-wrap","c7n-saga-status-content":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-status-content","c7n-saga-status-text":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-status-text","c7n-saga-status-num":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-status-num","c7n-saga-sync-wrap":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-sync-wrap","c7n-saga-error-icon":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-error-icon","c7n-saga-sync-icon":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-sync-icon","ant-progress-rotate":"hagd-routes-saga-instance-saga-saga-ant-progress-rotate","c7n-saga-status-completed":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-status-completed","c7n-saga-status-running":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-status-running","c7n-saga-status-stopped":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-status-stopped","c7n-saga-status-failed":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-status-failed","c7n-space-first":"hagd-routes-saga-instance-saga-saga-c-7-n-space-first","c7n-external-link-content":"hagd-routes-saga-instance-saga-saga-c-7-n-external-link-content","c7n-saga-circle":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-circle","c7n-saga-circle-running":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-circle-running","c7n-saga-circle-queue":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-circle-queue","c7n-saga-circle-error":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-circle-error","c7n-saga-circle-num":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-circle-num","c7n-saga-circle-text":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-circle-text","c7n-saga-spot":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-spot","c7n-saga-spot-error":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-spot-error","c7n-saga-spot-completed":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-spot-completed","c7n-saga-spot-running":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-spot-running","c7n-saga-spot-queue":"hagd-routes-saga-instance-saga-saga-c-7-n-saga-spot-queue","c7n-iam-link-icon":"hagd-routes-saga-instance-saga-saga-c-7-n-iam-link-icon"}}]]);